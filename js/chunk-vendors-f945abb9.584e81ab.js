"use strict";(self["webpackChunksuperhero_wallet"]=self["webpackChunksuperhero_wallet"]||[]).push([[4949],{7075:function(e,t,r){var n=r(48287)["Buffer"],i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.FountainEncoderPart=void 0;const s=i(r(94148)),o=r(11774),a=r(51386),h=r(86287);class c{constructor(e,t,r,n,i){this._seqNum=e,this._seqLength=t,this._messageLength=r,this._checksum=n,this._fragment=i}get messageLength(){return this._messageLength}get fragment(){return this._fragment}get seqNum(){return this._seqNum}get seqLength(){return this._seqLength}get checksum(){return this._checksum}cbor(){const e=h.cborEncode([this._seqNum,this._seqLength,this._messageLength,this._checksum,this._fragment]);return n.from(e)}description(){return`seqNum:${this._seqNum}, seqLen:${this._seqLength}, messageLen:${this._messageLength}, checksum:${this._checksum}, data:${this._fragment.toString("hex")}`}static fromCBOR(e){const[t,r,i,o,a]=h.cborDecode(e);return s.default("number"===typeof t),s.default("number"===typeof r),s.default("number"===typeof i),s.default("number"===typeof o),s.default(n.isBuffer(a)&&a.length>0),new c(t,r,i,o,n.from(a))}}t.FountainEncoderPart=c;class u{constructor(e,t=100,r=0,n=10){const i=u.findNominalFragmentLength(e.length,n,t);this._messageLength=e.length,this._fragments=u.partitionMessage(e,i),this.fragmentLength=i,this.seqNum=o.toUint32(r),this.checksum=o.getCRC(e)}get fragmentsLength(){return this._fragments.length}get fragments(){return this._fragments}get messageLength(){return this._messageLength}isComplete(){return this.seqNum>=this._fragments.length}isSinglePart(){return 1===this._fragments.length}seqLength(){return this._fragments.length}mix(e){return e.reduce((e,t)=>o.bufferXOR(this._fragments[t],e),n.alloc(this.fragmentLength,0))}nextPart(){this.seqNum=o.toUint32(this.seqNum+1);const e=a.chooseFragments(this.seqNum,this._fragments.length,this.checksum),t=this.mix(e);return new c(this.seqNum,this._fragments.length,this._messageLength,this.checksum,t)}static findNominalFragmentLength(e,t,r){s.default(e>0),s.default(t>0),s.default(r>=t);const n=Math.ceil(e/t);let i=0;for(let s=1;s<=n;s++)if(i=Math.ceil(e/s),i<=r)break;return i}static partitionMessage(e,t){let r,i=n.from(e),s=[];while(i.length>0)[r,i]=o.split(i,-t),r=n.alloc(t,0).fill(r,0,r.length),s.push(r);return s}}t["default"]=u},11468:(e,t,r)=>{function n(e){return e instanceof ArrayBuffer||"undefined"!==typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer}function i(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):n(e)?new Uint8Array(e):Uint8Array.from(e)}r.d(t,{C:()=>i})},11774:function(e,t,r){var n=r(48287)["Buffer"],i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.bufferXOR=t.setDifference=t.arrayContains=t.arraysEqual=t.hasPrefix=t.isURType=t.intToBytes=t.toUint32=t.getCRCHex=t.getCRC=t.split=t.partition=t.sha256Hash=void 0;const s=i(r(62802)),o=r(93160),a=e=>s.default("sha256").update(e).digest();t.sha256Hash=a;const h=(e,t)=>e.match(new RegExp(".{1,"+t+"}","g"))||[e];t.partition=h;const c=(e,t)=>[e.slice(0,-t),e.slice(-t)];t.split=c;const u=e=>o.crc32(e);t.getCRC=u;const d=e=>o.crc32(e).toString(16).padStart(8,"0");t.getCRCHex=d;const f=e=>e>>>0;t.toUint32=f;const l=e=>{const t=new ArrayBuffer(4),r=new DataView(t);return r.setUint32(0,e,!1),n.from(t)};t.intToBytes=l;const p=e=>e.split("").every((t,r)=>{let n=e.charCodeAt(r);return"a".charCodeAt(0)<=n&&n<="z".charCodeAt(0)||("0".charCodeAt(0)<=n&&n<="9".charCodeAt(0)||n==="-".charCodeAt(0))});t.isURType=p;const g=(e,t)=>0===e.indexOf(t);t.hasPrefix=g;const w=(e,t)=>e.length===t.length&&e.every(e=>t.includes(e));t.arraysEqual=w;const y=(e,t)=>t.every(t=>e.includes(t));t.arrayContains=y;const m=(e,t)=>e.filter(e=>t.indexOf(e)<0);t.setDifference=m;const b=(e,t)=>{const r=Math.max(e.length,t.length),i=n.allocUnsafe(r);for(let n=0;n<r;++n)i[n]=e[n]^t[n];return i};t.bufferXOR=b},17539:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.URDecoder=t.UREncoder=t.UR=void 0;const i=n(r(64908));t.UR=i.default;const s=n(r(87814));t.UREncoder=s.default;const o=n(r(78458));t.URDecoder=o.default},20908:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InvalidChecksumError=t.InvalidSequenceComponentError=t.InvalidTypeError=t.InvalidPathLengthError=t.InvalidSchemeError=void 0;class r extends Error{constructor(){super("Invalid Scheme"),this.name="InvalidSchemeError"}}t.InvalidSchemeError=r;class n extends Error{constructor(){super("Invalid Path"),this.name="InvalidPathLengthError"}}t.InvalidPathLengthError=n;class i extends Error{constructor(){super("Invalid Type"),this.name="InvalidTypeError"}}t.InvalidTypeError=i;class s extends Error{constructor(){super("Invalid Sequence Component"),this.name="InvalidSequenceComponentError"}}t.InvalidSequenceComponentError=s;class o extends Error{constructor(){super("Invalid Checksum"),this.name="InvalidChecksumError"}}t.InvalidChecksumError=o},22184:(e,t,r)=>{r.d(t,{X:()=>n});class n extends Error{constructor(e){super(e);const t=Object.create(n.prototype);Object.setPrototypeOf(this,t),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:n.name})}}},25300:function(e,t,r){var n=r(48287)["Buffer"],i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(r(94148)),o=r(11774),a="ableacidalsoapexaquaarchatomauntawayaxisbackbaldbarnbeltbetabiasbluebodybragbrewbulbbuzzcalmcashcatschefcityclawcodecolacookcostcruxcurlcuspcyandarkdatadaysdelidicedietdoordowndrawdropdrumdulldutyeacheasyechoedgeepicevenexamexiteyesfactfairfernfigsfilmfishfizzflapflewfluxfoxyfreefrogfuelfundgalagamegeargemsgiftgirlglowgoodgraygrimgurugushgyrohalfhanghardhawkheathelphighhillholyhopehornhutsicedideaidleinchinkyintoirisironitemjadejazzjoinjoltjowljudojugsjumpjunkjurykeepkenokeptkeyskickkilnkingkitekiwiknoblamblavalazyleaflegsliarlimplionlistlogoloudloveluaulucklungmainmanymathmazememomenumeowmildmintmissmonknailnavyneednewsnextnoonnotenumbobeyoboeomitonyxopenovalowlspaidpartpeckplaypluspoempoolposepuffpumapurrquadquizraceramprealredorichroadrockroofrubyruinrunsrustsafesagascarsetssilkskewslotsoapsolosongstubsurfswantacotasktaxitenttiedtimetinytoiltombtoystriptunatwinuglyundouniturgeuservastveryvetovialvibeviewvisavoidvowswallwandwarmwaspwavewaxywebswhatwhenwhizwolfworkyankyawnyellyogayurtzapszerozestzinczonezoom";let h=[];const c=256,u=4,d=2;var f;(function(e){e["STANDARD"]="standard",e["URI"]="uri",e["MINIMAL"]="minimal"})(f||(f={}));const l=e=>a.slice(e*u,e*u+u),p=e=>{const t=l(e);return`${t[0]}${t[u-1]}`},g=e=>{const t=o.getCRCHex(n.from(e,"hex"));return`${e}${t}`},w=(e,t)=>{const r=g(e),i=n.from(r,"hex"),s=i.reduce((e,t)=>[...e,l(t)],[]);return s.join(t)},y=e=>{const t=g(e),r=n.from(t,"hex"),i=r.reduce((e,t)=>e+p(t),"");return i},m=(e,t)=>{s.default(e.length===t,"Invalid Bytewords: word.length does not match wordLength provided");const r=26;if(0===h.length){const e=r*r;h=[...new Array(e)].map(()=>-1);for(let t=0;t<c;t++){const e=l(t);let n=e[0].charCodeAt(0)-"a".charCodeAt(0),i=e[3].charCodeAt(0)-"a".charCodeAt(0),s=i*r+n;h[s]=t}}let i=e[0].toLowerCase().charCodeAt(0)-"a".charCodeAt(0),o=e[4==t?3:1].toLowerCase().charCodeAt(0)-"a".charCodeAt(0);s.default(0<=i&&i<r&&0<=o&&o<r,"Invalid Bytewords: invalid word");let a=o*r+i,d=h[a];if(s.default(-1!==d,"Invalid Bytewords: value not in lookup table"),t==u){const t=l(d);let r=e[1].toLowerCase(),n=e[2].toLowerCase();s.default(r===t[1]&&n===t[2],"Invalid Bytewords: invalid middle letters of word")}return n.from([d]).toString("hex")},b=(e,t,r)=>{const i=r==u?e.split(t):o.partition(e,2),a=i.map(e=>m(e,r)).join("");s.default(a.length>=5,"Invalid Bytewords: invalid decoded string length");const[h,c]=o.split(n.from(a,"hex"),4),d=o.getCRCHex(h);return s.default(d===c.toString("hex"),"Invalid Checksum"),h.toString("hex")},x=(e,t=f.MINIMAL)=>{switch(t){case f.STANDARD:return b(e," ",u);case f.URI:return b(e,"-",u);case f.MINIMAL:return b(e,"",d);default:throw new Error(`Invalid style ${t}`)}},v=(e,t=f.MINIMAL)=>{switch(t){case f.STANDARD:return w(e," ");case f.URI:return w(e,"-");case f.MINIMAL:return y(e);default:throw new Error(`Invalid style ${t}`)}};t["default"]={decode:x,encode:v,STYLES:f}},30571:(e,t,r)=>{var n=r(48287)["Buffer"];Object.defineProperty(t,"__esModule",{value:!0}),t.FountainDecoderPart=void 0;const i=r(11774),s=r(51386),o=r(20908);class a{constructor(e,t){this._indexes=e,this._fragment=t}get indexes(){return this._indexes}get fragment(){return this._fragment}static fromEncoderPart(e){const t=s.chooseFragments(e.seqNum,e.seqLength,e.checksum),r=e.fragment;return new a(t,r)}isSimple(){return 1===this.indexes.length}}t.FountainDecoderPart=a;class h{constructor(){this.result=void 0,this.expectedMessageLength=0,this.expectedChecksum=0,this.expectedFragmentLength=0,this.processedPartsCount=0,this.expectedPartIndexes=[],this.lastPartIndexes=[],this.queuedParts=[],this.receivedPartIndexes=[],this.mixedParts=[],this.simpleParts=[]}validatePart(e){if(0===this.expectedPartIndexes.length)[...new Array(e.seqLength)].forEach((e,t)=>this.expectedPartIndexes.push(t)),this.expectedMessageLength=e.messageLength,this.expectedChecksum=e.checksum,this.expectedFragmentLength=e.fragment.length;else{if(this.expectedPartIndexes.length!==e.seqLength)return!1;if(this.expectedMessageLength!==e.messageLength)return!1;if(this.expectedChecksum!==e.checksum)return!1;if(this.expectedFragmentLength!==e.fragment.length)return!1}return!0}reducePartByPart(e,t){if(i.arrayContains(e.indexes,t.indexes)){const r=i.setDifference(e.indexes,t.indexes),n=i.bufferXOR(e.fragment,t.fragment);return new a(r,n)}return e}reduceMixedBy(e){const t=[];this.mixedParts.map(({value:t})=>this.reducePartByPart(t,e)).forEach(e=>{e.isSimple()?this.queuedParts.push(e):t.push({key:e.indexes,value:e})}),this.mixedParts=t}processSimplePart(e){const t=e.indexes[0];if(!this.receivedPartIndexes.includes(t))if(this.simpleParts.push({key:e.indexes,value:e}),this.receivedPartIndexes.push(t),i.arraysEqual(this.receivedPartIndexes,this.expectedPartIndexes)){const e=this.simpleParts.map(({value:e})=>e).sort((e,t)=>e.indexes[0]-t.indexes[0]),t=h.joinFragments(e.map(e=>e.fragment),this.expectedMessageLength),r=i.getCRC(t);r===this.expectedChecksum?this.result=t:this.error=new o.InvalidChecksumError}else this.reduceMixedBy(e)}processMixedPart(e){if(this.mixedParts.some(({key:t})=>i.arraysEqual(t,e.indexes)))return;let t=this.simpleParts.reduce((e,{value:t})=>this.reducePartByPart(e,t),e);t=this.mixedParts.reduce((e,{value:t})=>this.reducePartByPart(e,t),t),t.isSimple()?this.queuedParts.push(t):(this.reduceMixedBy(t),this.mixedParts.push({key:t.indexes,value:t}))}processQueuedItem(){if(0===this.queuedParts.length)return;const e=this.queuedParts.shift();e.isSimple()?this.processSimplePart(e):this.processMixedPart(e)}receivePart(e){if(this.isComplete())return!1;if(!this.validatePart(e))return!1;const t=a.fromEncoderPart(e);this.lastPartIndexes=t.indexes,this.queuedParts.push(t);while(!this.isComplete()&&this.queuedParts.length>0)this.processQueuedItem();return this.processedPartsCount+=1,!0}isComplete(){return Boolean(void 0!==this.result&&this.result.length>0)}isSuccess(){return Boolean(void 0===this.error&&this.isComplete())}resultMessage(){return this.isSuccess()?this.result:n.from([])}isFailure(){return void 0!==this.error}resultError(){return this.error?this.error.message:""}expectedPartCount(){return this.expectedPartIndexes.length}getExpectedPartIndexes(){return[...this.expectedPartIndexes]}getReceivedPartIndexes(){return[...this.receivedPartIndexes]}getLastPartIndexes(){return[...this.lastPartIndexes]}estimatedPercentComplete(){if(this.isComplete())return 1;const e=this.expectedPartCount();return 0===e?0:Math.min(.99,this.processedPartsCount/(1.75*e))}getProgress(){if(this.isComplete())return 1;const e=this.expectedPartCount();return 0===e?0:this.receivedPartIndexes.length/e}}t["default"]=h,h.joinFragments=(e,t)=>n.concat(e).slice(0,t)},38293:(e,t,r)=>{r.d(t,{DO:()=>a,Id:()=>v,My:()=>u,OG:()=>U,Ph:()=>w,Q5:()=>L,aK:()=>I,aT:()=>g,aY:()=>o,dJ:()=>S,e8:()=>h,fg:()=>C,lX:()=>y,lq:()=>m,qj:()=>x,r4:()=>B,x:()=>k,z:()=>b,zW:()=>d});
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const n=BigInt(0),i=BigInt(1),s=BigInt(2);function o(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function a(e){if(!o(e))throw new Error("Uint8Array expected")}function h(e,t){if("boolean"!==typeof t)throw new Error(e+" boolean expected, got "+t)}const c=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function u(e){a(e);let t="";for(let r=0;r<e.length;r++)t+=c[e[r]];return t}function d(e){const t=e.toString(16);return 1&t.length?"0"+t:t}function f(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?n:BigInt("0x"+e)}const l={_0:48,_9:57,A:65,F:70,a:97,f:102};function p(e){return e>=l._0&&e<=l._9?e-l._0:e>=l.A&&e<=l.F?e-(l.A-10):e>=l.a&&e<=l.f?e-(l.a-10):void 0}function g(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const t=p(e.charCodeAt(s)),r=p(e.charCodeAt(s+1));if(void 0===t||void 0===r){const t=e[s]+e[s+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+s)}n[i]=16*t+r}return n}function w(e){return f(u(e))}function y(e){return a(e),f(u(Uint8Array.from(e).reverse()))}function m(e,t){return g(e.toString(16).padStart(2*t,"0"))}function b(e,t){return m(e,t).reverse()}function x(e,t,r){let n;if("string"===typeof t)try{n=g(t)}catch(s){throw new Error(e+" must be hex string or Uint8Array, cause: "+s)}else{if(!o(t))throw new Error(e+" must be hex string or Uint8Array");n=Uint8Array.from(t)}const i=n.length;if("number"===typeof r&&i!==r)throw new Error(e+" of length "+r+" expected, got "+i);return n}function v(...e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];a(r),t+=r.length}const r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){const t=e[n];r.set(t,i),i+=t.length}return r}const E=e=>"bigint"===typeof e&&n<=e;function B(e,t,r){return E(e)&&E(t)&&E(r)&&t<=e&&e<r}function I(e,t,r,n){if(!B(t,r,n))throw new Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function S(e){let t;for(t=0;e>n;e>>=i,t+=1);return t}const U=e=>(s<<BigInt(e-1))-i,A=e=>new Uint8Array(e),P=e=>Uint8Array.from(e);function C(e,t,r){if("number"!==typeof e||e<2)throw new Error("hashLen must be a number");if("number"!==typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!==typeof r)throw new Error("hmacFn must be a function");let n=A(e),i=A(e),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=(...e)=>r(i,n,...e),h=(e=A())=>{i=a(P([0]),e),n=a(),0!==e.length&&(i=a(P([1]),e),n=a())},c=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const r=[];while(e<t){n=a();const t=n.slice();r.push(t),e+=n.length}return v(...r)},u=(e,t)=>{let r;o(),h(e);while(!(r=t(c())))h();return o(),r};return u}const z={bigint:e=>"bigint"===typeof e,function:e=>"function"===typeof e,boolean:e=>"boolean"===typeof e,string:e=>"string"===typeof e,stringOrUint8Array:e=>"string"===typeof e||o(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"===typeof e&&Number.isSafeInteger(e.outputLen)};function L(e,t,r={}){const n=(t,r,n)=>{const i=z[r];if("function"!==typeof i)throw new Error("invalid validator function");const s=e[t];if((!n||void 0!==s)&&!i(s,e))throw new Error("param "+String(t)+" is invalid. Expected "+r+", got "+s)};for(const[i,s]of Object.entries(t))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return e}function k(e){const t=new WeakMap;return(r,...n)=>{const i=t.get(r);if(void 0!==i)return i;const s=e(r,...n);return t.set(r,s),s}}},41595:(e,t,r)=>{function n(e){const t=e.length;let r=0,n=0;while(n<t){let i=e.charCodeAt(n++);if(0!==(4294967168&i))if(0===(4294965248&i))r+=2;else{if(i>=55296&&i<=56319&&n<t){const t=e.charCodeAt(n);56320===(64512&t)&&(++n,i=((1023&i)<<10)+(1023&t)+65536)}r+=0===(4294901760&i)?3:4}else r++}return r}function i(e,t,r){const n=e.length;let i=r,s=0;while(s<n){let r=e.charCodeAt(s++);if(0!==(4294967168&r)){if(0===(4294965248&r))t[i++]=r>>6&31|192;else{if(r>=55296&&r<=56319&&s<n){const t=e.charCodeAt(s);56320===(64512&t)&&(++s,r=((1023&r)<<10)+(1023&t)+65536)}0===(4294901760&r)?(t[i++]=r>>12&15|224,t[i++]=r>>6&63|128):(t[i++]=r>>18&7|240,t[i++]=r>>12&63|128,t[i++]=r>>6&63|128)}t[i++]=63&r|128}else t[i++]=r}}r.d(t,{Zf:()=>u,_u:()=>p,dS:()=>n,yi:()=>h});const s=new TextEncoder,o=50;function a(e,t,r){s.encodeInto(e,t.subarray(r))}function h(e,t,r){e.length>o?a(e,t,r):i(e,t,r)}const c=4096;function u(e,t,r){let n=t;const i=n+r,s=[];let o="";while(n<i){const t=e[n++];if(0===(128&t))s.push(t);else if(192===(224&t)){const r=63&e[n++];s.push((31&t)<<6|r)}else if(224===(240&t)){const r=63&e[n++],i=63&e[n++];s.push((31&t)<<12|r<<6|i)}else if(240===(248&t)){const r=63&e[n++],i=63&e[n++],o=63&e[n++];let a=(7&t)<<18|r<<12|i<<6|o;a>65535&&(a-=65536,s.push(a>>>10&1023|55296),a=56320|1023&a),s.push(a)}else s.push(t);s.length>=c&&(o+=String.fromCharCode(...s),s.length=0)}return s.length>0&&(o+=String.fromCharCode(...s)),o}const d=new TextDecoder,f=200;function l(e,t,r){const n=e.subarray(t,t+r);return d.decode(n)}function p(e,t,r){return r>f?l(e,t,r):u(e,t,r)}},50615:(e,t,r)=>{r.d(t,{Xf:()=>w,hT:()=>g,hp:()=>y});var n=r(58030),i=r(38293);
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const s=BigInt(0),o=BigInt(1);function a(e,t){const r=t.negate();return e?r:t}function h(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function c(e,t){h(e,t);const r=Math.ceil(t/e)+1,n=2**(e-1);return{windows:r,windowSize:n}}function u(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((e,r)=>{if(!(e instanceof t))throw new Error("invalid point at index "+r)})}function d(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((e,r)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+r)})}const f=new WeakMap,l=new WeakMap;function p(e){return l.get(e)||1}function g(e,t){return{constTimeNegate:a,hasPrecomputes(e){return 1!==p(e)},unsafeLadder(t,r,n=e.ZERO){let i=t;while(r>s)r&o&&(n=n.add(i)),i=i.double(),r>>=o;return n},precomputeWindow(e,r){const{windows:n,windowSize:i}=c(r,t),s=[];let o=e,a=o;for(let t=0;t<n;t++){a=o,s.push(a);for(let e=1;e<i;e++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(r,n,i){const{windows:s,windowSize:h}=c(r,t);let u=e.ZERO,d=e.BASE;const f=BigInt(2**r-1),l=2**r,p=BigInt(r);for(let e=0;e<s;e++){const t=e*h;let r=Number(i&f);i>>=p,r>h&&(r-=l,i+=o);const s=t,c=t+Math.abs(r)-1,g=e%2!==0,w=r<0;0===r?d=d.add(a(g,n[s])):u=u.add(a(w,n[c]))}return{p:u,f:d}},wNAFUnsafe(r,n,i,a=e.ZERO){const{windows:h,windowSize:u}=c(r,t),d=BigInt(2**r-1),f=2**r,l=BigInt(r);for(let e=0;e<h;e++){const t=e*u;if(i===s)break;let r=Number(i&d);if(i>>=l,r>u&&(r-=f,i+=o),0===r)continue;let h=n[t+Math.abs(r)-1];r<0&&(h=h.negate()),a=a.add(h)}return a},getPrecomputes(e,t,r){let n=f.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&f.set(t,r(n))),n},wNAFCached(e,t,r){const n=p(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)},wNAFCachedUnsafe(e,t,r,n){const i=p(e);return 1===i?this.unsafeLadder(e,t,n):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),t,n)},setWindowSize(e,r){h(r,t),l.set(e,r),f.delete(e)}}}function w(e,t,r,n){if(u(r,e),d(n,t),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const s=e.ZERO,o=(0,i.dJ)(BigInt(r.length)),a=o>12?o-3:o>4?o-2:o?2:1,h=(1<<a)-1,c=new Array(h+1).fill(s),f=Math.floor((t.BITS-1)/a)*a;let l=s;for(let i=f;i>=0;i-=a){c.fill(s);for(let t=0;t<n.length;t++){const e=n[t],s=Number(e>>BigInt(i)&BigInt(h));c[s]=c[s].add(r[t])}let e=s;for(let t=c.length-1,r=s;t>0;t--)r=r.add(c[t]),e=e.add(r);if(l=l.add(e),0!==i)for(let t=0;t<a;t++)l=l.double()}return l}function y(e){return(0,n.jr)(e.Fp),(0,i.Q5)(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,n.LH)(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}},51386:function(e,t,r){var n=r(48287)["Buffer"],i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.chooseFragments=t.shuffle=t.chooseDegree=void 0;const s=r(11774),o=i(r(52801)),a=i(r(91284)),h=(e,t)=>{const r=[...new Array(e)].map((e,t)=>1/(t+1)),n=a.default(r,void 0,t.nextDouble);return n.next()+1};t.chooseDegree=h;const c=(e,t)=>{let r=[...e],n=[];while(r.length>0){let e=t.nextInt(0,r.length-1),i=r[e];r.splice(e,1),n.push(i)}return n};t.shuffle=c;const u=(e,r,i)=>{if(e<=r)return[e-1];{const a=n.concat([s.intToBytes(e),s.intToBytes(i)]),h=new o.default(a),c=t.chooseDegree(r,h),u=[...new Array(r)].map((e,t)=>t),d=t.shuffle(u,h);return d.slice(0,c)}};t.chooseFragments=u},52801:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(11774),s=n(r(61594)),o=n(r(75951)),a=0x10000000000000000,h=(e,t)=>o.default.bitwiseXor(o.default.asUintN(64,o.default.leftShift(e,o.default.BigInt(t))),o.default.BigInt(o.default.asUintN(64,o.default.signedRightShift(e,o.default.subtract(o.default.BigInt(64),o.default.BigInt(t))))));class c{constructor(e){this.next=()=>new s.default(this.roll().toString()),this.nextDouble=()=>new s.default(this.roll().toString()).div(a+1),this.nextInt=(e,t)=>Math.floor(this.nextDouble().toNumber()*(t-e+1)+e),this.nextByte=()=>this.nextInt(0,255),this.nextData=e=>[...new Array(e)].map(()=>this.nextByte());const t=i.sha256Hash(e);this.s=[o.default.BigInt(0),o.default.BigInt(0),o.default.BigInt(0),o.default.BigInt(0)],this.setS(t)}setS(e){for(let t=0;t<4;t++){let r=8*t,n=o.default.BigInt(0);for(let t=0;t<8;t++)n=o.default.asUintN(64,o.default.leftShift(n,o.default.BigInt(8))),n=o.default.asUintN(64,o.default.bitwiseOr(n,o.default.BigInt(e[r+t])));this.s[t]=o.default.asUintN(64,n)}}roll(){const e=o.default.asUintN(64,o.default.multiply(h(o.default.asUintN(64,o.default.multiply(this.s[1],o.default.BigInt(5))),7),o.default.BigInt(9))),t=o.default.asUintN(64,o.default.leftShift(this.s[1],o.default.BigInt(17)));return this.s[2]=o.default.asUintN(64,o.default.bitwiseXor(this.s[2],o.default.BigInt(this.s[0]))),this.s[3]=o.default.asUintN(64,o.default.bitwiseXor(this.s[3],o.default.BigInt(this.s[1]))),this.s[1]=o.default.asUintN(64,o.default.bitwiseXor(this.s[1],o.default.BigInt(this.s[2]))),this.s[0]=o.default.asUintN(64,o.default.bitwiseXor(this.s[0],o.default.BigInt(this.s[3]))),this.s[2]=o.default.asUintN(64,o.default.bitwiseXor(this.s[2],o.default.BigInt(t))),this.s[3]=o.default.asUintN(64,h(this.s[3],45)),e}}t["default"]=c},58030:(e,t,r)=>{r.d(t,{B8:()=>p,D0:()=>B,LH:()=>E,Tp:()=>S,dQ:()=>y,jr:()=>b,qy:()=>U,zH:()=>l,zi:()=>d});var n=r(38293);
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const i=BigInt(0),s=BigInt(1),o=BigInt(2),a=BigInt(3),h=BigInt(4),c=BigInt(5),u=BigInt(8);function d(e,t){const r=e%t;return r>=i?r:t+r}function f(e,t,r){if(t<i)throw new Error("invalid exponent, negatives unsupported");if(r<=i)throw new Error("invalid modulus");if(r===s)return i;let n=s;while(t>i)t&s&&(n=n*e%r),e=e*e%r,t>>=s;return n}function l(e,t,r){let n=e;while(t-- >i)n*=n,n%=r;return n}function p(e,t){if(e===i)throw new Error("invert: expected non-zero number");if(t<=i)throw new Error("invert: expected positive modulus, got "+t);let r=d(e,t),n=t,o=i,a=s,h=s,c=i;while(r!==i){const e=n/r,t=n%r,i=o-h*e,s=a-c*e;n=r,r=t,o=h,a=c,h=i,c=s}const u=n;if(u!==s)throw new Error("invert: does not exist");return d(o,t)}function g(e){const t=(e-s)/o;let r,n,a;for(r=e-s,n=0;r%o===i;r/=o,n++);for(a=o;a<e&&f(a,t,e)!==e-s;a++)if(a>1e3)throw new Error("Cannot find square root: likely non-prime P");if(1===n){const t=(e+s)/h;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}const c=(r+s)/o;return function(e,i){if(e.pow(i,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let o=n,h=e.pow(e.mul(e.ONE,a),r),u=e.pow(i,c),d=e.pow(i,r);while(!e.eql(d,e.ONE)){if(e.eql(d,e.ZERO))return e.ZERO;let t=1;for(let n=e.sqr(d);t<o;t++){if(e.eql(n,e.ONE))break;n=e.sqr(n)}const r=e.pow(h,s<<BigInt(o-t-1));h=e.sqr(r),u=e.mul(u,r),d=e.mul(d,h),o=t}return u}}function w(e){if(e%h===a){const t=(e+s)/h;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}if(e%u===c){const t=(e-c)/u;return function(e,r){const n=e.mul(r,o),i=e.pow(n,t),s=e.mul(r,i),a=e.mul(e.mul(s,o),i),h=e.mul(s,e.sub(a,e.ONE));if(!e.eql(e.sqr(h),r))throw new Error("Cannot find square root");return h}}return g(e)}const y=(e,t)=>(d(e,t)&s)===s,m=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function b(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=m.reduce((e,t)=>(e[t]="function",e),t);return(0,n.Q5)(e,r)}function x(e,t,r){if(r<i)throw new Error("invalid exponent, negatives unsupported");if(r===i)return e.ONE;if(r===s)return t;let n=e.ONE,o=t;while(r>i)r&s&&(n=e.mul(n,o)),o=e.sqr(o),r>>=s;return n}function v(e,t){const r=new Array(t.length),n=t.reduce((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n)),e.ONE),i=e.inv(n);return t.reduceRight((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n)),i),r}function E(e,t){const r=void 0!==t?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function B(e,t,r=!1,o={}){if(e<=i)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:a,nByteLength:h}=E(e,t);if(h>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let c;const u=Object.freeze({ORDER:e,isLE:r,BITS:a,BYTES:h,MASK:(0,n.OG)(a),ZERO:i,ONE:s,create:t=>d(t,e),isValid:t=>{if("bigint"!==typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return i<=t&&t<e},is0:e=>e===i,isOdd:e=>(e&s)===s,neg:t=>d(-t,e),eql:(e,t)=>e===t,sqr:t=>d(t*t,e),add:(t,r)=>d(t+r,e),sub:(t,r)=>d(t-r,e),mul:(t,r)=>d(t*r,e),pow:(e,t)=>x(u,e,t),div:(t,r)=>d(t*p(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>p(t,e),sqrt:o.sqrt||(t=>(c||(c=w(e)),c(u,t))),invertBatch:e=>v(u,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?(0,n.z)(e,h):(0,n.lq)(e,h),fromBytes:e=>{if(e.length!==h)throw new Error("Field.fromBytes: expected "+h+" bytes, got "+e.length);return r?(0,n.lX)(e):(0,n.Ph)(e)}});return Object.freeze(u)}function I(e){if("bigint"!==typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function S(e){const t=I(e);return t+Math.ceil(t/2)}function U(e,t,r=!1){const i=e.length,o=I(t),a=S(t);if(i<16||i<a||i>1024)throw new Error("expected "+a+"-1024 bytes of input, got "+i);const h=r?(0,n.lX)(e):(0,n.Ph)(e),c=d(h,t-s)+s;return r?(0,n.z)(c,o):(0,n.lq)(c,o)}},64908:(e,t,r)=>{var n=r(48287)["Buffer"];Object.defineProperty(t,"__esModule",{value:!0});const i=r(20908),s=r(11774),o=r(86287);class a{constructor(e,t="bytes"){if(this._cborPayload=e,this._type=t,!s.isURType(this._type))throw new i.InvalidTypeError}static fromBuffer(e){return new a(o.cborEncode(e))}static from(e,t){return a.fromBuffer(n.from(e,t))}decodeCBOR(){return o.cborDecode(this._cborPayload)}get type(){return this._type}get cbor(){return this._cborPayload}equals(e){return this.type===e.type&&this.cbor.equals(e.cbor)}}t["default"]=a},64942:(e,t,r)=>{r.d(t,{ev:()=>U});var n=r(67175),i=r(91510),s=r(50615),o=r(58030),a=r(38293);
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const h=BigInt(0),c=BigInt(1),u=BigInt(2),d=BigInt(8),f={zip215:!0};function l(e){const t=(0,s.hp)(e);return a.Q5(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}function p(e){const t=l(e),{Fp:r,n,prehash:i,hash:p,randomBytes:g,nByteLength:w,h:y}=t,m=u<<BigInt(8*w)-c,b=r.create,x=(0,o.D0)(t.n,t.nBitLength),v=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:r.sqrt(e*r.inv(t))}}catch(n){return{isValid:!1,value:h}}}),E=t.adjustScalarBytes||(e=>e),B=t.domain||((e,t,r)=>{if((0,a.e8)("phflag",r),t.length||r)throw new Error("Contexts/pre-hash are not supported");return e});function I(e,t){a.aK("coordinate "+e,t,h,m)}function S(e){if(!(e instanceof P))throw new Error("ExtendedPoint expected")}const U=(0,a.x)((e,t)=>{const{ex:n,ey:i,ez:s}=e,o=e.is0();null==t&&(t=o?d:r.inv(s));const a=b(n*t),u=b(i*t),f=b(s*t);if(o)return{x:h,y:c};if(f!==c)throw new Error("invZ was invalid");return{x:a,y:u}}),A=(0,a.x)(e=>{const{a:r,d:n}=t;if(e.is0())throw new Error("bad point: ZERO");const{ex:i,ey:s,ez:o,et:a}=e,h=b(i*i),c=b(s*s),u=b(o*o),d=b(u*u),f=b(h*r),l=b(u*b(f+c)),p=b(d+b(n*b(h*c)));if(l!==p)throw new Error("bad point: equation left != right (1)");const g=b(i*s),w=b(o*a);if(g!==w)throw new Error("bad point: equation left != right (2)");return!0});class P{constructor(e,t,r,n){this.ex=e,this.ey=t,this.ez=r,this.et=n,I("x",e),I("y",t),I("z",r),I("t",n),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof P)throw new Error("extended point not allowed");const{x:t,y:r}=e||{};return I("x",t),I("y",r),new P(t,r,c,b(t*r))}static normalizeZ(e){const t=r.invertBatch(e.map(e=>e.ez));return e.map((e,r)=>e.toAffine(t[r])).map(P.fromAffine)}static msm(e,t){return(0,s.Xf)(P,x,e,t)}_setWindowSize(e){L.setWindowSize(this,e)}assertValidity(){A(this)}equals(e){S(e);const{ex:t,ey:r,ez:n}=this,{ex:i,ey:s,ez:o}=e,a=b(t*o),h=b(i*n),c=b(r*o),u=b(s*n);return a===h&&c===u}is0(){return this.equals(P.ZERO)}negate(){return new P(b(-this.ex),this.ey,this.ez,b(-this.et))}double(){const{a:e}=t,{ex:r,ey:n,ez:i}=this,s=b(r*r),o=b(n*n),a=b(u*b(i*i)),h=b(e*s),c=r+n,d=b(b(c*c)-s-o),f=h+o,l=f-a,p=h-o,g=b(d*l),w=b(f*p),y=b(d*p),m=b(l*f);return new P(g,w,m,y)}add(e){S(e);const{a:r,d:n}=t,{ex:i,ey:s,ez:o,et:a}=this,{ex:c,ey:d,ez:f,et:l}=e;if(r===BigInt(-1)){const e=b((s-i)*(d+c)),t=b((s+i)*(d-c)),r=b(t-e);if(r===h)return this.double();const n=b(o*u*l),p=b(a*u*f),g=p+n,w=t+e,y=p-n,m=b(g*r),x=b(w*y),v=b(g*y),E=b(r*w);return new P(m,x,E,v)}const p=b(i*c),g=b(s*d),w=b(a*n*l),y=b(o*f),m=b((i+s)*(c+d)-p-g),x=y-w,v=y+w,E=b(g-r*p),B=b(m*x),I=b(v*E),U=b(m*E),A=b(x*v);return new P(B,I,A,U)}subtract(e){return this.add(e.negate())}wNAF(e){return L.wNAFCached(this,e,P.normalizeZ)}multiply(e){const t=e;a.aK("scalar",t,c,n);const{p:r,f:i}=this.wNAF(t);return P.normalizeZ([r,i])[0]}multiplyUnsafe(e,t=P.ZERO){const r=e;return a.aK("scalar",r,h,n),r===h?z:this.is0()||r===c?this:L.wNAFCachedUnsafe(this,r,P.normalizeZ,t)}isSmallOrder(){return this.multiplyUnsafe(y).is0()}isTorsionFree(){return L.unsafeLadder(this,n).is0()}toAffine(e){return U(this,e)}clearCofactor(){const{h:e}=t;return e===c?this:this.multiplyUnsafe(e)}static fromHex(e,n=!1){const{d:i,a:s}=t,o=r.BYTES;e=(0,a.qj)("pointHex",e,o),(0,a.e8)("zip215",n);const u=e.slice(),d=e[o-1];u[o-1]=-129&d;const f=a.lX(u),l=n?m:r.ORDER;a.aK("pointHex.y",f,h,l);const p=b(f*f),g=b(p-c),w=b(i*p-s);let{isValid:y,value:x}=v(g,w);if(!y)throw new Error("Point.fromHex: invalid y coordinate");const E=(x&c)===c,B=0!==(128&d);if(!n&&x===h&&B)throw new Error("Point.fromHex: x=0 and x_0=1");return B!==E&&(x=b(-x)),P.fromAffine({x,y:f})}static fromPrivateKey(e){return _(e).point}toRawBytes(){const{x:e,y:t}=this.toAffine(),n=a.z(t,r.BYTES);return n[n.length-1]|=e&c?128:0,n}toHex(){return a.My(this.toRawBytes())}}P.BASE=new P(t.Gx,t.Gy,c,b(t.Gx*t.Gy)),P.ZERO=new P(h,c,c,h);const{BASE:C,ZERO:z}=P,L=(0,s.hT)(P,8*w);function k(e){return(0,o.zi)(e,n)}function q(e){return k(a.lX(e))}function _(e){const t=r.BYTES;e=(0,a.qj)("private key",e,t);const n=(0,a.qj)("hashed private key",p(e),2*t),i=E(n.slice(0,t)),s=n.slice(t,2*t),o=q(i),h=C.multiply(o),c=h.toRawBytes();return{head:i,prefix:s,scalar:o,point:h,pointBytes:c}}function R(e){return _(e).pointBytes}function M(e=new Uint8Array,...t){const r=a.Id(...t);return q(p(B(r,(0,a.qj)("context",e),!!i)))}function N(e,t,s={}){e=(0,a.qj)("message",e),i&&(e=i(e));const{prefix:o,scalar:c,pointBytes:u}=_(t),d=M(s.context,o,e),f=C.multiply(d).toRawBytes(),l=M(s.context,f,u,e),p=k(d+l*c);a.aK("signature.s",p,h,n);const g=a.Id(f,a.z(p,r.BYTES));return(0,a.qj)("result",g,2*r.BYTES)}const O=f;function T(e,t,n,s=O){const{context:o,zip215:h}=s,c=r.BYTES;e=(0,a.qj)("signature",e,2*c),t=(0,a.qj)("message",t),n=(0,a.qj)("publicKey",n,c),void 0!==h&&(0,a.e8)("zip215",h),i&&(t=i(t));const u=a.lX(e.slice(c,2*c));let d,f,l;try{d=P.fromHex(n,h),f=P.fromHex(e.slice(0,c),h),l=C.multiplyUnsafe(u)}catch(w){return!1}if(!h&&d.isSmallOrder())return!1;const p=M(o,f.toRawBytes(),d.toRawBytes(),t),g=f.add(d.multiplyUnsafe(p));return g.subtract(l).clearCofactor().equals(P.ZERO)}C._setWindowSize(8);const D={getExtendedPublicKey:_,randomPrivateKey:()=>g(r.BYTES),precompute(e=8,t=P.BASE){return t._setWindowSize(e),t.multiply(BigInt(3)),t}};return{CURVE:t,getPublicKey:R,sign:N,verify:T,ExtendedPoint:P,utils:D}}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const g=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),w=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),y=(BigInt(0),BigInt(1)),m=BigInt(2),b=(BigInt(3),BigInt(5)),x=BigInt(8);function v(e){const t=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=g,a=e*e%s,h=a*e%s,c=(0,o.zH)(h,m,s)*h%s,u=(0,o.zH)(c,y,s)*e%s,d=(0,o.zH)(u,b,s)*u%s,f=(0,o.zH)(d,t,s)*d%s,l=(0,o.zH)(f,r,s)*f%s,p=(0,o.zH)(l,n,s)*l%s,w=(0,o.zH)(p,i,s)*p%s,x=(0,o.zH)(w,i,s)*p%s,v=(0,o.zH)(x,t,s)*d%s,E=(0,o.zH)(v,m,s)*e%s;return{pow_p_5_8:E,b2:h}}function E(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function B(e,t){const r=g,n=(0,o.zi)(t*t*t,r),i=(0,o.zi)(n*n*t,r),s=v(e*i).pow_p_5_8;let a=(0,o.zi)(e*n*s,r);const h=(0,o.zi)(t*a*a,r),c=a,u=(0,o.zi)(a*w,r),d=h===e,f=h===(0,o.zi)(-e,r),l=h===(0,o.zi)(-e*w,r);return d&&(a=c),(f||l)&&(a=u),(0,o.dQ)(a,r)&&(a=(0,o.zi)(-a,r)),{isValid:d||f,value:a}}const I=(()=>(0,o.D0)(g,void 0,!0))(),S=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:I,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:x,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:n.Zf,randomBytes:i.po,adjustScalarBytes:E,uvRatio:B}))(),U=(()=>p(S))()},65749:(e,t,r)=>{r.d(t,{bI:()=>z});var n=r(33567),i=r(58015),s=r(91510),o=r(50615),a=r(58030),h=r(38293);
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
function c(e){void 0!==e.lowS&&(0,h.e8)("lowS",e.lowS),void 0!==e.prehash&&(0,h.e8)("prehash",e.prehash)}function u(e){const t=(0,o.hp)(e);h.Q5(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if("object"!==typeof r||"bigint"!==typeof r.beta||"function"!==typeof r.splitScalar)throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{Ph:d,aT:f}=h;class l extends Error{constructor(e=""){super(e)}}const p={Err:l,_tlv:{encode:(e,t)=>{const{Err:r}=p;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");const n=t.length/2,i=h.zW(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const s=n>127?h.zW(i.length/2|128):"",o=h.zW(e);return o+s+i+t},decode(e,t){const{Err:r}=p;let n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");const i=t[n++],s=!!(128&i);let o=0;if(s){const e=127&i;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");const s=t.subarray(n,n+e);if(s.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===s[0])throw new r("tlv.decode(long): zero leftmost byte");for(const t of s)o=o<<8|t;if(n+=e,o<128)throw new r("tlv.decode(long): not minimal encoding")}else o=i;const a=t.subarray(n,n+o);if(a.length!==o)throw new r("tlv.decode: wrong value length");return{v:a,l:t.subarray(n+o)}}},_int:{encode(e){const{Err:t}=p;if(e<g)throw new t("integer: negative integers are not allowed");let r=h.zW(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){const{Err:t}=p;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return d(e)}},toSig(e){const{Err:t,_int:r,_tlv:n}=p,i="string"===typeof e?f(e):e;h.DO(i);const{v:s,l:o}=n.decode(48,i);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=n.decode(2,s),{v:u,l:d}=n.decode(2,c);if(d.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(u)}},hexFromSig(e){const{_tlv:t,_int:r}=p,n=t.encode(2,r.encode(e.r)),i=t.encode(2,r.encode(e.s)),s=n+i;return t.encode(48,s)}},g=BigInt(0),w=BigInt(1),y=(BigInt(2),BigInt(3));BigInt(4);function m(e){const t=u(e),{Fp:r}=t,n=a.D0(t.n,t.nBitLength),i=t.toBytes||((e,t,n)=>{const i=t.toAffine();return h.Id(Uint8Array.from([4]),r.toBytes(i.x),r.toBytes(i.y))}),s=t.fromBytes||(e=>{const t=e.subarray(1),n=r.fromBytes(t.subarray(0,r.BYTES)),i=r.fromBytes(t.subarray(r.BYTES,2*r.BYTES));return{x:n,y:i}});function c(e){const{a:n,b:i}=t,s=r.sqr(e),o=r.mul(s,e);return r.add(r.add(o,r.mul(e,n)),i)}if(!r.eql(r.sqr(t.Gy),c(t.Gx)))throw new Error("bad generator point: equation left != right");function d(e){return h.r4(e,w,t.n)}function f(e){const{allowedPrivateKeyLengths:r,nByteLength:n,wrapPrivateKey:i,n:s}=t;if(r&&"bigint"!==typeof e){if(h.aY(e)&&(e=h.My(e)),"string"!==typeof e||!r.includes(e.length))throw new Error("invalid private key");e=e.padStart(2*n,"0")}let o;try{o="bigint"===typeof e?e:h.Ph((0,h.qj)("private key",e,n))}catch(c){throw new Error("invalid private key, expected hex or "+n+" bytes, got "+typeof e)}return i&&(o=a.zi(o,s)),h.aK("private key",o,w,s),o}function l(e){if(!(e instanceof b))throw new Error("ProjectivePoint expected")}const p=(0,h.x)((e,t)=>{const{px:n,py:i,pz:s}=e;if(r.eql(s,r.ONE))return{x:n,y:i};const o=e.is0();null==t&&(t=o?r.ONE:r.inv(s));const a=r.mul(n,t),h=r.mul(i,t),c=r.mul(s,t);if(o)return{x:r.ZERO,y:r.ZERO};if(!r.eql(c,r.ONE))throw new Error("invZ was invalid");return{x:a,y:h}}),m=(0,h.x)(e=>{if(e.is0()){if(t.allowInfinityPoint&&!r.is0(e.py))return;throw new Error("bad point: ZERO")}const{x:n,y:i}=e.toAffine();if(!r.isValid(n)||!r.isValid(i))throw new Error("bad point: x or y not FE");const s=r.sqr(i),o=c(n);if(!r.eql(s,o))throw new Error("bad point: equation left != right");if(!e.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class b{constructor(e,t,n){if(this.px=e,this.py=t,this.pz=n,null==e||!r.isValid(e))throw new Error("x required");if(null==t||!r.isValid(t))throw new Error("y required");if(null==n||!r.isValid(n))throw new Error("z required");Object.freeze(this)}static fromAffine(e){const{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw new Error("invalid affine point");if(e instanceof b)throw new Error("projective point not allowed");const i=e=>r.eql(e,r.ZERO);return i(t)&&i(n)?b.ZERO:new b(t,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=r.invertBatch(e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(b.fromAffine)}static fromHex(e){const t=b.fromAffine(s((0,h.qj)("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return b.BASE.multiply(f(e))}static msm(e,t){return(0,o.Xf)(b,n,e,t)}_setWindowSize(e){v.setWindowSize(this,e)}assertValidity(){m(this)}hasEvenY(){const{y:e}=this.toAffine();if(r.isOdd)return!r.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){l(e);const{px:t,py:n,pz:i}=this,{px:s,py:o,pz:a}=e,h=r.eql(r.mul(t,a),r.mul(s,i)),c=r.eql(r.mul(n,a),r.mul(o,i));return h&&c}negate(){return new b(this.px,r.neg(this.py),this.pz)}double(){const{a:e,b:n}=t,i=r.mul(n,y),{px:s,py:o,pz:a}=this;let h=r.ZERO,c=r.ZERO,u=r.ZERO,d=r.mul(s,s),f=r.mul(o,o),l=r.mul(a,a),p=r.mul(s,o);return p=r.add(p,p),u=r.mul(s,a),u=r.add(u,u),h=r.mul(e,u),c=r.mul(i,l),c=r.add(h,c),h=r.sub(f,c),c=r.add(f,c),c=r.mul(h,c),h=r.mul(p,h),u=r.mul(i,u),l=r.mul(e,l),p=r.sub(d,l),p=r.mul(e,p),p=r.add(p,u),u=r.add(d,d),d=r.add(u,d),d=r.add(d,l),d=r.mul(d,p),c=r.add(c,d),l=r.mul(o,a),l=r.add(l,l),d=r.mul(l,p),h=r.sub(h,d),u=r.mul(l,f),u=r.add(u,u),u=r.add(u,u),new b(h,c,u)}add(e){l(e);const{px:n,py:i,pz:s}=this,{px:o,py:a,pz:h}=e;let c=r.ZERO,u=r.ZERO,d=r.ZERO;const f=t.a,p=r.mul(t.b,y);let g=r.mul(n,o),w=r.mul(i,a),m=r.mul(s,h),x=r.add(n,i),v=r.add(o,a);x=r.mul(x,v),v=r.add(g,w),x=r.sub(x,v),v=r.add(n,s);let E=r.add(o,h);return v=r.mul(v,E),E=r.add(g,m),v=r.sub(v,E),E=r.add(i,s),c=r.add(a,h),E=r.mul(E,c),c=r.add(w,m),E=r.sub(E,c),d=r.mul(f,v),c=r.mul(p,m),d=r.add(c,d),c=r.sub(w,d),d=r.add(w,d),u=r.mul(c,d),w=r.add(g,g),w=r.add(w,g),m=r.mul(f,m),v=r.mul(p,v),w=r.add(w,m),m=r.sub(g,m),m=r.mul(f,m),v=r.add(v,m),g=r.mul(w,v),u=r.add(u,g),g=r.mul(E,v),c=r.mul(x,c),c=r.sub(c,g),g=r.mul(x,w),d=r.mul(E,d),d=r.add(d,g),new b(c,u,d)}subtract(e){return this.add(e.negate())}is0(){return this.equals(b.ZERO)}wNAF(e){return v.wNAFCached(this,e,b.normalizeZ)}multiplyUnsafe(e){const{endo:n,n:i}=t;h.aK("scalar",e,g,i);const s=b.ZERO;if(e===g)return s;if(this.is0()||e===w)return this;if(!n||v.hasPrecomputes(this))return v.wNAFCachedUnsafe(this,e,b.normalizeZ);let{k1neg:o,k1:a,k2neg:c,k2:u}=n.splitScalar(e),d=s,f=s,l=this;while(a>g||u>g)a&w&&(d=d.add(l)),u&w&&(f=f.add(l)),l=l.double(),a>>=w,u>>=w;return o&&(d=d.negate()),c&&(f=f.negate()),f=new b(r.mul(f.px,n.beta),f.py,f.pz),d.add(f)}multiply(e){const{endo:n,n:i}=t;let s,o;if(h.aK("scalar",e,w,i),n){const{k1neg:t,k1:i,k2neg:a,k2:h}=n.splitScalar(e);let{p:c,f:u}=this.wNAF(i),{p:d,f}=this.wNAF(h);c=v.constTimeNegate(t,c),d=v.constTimeNegate(a,d),d=new b(r.mul(d.px,n.beta),d.py,d.pz),s=c.add(d),o=u.add(f)}else{const{p:t,f:r}=this.wNAF(e);s=t,o=r}return b.normalizeZ([s,o])[0]}multiplyAndAddUnsafe(e,t,r){const n=b.BASE,i=(e,t)=>t!==g&&t!==w&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),s=i(this,t).add(i(e,r));return s.is0()?void 0:s}toAffine(e){return p(this,e)}isTorsionFree(){const{h:e,isTorsionFree:r}=t;if(e===w)return!0;if(r)return r(b,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:r}=t;return e===w?this:r?r(b,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return(0,h.e8)("isCompressed",e),this.assertValidity(),i(b,this,e)}toHex(e=!0){return(0,h.e8)("isCompressed",e),h.My(this.toRawBytes(e))}}b.BASE=new b(t.Gx,t.Gy,r.ONE),b.ZERO=new b(r.ZERO,r.ONE,r.ZERO);const x=t.nBitLength,v=(0,o.hT)(b,t.endo?Math.ceil(x/2):x);return{CURVE:t,ProjectivePoint:b,normPrivateKeyToScalar:f,weierstrassEquation:c,isWithinCurveOrder:d}}function b(e){const t=(0,o.hp)(e);return h.Q5(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function x(e){const t=b(e),{Fp:r,n}=t,i=r.BYTES+1,s=2*r.BYTES+1;function o(e){return a.zi(e,n)}function u(e){return a.B8(e,n)}const{ProjectivePoint:d,normPrivateKeyToScalar:f,weierstrassEquation:l,isWithinCurveOrder:y}=m({...t,toBytes(e,t,n){const i=t.toAffine(),s=r.toBytes(i.x),o=h.Id;return(0,h.e8)("isCompressed",n),n?o(Uint8Array.from([t.hasEvenY()?2:3]),s):o(Uint8Array.from([4]),s,r.toBytes(i.y))},fromBytes(e){const t=e.length,n=e[0],o=e.subarray(1);if(t!==i||2!==n&&3!==n){if(t===s&&4===n){const e=r.fromBytes(o.subarray(0,r.BYTES)),t=r.fromBytes(o.subarray(r.BYTES,2*r.BYTES));return{x:e,y:t}}{const e=i,r=s;throw new Error("invalid Point, expected length of "+e+", or uncompressed "+r+", got "+t)}}{const e=h.Ph(o);if(!h.r4(e,w,r.ORDER))throw new Error("Point is not on curve");const t=l(e);let i;try{i=r.sqrt(t)}catch(a){const e=a instanceof Error?": "+a.message:"";throw new Error("Point is not on curve"+e)}const s=(i&w)===w,c=1===(1&n);return c!==s&&(i=r.neg(i)),{x:e,y:i}}}}),x=e=>h.My(h.lq(e,t.nByteLength));function v(e){const t=n>>w;return e>t}function E(e){return v(e)?o(-e):e}const B=(e,t,r)=>h.Ph(e.slice(t,r));class I{constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}static fromCompact(e){const r=t.nByteLength;return e=(0,h.qj)("compactSignature",e,2*r),new I(B(e,0,r),B(e,r,2*r))}static fromDER(e){const{r:t,s:r}=p.toSig((0,h.qj)("DER",e));return new I(t,r)}assertValidity(){h.aK("r",this.r,w,n),h.aK("s",this.s,w,n)}addRecoveryBit(e){return new I(this.r,this.s,e)}recoverPublicKey(e){const{r:n,s:i,recovery:s}=this,a=z((0,h.qj)("msgHash",e));if(null==s||![0,1,2,3].includes(s))throw new Error("recovery id invalid");const c=2===s||3===s?n+t.n:n;if(c>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const f=0===(1&s)?"02":"03",l=d.fromHex(f+x(c)),p=u(c),g=o(-a*p),w=o(i*p),y=d.BASE.multiplyAndAddUnsafe(l,g,w);if(!y)throw new Error("point at infinify");return y.assertValidity(),y}hasHighS(){return v(this.s)}normalizeS(){return this.hasHighS()?new I(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return h.aT(this.toDERHex())}toDERHex(){return p.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return h.aT(this.toCompactHex())}toCompactHex(){return x(this.r)+x(this.s)}}const S={isValidPrivateKey(e){try{return f(e),!0}catch(t){return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const e=a.Tp(t.n);return a.qy(t.randomBytes(e),t.n)},precompute(e=8,t=d.BASE){return t._setWindowSize(e),t.multiply(BigInt(3)),t}};function U(e,t=!0){return d.fromPrivateKey(e).toRawBytes(t)}function A(e){const t=h.aY(e),r="string"===typeof e,n=(t||r)&&e.length;return t?n===i||n===s:r?n===2*i||n===2*s:e instanceof d}function P(e,t,r=!0){if(A(e))throw new Error("first arg must be private key");if(!A(t))throw new Error("second arg must be public key");const n=d.fromHex(t);return n.multiply(f(e)).toRawBytes(r)}const C=t.bits2int||function(e){if(e.length>8192)throw new Error("input is too large");const r=h.Ph(e),n=8*e.length-t.nBitLength;return n>0?r>>BigInt(n):r},z=t.bits2int_modN||function(e){return o(C(e))},L=h.OG(t.nBitLength);function k(e){return h.aK("num < 2^"+t.nBitLength,e,g,L),h.lq(e,t.nByteLength)}function q(e,n,i=_){if(["recovered","canonical"].some(e=>e in i))throw new Error("sign() legacy options not supported");const{hash:s,randomBytes:a}=t;let{lowS:l,prehash:p,extraEntropy:m}=i;null==l&&(l=!0),e=(0,h.qj)("msgHash",e),c(i),p&&(e=(0,h.qj)("prehashed msgHash",s(e)));const b=z(e),x=f(n),B=[k(x),k(b)];if(null!=m&&!1!==m){const e=!0===m?a(r.BYTES):m;B.push((0,h.qj)("extraEntropy",e))}const S=h.Id(...B),U=b;function A(e){const t=C(e);if(!y(t))return;const r=u(t),n=d.BASE.multiply(t).toAffine(),i=o(n.x);if(i===g)return;const s=o(r*o(U+i*x));if(s===g)return;let a=(n.x===i?0:2)|Number(n.y&w),h=s;return l&&v(s)&&(h=E(s),a^=1),new I(i,h,a)}return{seed:S,k2sig:A}}const _={lowS:t.lowS,prehash:!1},R={lowS:t.lowS,prehash:!1};function M(e,r,n=_){const{seed:i,k2sig:s}=q(e,r,n),o=t,a=h.fg(o.hash.outputLen,o.nByteLength,o.hmac);return a(i,s)}function N(e,r,n,i=R){const s=e;r=(0,h.qj)("msgHash",r),n=(0,h.qj)("publicKey",n);const{lowS:a,prehash:f,format:l}=i;if(c(i),"strict"in i)throw new Error("options.strict was renamed to lowS");if(void 0!==l&&"compact"!==l&&"der"!==l)throw new Error("format must be compact or der");const g="string"===typeof s||h.aY(s),w=!g&&!l&&"object"===typeof s&&null!==s&&"bigint"===typeof s.r&&"bigint"===typeof s.s;if(!g&&!w)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let y,m;try{if(w&&(y=new I(s.r,s.s)),g){try{"compact"!==l&&(y=I.fromDER(s))}catch(P){if(!(P instanceof p.Err))throw P}y||"der"===l||(y=I.fromCompact(s))}m=d.fromHex(n)}catch(C){return!1}if(!y)return!1;if(a&&y.hasHighS())return!1;f&&(r=t.hash(r));const{r:b,s:x}=y,v=z(r),E=u(x),B=o(v*E),S=o(b*E),U=d.BASE.multiplyAndAddUnsafe(m,B,S)?.toAffine();if(!U)return!1;const A=o(U.x);return A===b}return d.BASE._setWindowSize(8),{CURVE:t,getPublicKey:U,getSharedSecret:P,sign:M,verify:N,ProjectivePoint:d,Signature:I,utils:S}}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
function v(e){return{hash:e,hmac:(t,...r)=>(0,i.w)(e,t,(0,s.Id)(...r)),randomBytes:s.po}}function E(e,t){const r=t=>x({...e,...v(t)});return{...r(t),create:r}}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const B=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),I=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),S=BigInt(1),U=BigInt(2),A=(e,t)=>(e+t/U)/t;function P(e){const t=B,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),h=BigInt(44),c=BigInt(88),u=e*e*e%t,d=u*u*e%t,f=(0,a.zH)(d,r,t)*d%t,l=(0,a.zH)(f,r,t)*d%t,p=(0,a.zH)(l,U,t)*u%t,g=(0,a.zH)(p,i,t)*p%t,w=(0,a.zH)(g,s,t)*g%t,y=(0,a.zH)(w,h,t)*w%t,m=(0,a.zH)(y,c,t)*y%t,b=(0,a.zH)(m,h,t)*w%t,x=(0,a.zH)(b,r,t)*d%t,v=(0,a.zH)(x,o,t)*g%t,E=(0,a.zH)(v,n,t)*u%t,I=(0,a.zH)(E,U,t);if(!C.eql(C.sqr(I),e))throw new Error("Cannot find square root");return I}const C=(0,a.D0)(B,void 0,void 0,{sqrt:P}),z=E({a:BigInt(0),b:BigInt(7),Fp:C,n:I,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=I,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-S*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=BigInt("0x100000000000000000000000000000000"),h=A(s*e,t),c=A(-n*e,t);let u=(0,a.zi)(e-h*r-c*i,t),d=(0,a.zi)(-h*n-c*s,t);const f=u>o,l=d>o;if(f&&(u=t-u),l&&(d=t-d),u>o||d>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:u,k2neg:l,k2:d}}}},n.sc);BigInt(0);z.ProjectivePoint},71901:(e,t,r)=>{r.d(t,{Hn:()=>a,X3:()=>i,_j:()=>s,eN:()=>o,f7:()=>n});const n=4294967295;function i(e,t,r){const n=r/4294967296,i=r;e.setUint32(t,n),e.setUint32(t+4,i)}function s(e,t,r){const n=Math.floor(r/4294967296),i=r;e.setUint32(t,n),e.setUint32(t+4,i)}function o(e,t){const r=e.getInt32(t),n=e.getUint32(t+4);return 4294967296*r+n}function a(e,t){const r=e.getUint32(t),n=e.getUint32(t+4);return 4294967296*r+n}},78458:function(e,t,r){var n=r(48287)["Buffer"],i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(r(30571)),o=i(r(25300)),a=i(r(94148)),h=r(11774),c=r(20908),u=i(r(64908)),d=r(7075);class f{constructor(e=new s.default,t="bytes"){this.fountainDecoder=e,this.type=t,a.default(h.isURType(t),"Invalid UR type"),this.expected_type=""}static decodeBody(e,t){const r=o.default.decode(t,o.default.STYLES.MINIMAL);return new u.default(n.from(r,"hex"),e)}validatePart(e){return this.expected_type?this.expected_type===e:!!h.isURType(e)&&(this.expected_type=e,!0)}static decode(e){const[t,r]=this.parse(e);if(0===r.length)throw new c.InvalidPathLengthError;const n=r[0];return f.decodeBody(t,n)}static parse(e){const t=e.toLowerCase(),r=t.slice(0,3);if("ur:"!==r)throw new c.InvalidSchemeError;const n=t.slice(3).split("/"),i=n[0];if(n.length<2)throw new c.InvalidPathLengthError;if(!h.isURType(i))throw new c.InvalidTypeError;return[i,n.slice(1)]}static parseSequenceComponent(e){const t=e.split("-");if(2!==t.length)throw new c.InvalidSequenceComponentError;const r=h.toUint32(Number(t[0])),n=Number(t[1]);if(r<1||n<1)throw new c.InvalidSequenceComponentError;return[r,n]}receivePart(e){if(void 0!==this.result)return!1;const[t,r]=f.parse(e);if(!this.validatePart(t))return!1;if(1===r.length)return this.result=f.decodeBody(t,r[0]),!0;if(2!==r.length)throw new c.InvalidPathLengthError;const[n,i]=r,[s,a]=f.parseSequenceComponent(n),h=o.default.decode(i,o.default.STYLES.MINIMAL),l=d.FountainEncoderPart.fromCBOR(h);return s===l.seqNum&&a===l.seqLength&&(!!this.fountainDecoder.receivePart(l)&&(this.fountainDecoder.isSuccess()?this.result=new u.default(this.fountainDecoder.resultMessage(),t):this.fountainDecoder.isFailure()&&(this.error=new c.InvalidSchemeError),!0))}resultUR(){return this.result?this.result:new u.default(n.from([]))}isComplete(){return this.result&&this.result.cbor.length>0}isSuccess(){return!this.error&&this.isComplete()}isError(){return void 0!==this.error}resultError(){return this.error?this.error.message:""}expectedPartCount(){return this.fountainDecoder.expectedPartCount()}expectedPartIndexes(){return this.fountainDecoder.getExpectedPartIndexes()}receivedPartIndexes(){return this.fountainDecoder.getReceivedPartIndexes()}lastPartIndexes(){return this.fountainDecoder.getLastPartIndexes()}estimatedPercentComplete(){return this.fountainDecoder.estimatedPercentComplete()}getProgress(){return this.fountainDecoder.getProgress()}}t["default"]=f},79080:(e,t,r)=>{r.d(t,{Fo:()=>rt});var n={};r.r(n),r.d(n,{identity:()=>_});var i={};r.r(i),r.d(i,{base2:()=>R});var s={};r.r(s),r.d(s,{base8:()=>M});var o={};r.r(o),r.d(o,{base10:()=>N});var a={};r.r(a),r.d(a,{base16:()=>O,base16upper:()=>T});var h={};r.r(h),r.d(h,{base32:()=>D,base32hex:()=>K,base32hexpad:()=>Z,base32hexpadupper:()=>$,base32hexupper:()=>V,base32pad:()=>F,base32padupper:()=>H,base32upper:()=>j,base32z:()=>W});var c={};r.r(c),r.d(c,{base36:()=>X,base36upper:()=>Y});var u={};r.r(u),r.d(u,{base58btc:()=>G,base58flickr:()=>Q});var d={};r.r(d),r.d(d,{base64:()=>J,base64pad:()=>ee,base64url:()=>te,base64urlpad:()=>re});var f={};r.r(f),r.d(f,{base256emoji:()=>he});var l={};r.r(l),r.d(l,{sha256:()=>Te,sha512:()=>De});var p={};r.r(p),r.d(p,{identity:()=>Ve});var g={};r.r(g),r.d(g,{code:()=>$e,decode:()=>Xe,encode:()=>We,name:()=>Ze});var w={};function y(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var s=e.charAt(i),o=s.charCodeAt(0);if(255!==r[o])throw new TypeError(s+" is ambiguous");r[o]=i}var a=e.length,h=e.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";var r=0,n=0,i=0,s=t.length;while(i!==s&&0===t[i])i++,r++;var o=(s-i)*u+1>>>0,c=new Uint8Array(o);while(i!==s){for(var d=t[i],f=0,l=o-1;(0!==d||f<n)&&-1!==l;l--,f++)d+=256*c[l]>>>0,c[l]=d%a>>>0,d=d/a>>>0;if(0!==d)throw new Error("Non-zero carry");n=f,i++}var p=o-n;while(p!==o&&0===c[p])p++;for(var g=h.repeat(r);p<o;++p)g+=e.charAt(c[p]);return g}function f(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){var n=0,i=0;while(e[t]===h)n++,t++;var s=(e.length-t)*c+1>>>0,o=new Uint8Array(s);while(e[t]){var u=r[e.charCodeAt(t)];if(255===u)return;for(var d=0,f=s-1;(0!==u||d<i)&&-1!==f;f--,d++)u+=a*o[f]>>>0,o[f]=u%256>>>0,u=u/256>>>0;if(0!==u)throw new Error("Non-zero carry");i=d,t++}if(" "!==e[t]){var l=s-i;while(l!==s&&0===o[l])l++;var p=new Uint8Array(n+(s-l)),g=n;while(l!==s)p[g++]=o[l++];return p}}}function l(e){var r=f(e);if(r)return r;throw new Error(`Non-${t} character`)}return{encode:d,decodeUnsafe:f,decode:l}}r.r(w),r.d(w,{code:()=>Je,decode:()=>tt,encode:()=>et,name:()=>Qe});var m=y,b=m;const x=b,v=(new Uint8Array(0),e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")}),E=e=>(new TextEncoder).encode(e),B=e=>(new TextDecoder).decode(e);class I{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class S{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"===typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return A(this,e)}}class U{constructor(e){this.decoders=e}or(e){return A(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const A=(e,t)=>new U({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class P{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new I(e,t,r),this.decoder=new S(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const C=({name:e,prefix:t,encode:r,decode:n})=>new P(e,t,r,n),z=({prefix:e,name:t,alphabet:r})=>{const{encode:n,decode:i}=x(r,t);return C({prefix:e,name:t,encode:n,decode:e=>v(i(e))})},L=(e,t,r,n)=>{const i={};for(let u=0;u<t.length;++u)i[t[u]]=u;let s=e.length;while("="===e[s-1])--s;const o=new Uint8Array(s*r/8|0);let a=0,h=0,c=0;for(let u=0;u<s;++u){const t=i[e[u]];if(void 0===t)throw new SyntaxError(`Non-${n} character`);h=h<<r|t,a+=r,a>=8&&(a-=8,o[c++]=255&h>>a)}if(a>=r||255&h<<8-a)throw new SyntaxError("Unexpected end of data");return o},k=(e,t,r)=>{const n="="===t[t.length-1],i=(1<<r)-1;let s="",o=0,a=0;for(let h=0;h<e.length;++h){a=a<<8|e[h],o+=8;while(o>r)o-=r,s+=t[i&a>>o]}if(o&&(s+=t[i&a<<r-o]),n)while(s.length*r&7)s+="=";return s},q=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>C({prefix:t,name:e,encode(e){return k(e,n,r)},decode(t){return L(t,n,r,e)}}),_=C({prefix:"\0",name:"identity",encode:e=>B(e),decode:e=>E(e)}),R=q({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),M=q({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),N=z({prefix:"9",name:"base10",alphabet:"0123456789"}),O=q({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),T=q({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),D=q({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),j=q({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),F=q({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),H=q({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),K=q({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),V=q({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Z=q({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),$=q({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),W=q({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),X=z({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Y=z({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),G=z({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Q=z({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),J=q({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),ee=q({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),te=q({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),re=q({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),ne=Array.from(""),ie=ne.reduce((e,t,r)=>(e[r]=t,e),[]),se=ne.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);function oe(e){return e.reduce((e,t)=>(e+=ie[t],e),"")}function ae(e){const t=[];for(const r of e){const e=se[r.codePointAt(0)];if(void 0===e)throw new Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}const he=C({prefix:"",name:"base256emoji",encode:oe,decode:ae});var ce=pe,ue=128,de=127,fe=~de,le=Math.pow(2,31);function pe(e,t,r){t=t||[],r=r||0;var n=r;while(e>=le)t[r++]=255&e|ue,e/=128;while(e&fe)t[r++]=255&e|ue,e>>>=7;return t[r]=0|e,pe.bytes=r-n+1,t}var ge=me,we=128,ye=127;function me(e,t){var r,n=0,i=(t=t||0,0),s=t,o=e.length;do{if(s>=o)throw me.bytes=0,new RangeError("Could not decode varint");r=e[s++],n+=i<28?(r&ye)<<i:(r&ye)*Math.pow(2,i),i+=7}while(r>=we);return me.bytes=s-t,n}var be=Math.pow(2,7),xe=Math.pow(2,14),ve=Math.pow(2,21),Ee=Math.pow(2,28),Be=Math.pow(2,35),Ie=Math.pow(2,42),Se=Math.pow(2,49),Ue=Math.pow(2,56),Ae=Math.pow(2,63),Pe=function(e){return e<be?1:e<xe?2:e<ve?3:e<Ee?4:e<Be?5:e<Ie?6:e<Se?7:e<Ue?8:e<Ae?9:10},Ce={encode:ce,decode:ge,encodingLength:Pe},ze=Ce;const Le=ze,ke=(e,t,r=0)=>(Le.encode(e,t,r),t),qe=e=>Le.encodingLength(e),_e=(e,t)=>{const r=t.byteLength,n=qe(e),i=n+qe(r),s=new Uint8Array(i+r);return ke(e,s,0),ke(r,s,n),s.set(t,i),new Re(e,r,t,s)};class Re{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}const Me=({name:e,code:t,encode:r})=>new Ne(e,t,r);class Ne{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?_e(this.code,t):t.then(e=>_e(this.code,e))}throw Error("Unknown type, must be binary type")}}const Oe=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),Te=Me({name:"sha2-256",code:18,encode:Oe("SHA-256")}),De=Me({name:"sha2-512",code:19,encode:Oe("SHA-512")}),je=0,Fe="identity",He=v,Ke=e=>_e(je,He(e)),Ve={code:je,name:Fe,encode:He,digest:Ke},Ze="raw",$e=85,We=e=>v(e),Xe=e=>v(e),Ye=new TextEncoder,Ge=new TextDecoder,Qe="json",Je=512,et=e=>Ye.encode(JSON.stringify(e)),tt=e=>JSON.parse(Ge.decode(e));Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom");Symbol.for("@ipld/js-cid/CID");const rt={...n,...i,...s,...o,...a,...h,...c,...u,...d,...f}},84172:(e,t,r)=>{r.d(t,{l:()=>u});var n=r(41595),i=r(89816),s=r(71901),o=r(11468);const a=100,h=2048;class c{constructor(e){this.entered=!1,this.extensionCodec=e?.extensionCodec??i.g.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.maxDepth=e?.maxDepth??a,this.initialBufferSize=e?.initialBufferSize??h,this.sortKeys=e?.sortKeys??!1,this.forceFloat32=e?.forceFloat32??!1,this.ignoreUndefined=e?.ignoreUndefined??!1,this.forceIntegerToFloat=e?.forceIntegerToFloat??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new c({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered){const t=this.clone();return t.encodeSharedRef(e)}try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered){const t=this.clone();return t.encode(e)}try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,t){if(t>this.maxDepth)throw new Error(`Too deep objects in depth ${t}`);null==e?this.encodeNil():"boolean"===typeof e?this.encodeBoolean(e):"number"===typeof e?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):"string"===typeof e?this.encodeString(e):this.useBigInt64&&"bigint"===typeof e?this.encodeBigInt64(e):this.encodeObject(e,t)}ensureBufferSizeToWrite(e){const t=this.pos+e;this.view.byteLength<t&&this.resizeBuffer(2*t)}resizeBuffer(e){const t=new ArrayBuffer(e),r=new Uint8Array(t),n=new DataView(t);r.set(this.bytes),this.view=n,this.bytes=r}encodeNil(){this.writeU8(192)}encodeBoolean(e){!1===e?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else{if(!(e<4294967296))throw new Error(`Too long string: ${e} bytes in UTF-8`);this.writeU8(219),this.writeU32(e)}}encodeString(e){const t=5,r=(0,n.dS)(e);this.ensureBufferSizeToWrite(t+r),this.writeStringHeader(r),(0,n.yi)(e,this.bytes,this.pos),this.pos+=r}encodeObject(e,t){const r=this.extensionCodec.tryToEncode(e,this.context);if(null!=r)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,t);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else{if("object"!==typeof e)throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`);this.encodeMap(e,t)}}encodeBinary(e){const t=e.byteLength;if(t<256)this.writeU8(196),this.writeU8(t);else if(t<65536)this.writeU8(197),this.writeU16(t);else{if(!(t<4294967296))throw new Error(`Too large binary: ${t}`);this.writeU8(198),this.writeU32(t)}const r=(0,o.C)(e);this.writeU8a(r)}encodeArray(e,t){const r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else{if(!(r<4294967296))throw new Error(`Too large array: ${r}`);this.writeU8(221),this.writeU32(r)}for(const n of e)this.doEncode(n,t+1)}countWithoutUndefined(e,t){let r=0;for(const n of t)void 0!==e[n]&&r++;return r}encodeMap(e,t){const r=Object.keys(e);this.sortKeys&&r.sort();const n=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(n<16)this.writeU8(128+n);else if(n<65536)this.writeU8(222),this.writeU16(n);else{if(!(n<4294967296))throw new Error(`Too large map object: ${n}`);this.writeU8(223),this.writeU32(n)}for(const i of r){const r=e[i];this.ignoreUndefined&&void 0===r||(this.encodeString(i),this.doEncode(r,t+1))}}encodeExtension(e){if("function"===typeof e.data){const t=e.data(this.pos+6),r=t.length;if(r>=4294967296)throw new Error(`Too large extension object: ${r}`);return this.writeU8(201),this.writeU32(r),this.writeI8(e.type),void this.writeU8a(t)}const t=e.data.length;if(1===t)this.writeU8(212);else if(2===t)this.writeU8(213);else if(4===t)this.writeU8(214);else if(8===t)this.writeU8(215);else if(16===t)this.writeU8(216);else if(t<256)this.writeU8(199),this.writeU8(t);else if(t<65536)this.writeU8(200),this.writeU16(t);else{if(!(t<4294967296))throw new Error(`Too large extension object: ${t}`);this.writeU8(201),this.writeU32(t)}this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const t=e.length;this.ensureBufferSizeToWrite(t),this.bytes.set(e,this.pos),this.pos+=t}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),(0,s.X3)(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),(0,s._j)(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}}function u(e,t){const r=new c(t);return r.encodeSharedRef(e)}},86287:(e,t,r)=>{var n=r(48287)["Buffer"];Object.defineProperty(t,"__esModule",{value:!0}),t.cborDecode=t.cborEncode=void 0;const i=r(54362),s=e=>i.encode(e);t.cborEncode=s;const o=e=>i.decode(n.isBuffer(e)?e:n.from(e,"hex"));t.cborDecode=o},87814:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(7075)),s=n(r(25300));class o{constructor(e,t,r,n){this.ur=e,this.fountainEncoder=new i.default(e.cbor,t,r,n)}get fragmentsLength(){return this.fountainEncoder.fragmentsLength}get fragments(){return this.fountainEncoder.fragments}get messageLength(){return this.fountainEncoder.messageLength}get cbor(){return this.ur.cbor}encodeWhole(){return[...new Array(this.fragmentsLength)].map(()=>this.nextPart())}nextPart(){const e=this.fountainEncoder.nextPart();return this.fountainEncoder.isSinglePart()?o.encodeSinglePart(this.ur):o.encodePart(this.ur.type,e)}static encodeUri(e,t){const r=t.join("/");return[e,r].join(":")}static encodeUR(e){return o.encodeUri("ur",e)}static encodePart(e,t){const r=`${t.seqNum}-${t.seqLength}`,n=s.default.encode(t.cbor().toString("hex"),s.default.STYLES.MINIMAL);return o.encodeUR([e,r,n])}static encodeSinglePart(e){const t=s.default.encode(e.cbor.toString("hex"),s.default.STYLES.MINIMAL);return o.encodeUR([e.type,t])}}t["default"]=o},89816:(e,t,r)=>{r.d(t,{g:()=>g});class n{constructor(e,t){this.type=e,this.data=t}}var i=r(22184),s=r(71901);const o=-1,a=4294967295,h=17179869183;function c({sec:e,nsec:t}){if(e>=0&&t>=0&&e<=h){if(0===t&&e<=a){const t=new Uint8Array(4),r=new DataView(t.buffer);return r.setUint32(0,e),t}{const r=e/4294967296,n=4294967295&e,i=new Uint8Array(8),s=new DataView(i.buffer);return s.setUint32(0,t<<2|3&r),s.setUint32(4,n),i}}{const r=new Uint8Array(12),n=new DataView(r.buffer);return n.setUint32(0,t),(0,s._j)(n,4,e),r}}function u(e){const t=e.getTime(),r=Math.floor(t/1e3),n=1e6*(t-1e3*r),i=Math.floor(n/1e9);return{sec:r+i,nsec:n-1e9*i}}function d(e){if(e instanceof Date){const t=u(e);return c(t)}return null}function f(e){const t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:{const e=t.getUint32(0),r=0;return{sec:e,nsec:r}}case 8:{const e=t.getUint32(0),r=t.getUint32(4),n=4294967296*(3&e)+r,i=e>>>2;return{sec:n,nsec:i}}case 12:{const e=(0,s.eN)(t,4),r=t.getUint32(0);return{sec:e,nsec:r}}default:throw new i.X(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${e.length}`)}}function l(e){const t=f(e);return new Date(1e3*t.sec+t.nsec/1e6)}const p={type:o,encode:d,decode:l};class g{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(p)}register({type:e,encode:t,decode:r}){if(e>=0)this.encoders[e]=t,this.decoders[e]=r;else{const n=-1-e;this.builtInEncoders[n]=t,this.builtInDecoders[n]=r}}tryToEncode(e,t){for(let r=0;r<this.builtInEncoders.length;r++){const i=this.builtInEncoders[r];if(null!=i){const s=i(e,t);if(null!=s){const e=-1-r;return new n(e,s)}}}for(let r=0;r<this.encoders.length;r++){const i=this.encoders[r];if(null!=i){const s=i(e,t);if(null!=s){const e=r;return new n(e,s)}}}return e instanceof n?e:null}decode(e,t,r){const i=t<0?this.builtInDecoders[-1-t]:this.decoders[t];return i?i(e,t,r):new n(t,e)}}g.defaultCodec=new g},95414:(e,t,r)=>{function n(e){return`${e<0?"-":""}0x${Math.abs(e).toString(16).padStart(2,"0")}`}r.d(t,{D:()=>B});var i=r(89816),s=r(71901),o=r(41595),a=r(11468);const h=16,c=16;class u{constructor(e=h,t=c){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=t,this.caches=[];for(let r=0;r<this.maxKeyLength;r++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,t,r){const n=this.caches[r-1];e:for(const i of n){const n=i.bytes;for(let i=0;i<r;i++)if(n[i]!==e[t+i])continue e;return i.str}return null}store(e,t){const r=this.caches[e.length-1],n={bytes:e,str:t};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=n:r.push(n)}decode(e,t,r){const n=this.find(e,t,r);if(null!=n)return this.hit++,n;this.miss++;const i=(0,o.Zf)(e,t,r),s=Uint8Array.prototype.slice.call(e,t,t+r);return this.store(s,i),i}}var d=r(22184);const f="array",l="map_key",p="map_value",g=e=>{if("string"===typeof e||"number"===typeof e)return e;throw new d.X("The type of key must be string or number but "+typeof e)};class w{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const t=this.getUninitializedStateFromPool();t.type=f,t.position=0,t.size=e,t.array=new Array(e)}pushMapState(e){const t=this.getUninitializedStateFromPool();t.type=l,t.readCount=0,t.size=e,t.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){const t=this.stack[this.stackHeadPosition];if(t!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===f){const t=e;t.size=0,t.array=void 0,t.position=0,t.type=void 0}if(e.type===l||e.type===p){const t=e;t.size=0,t.map=void 0,t.readCount=0,t.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const y=-1,m=new DataView(new ArrayBuffer(0)),b=new Uint8Array(m.buffer);try{m.getInt8(0)}catch(I){if(!(I instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const x=new RangeError("Insufficient data"),v=new u;class E{constructor(e){this.totalPos=0,this.pos=0,this.view=m,this.bytes=b,this.headByte=y,this.stack=new w,this.entered=!1,this.extensionCodec=e?.extensionCodec??i.g.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.rawStrings=e?.rawStrings??!1,this.maxStrLength=e?.maxStrLength??s.f7,this.maxBinLength=e?.maxBinLength??s.f7,this.maxArrayLength=e?.maxArrayLength??s.f7,this.maxMapLength=e?.maxMapLength??s.f7,this.maxExtLength=e?.maxExtLength??s.f7,this.keyDecoder=void 0!==e?.keyDecoder?e.keyDecoder:v,this.mapKeyConverter=e?.mapKeyConverter??g}clone(){return new E({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=y,this.stack.reset()}setBuffer(e){const t=(0,a.C)(e);this.bytes=t,this.view=new DataView(t.buffer,t.byteOffset,t.byteLength),this.pos=0}appendBuffer(e){if(this.headByte!==y||this.hasRemaining(1)){const t=this.bytes.subarray(this.pos),r=(0,a.C)(e),n=new Uint8Array(t.length+r.length);n.set(t),n.set(r,t.length),this.setBuffer(n)}else this.setBuffer(e)}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:t,pos:r}=this;return new RangeError(`Extra ${t.byteLength-r} of ${t.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered){const t=this.clone();return t.decode(e)}try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const t=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return t}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){const t=this.clone();return void(yield*t.decodeMulti(e))}try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);while(this.hasRemaining(1))yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered){const t=this.clone();return t.decodeAsync(e)}try{this.entered=!0;let t,r=!1;for await(const n of e){if(r)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(n);try{t=this.doDecodeSync(),r=!0}catch(I){if(!(I instanceof RangeError))throw I}this.totalPos+=this.pos}if(r){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return t}const{headByte:i,pos:s,totalPos:o}=this;throw new RangeError(`Insufficient data in parsing ${n(i)} at ${o} (${s} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,t){if(this.entered){const r=this.clone();return void(yield*r.decodeMultiAsync(e,t))}try{this.entered=!0;let r=t,n=-1;for await(const i of e){if(t&&0===n)throw this.createExtraByteError(this.totalPos);this.appendBuffer(i),r&&(n=this.readArraySize(),r=!1,this.complete());try{while(1)if(yield this.doDecodeSync(),0===--n)break}catch(I){if(!(I instanceof RangeError))throw I}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:while(1){const e=this.readHeadByte();let t;if(e>=224)t=e-256;else if(e<192)if(e<128)t=e;else if(e<144){const r=e-128;if(0!==r){this.pushMapState(r),this.complete();continue e}t={}}else if(e<160){const r=e-144;if(0!==r){this.pushArrayState(r),this.complete();continue e}t=[]}else{const r=e-160;t=this.decodeString(r,0)}else if(192===e)t=null;else if(194===e)t=!1;else if(195===e)t=!0;else if(202===e)t=this.readF32();else if(203===e)t=this.readF64();else if(204===e)t=this.readU8();else if(205===e)t=this.readU16();else if(206===e)t=this.readU32();else if(207===e)t=this.useBigInt64?this.readU64AsBigInt():this.readU64();else if(208===e)t=this.readI8();else if(209===e)t=this.readI16();else if(210===e)t=this.readI32();else if(211===e)t=this.useBigInt64?this.readI64AsBigInt():this.readI64();else if(217===e){const e=this.lookU8();t=this.decodeString(e,1)}else if(218===e){const e=this.lookU16();t=this.decodeString(e,2)}else if(219===e){const e=this.lookU32();t=this.decodeString(e,4)}else if(220===e){const e=this.readU16();if(0!==e){this.pushArrayState(e),this.complete();continue e}t=[]}else if(221===e){const e=this.readU32();if(0!==e){this.pushArrayState(e),this.complete();continue e}t=[]}else if(222===e){const e=this.readU16();if(0!==e){this.pushMapState(e),this.complete();continue e}t={}}else if(223===e){const e=this.readU32();if(0!==e){this.pushMapState(e),this.complete();continue e}t={}}else if(196===e){const e=this.lookU8();t=this.decodeBinary(e,1)}else if(197===e){const e=this.lookU16();t=this.decodeBinary(e,2)}else if(198===e){const e=this.lookU32();t=this.decodeBinary(e,4)}else if(212===e)t=this.decodeExtension(1,0);else if(213===e)t=this.decodeExtension(2,0);else if(214===e)t=this.decodeExtension(4,0);else if(215===e)t=this.decodeExtension(8,0);else if(216===e)t=this.decodeExtension(16,0);else if(199===e){const e=this.lookU8();t=this.decodeExtension(e,1)}else if(200===e){const e=this.lookU16();t=this.decodeExtension(e,2)}else{if(201!==e)throw new d.X(`Unrecognized type byte: ${n(e)}`);{const e=this.lookU32();t=this.decodeExtension(e,4)}}this.complete();const r=this.stack;while(r.length>0){const e=r.top();if(e.type===f){if(e.array[e.position]=t,e.position++,e.position!==e.size)continue e;t=e.array,r.release(e)}else{if(e.type===l){if("__proto__"===t)throw new d.X("The key __proto__ is not allowed");e.key=this.mapKeyConverter(t),e.type=p;continue e}if(e.map[e.key]=t,e.readCount++,e.readCount!==e.size){e.key=null,e.type=l;continue e}t=e.map,r.release(e)}}return t}}readHeadByte(){return this.headByte===y&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=y}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:if(e<160)return e-144;throw new d.X(`Unrecognized array type byte: ${n(e)}`)}}pushMapState(e){if(e>this.maxMapLength)throw new d.X(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new d.X(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,t){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,t):this.decodeBinary(e,t)}decodeUtf8String(e,t){if(e>this.maxStrLength)throw new d.X(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+t+e)throw x;const r=this.pos+t;let n;return n=this.stateIsMapKey()&&this.keyDecoder?.canBeCached(e)?this.keyDecoder.decode(this.bytes,r,e):(0,o._u)(this.bytes,r,e),this.pos+=t+e,n}stateIsMapKey(){if(this.stack.length>0){const e=this.stack.top();return e.type===l}return!1}decodeBinary(e,t){if(e>this.maxBinLength)throw new d.X(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+t))throw x;const r=this.pos+t,n=this.bytes.subarray(r,r+e);return this.pos+=t+e,n}decodeExtension(e,t){if(e>this.maxExtLength)throw new d.X(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const r=this.view.getInt8(this.pos+t),n=this.decodeBinary(e,t+1);return this.extensionCodec.decode(n,r,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=(0,s.Hn)(this.view,this.pos);return this.pos+=8,e}readI64(){const e=(0,s.eN)(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}}function B(e,t){const r=new E(t);return r.decode(e)}}}]);