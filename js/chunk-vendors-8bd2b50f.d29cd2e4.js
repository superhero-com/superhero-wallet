"use strict";(self["webpackChunksuperhero_wallet"]=self["webpackChunksuperhero_wallet"]||[]).push([[6048],{72243:(e,t,n)=>{n.d(t,{AL:()=>r,bl:()=>q,p6:()=>I,tn:()=>R,Kh:()=>_,w3:()=>m});var r,s=n(20345),i=n(39788),o=n(14387);class a{constructor(){this._emitter=new o.bk}on(e,t){this._emitter.on(e,t)}once(e,t){this._emitter.once(e,t)}off(e,t){this._emitter.off(e,t)}emit(e,t){this._emitter.emit(e,t)}listenerCount(e){return this._emitter.listenerCount(e)}listeners(e){return this._emitter.listeners(e)}eventNames(){return this._emitter.eventNames()}removeAllListeners(){return this._emitter.removeAllListeners()}setMaxListenerWarningThreshold(e){this._emitter.setMaxListeners(e)}getMaxListeners(){return this._emitter.getMaxListeners()}}(function(e){e["CONFIG_CHANGE"]="CONFIG_CHANGE"})(r||(r={}));class c extends a{constructor(e){super(),this.config={handleRevert:!1,defaultAccount:void 0,defaultBlock:"latest",transactionBlockTimeout:50,transactionConfirmationBlocks:24,transactionPollingInterval:1e3,transactionPollingTimeout:75e4,transactionReceiptPollingInterval:void 0,transactionSendTimeout:75e4,transactionConfirmationPollingInterval:void 0,blockHeaderTimeout:10,maxListenersWarningThreshold:100,contractDataInputFill:"data",defaultNetworkId:void 0,defaultChain:"mainnet",defaultHardfork:"london",defaultCommon:void 0,defaultTransactionType:"0x2",defaultMaxPriorityFeePerGas:(0,o.nj)(25e8),enableExperimentalFeatures:{useSubscriptionWhenCheckingBlockTimeout:!1,useRpcCallSpecification:!1},transactionBuilder:void 0,transactionTypeParser:void 0,customTransactionSchema:void 0,defaultReturnFormat:s.Hh,ignoreGasPricing:!1},this.setConfig(null!==e&&void 0!==e?e:{})}setConfig(e){const t=Object.keys(e);for(const n of t)this._triggerConfigChange(n,e[n]),(0,o.uy)(e[n])||"number"!==typeof e[n]||"maxListenersWarningThreshold"!==n||this.setMaxListenerWarningThreshold(Number(e[n]));Object.assign(this.config,e)}get handleRevert(){return this.config.handleRevert}set handleRevert(e){this._triggerConfigChange("handleRevert",e),this.config.handleRevert=e}get contractDataInputFill(){return this.config.contractDataInputFill}set contractDataInputFill(e){this._triggerConfigChange("contractDataInputFill",e),this.config.contractDataInputFill=e}get defaultAccount(){return this.config.defaultAccount}set defaultAccount(e){this._triggerConfigChange("defaultAccount",e),this.config.defaultAccount=e}get defaultBlock(){return this.config.defaultBlock}set defaultBlock(e){this._triggerConfigChange("defaultBlock",e),this.config.defaultBlock=e}get transactionSendTimeout(){return this.config.transactionSendTimeout}set transactionSendTimeout(e){this._triggerConfigChange("transactionSendTimeout",e),this.config.transactionSendTimeout=e}get transactionBlockTimeout(){return this.config.transactionBlockTimeout}set transactionBlockTimeout(e){this._triggerConfigChange("transactionBlockTimeout",e),this.config.transactionBlockTimeout=e}get transactionConfirmationBlocks(){return this.config.transactionConfirmationBlocks}set transactionConfirmationBlocks(e){this._triggerConfigChange("transactionConfirmationBlocks",e),this.config.transactionConfirmationBlocks=e}get transactionPollingInterval(){return this.config.transactionPollingInterval}set transactionPollingInterval(e){this._triggerConfigChange("transactionPollingInterval",e),this.config.transactionPollingInterval=e,this.transactionReceiptPollingInterval=e,this.transactionConfirmationPollingInterval=e}get transactionPollingTimeout(){return this.config.transactionPollingTimeout}set transactionPollingTimeout(e){this._triggerConfigChange("transactionPollingTimeout",e),this.config.transactionPollingTimeout=e}get transactionReceiptPollingInterval(){return this.config.transactionReceiptPollingInterval}set transactionReceiptPollingInterval(e){this._triggerConfigChange("transactionReceiptPollingInterval",e),this.config.transactionReceiptPollingInterval=e}get transactionConfirmationPollingInterval(){return this.config.transactionConfirmationPollingInterval}set transactionConfirmationPollingInterval(e){this._triggerConfigChange("transactionConfirmationPollingInterval",e),this.config.transactionConfirmationPollingInterval=e}get blockHeaderTimeout(){return this.config.blockHeaderTimeout}set blockHeaderTimeout(e){this._triggerConfigChange("blockHeaderTimeout",e),this.config.blockHeaderTimeout=e}get enableExperimentalFeatures(){return this.config.enableExperimentalFeatures}set enableExperimentalFeatures(e){this._triggerConfigChange("enableExperimentalFeatures",e),this.config.enableExperimentalFeatures=e}get maxListenersWarningThreshold(){return this.config.maxListenersWarningThreshold}set maxListenersWarningThreshold(e){this._triggerConfigChange("maxListenersWarningThreshold",e),this.setMaxListenerWarningThreshold(e),this.config.maxListenersWarningThreshold=e}get defaultReturnFormat(){return this.config.defaultReturnFormat}set defaultReturnFormat(e){this._triggerConfigChange("defaultReturnFormat",e),this.config.defaultReturnFormat=e}get defaultNetworkId(){return this.config.defaultNetworkId}set defaultNetworkId(e){this._triggerConfigChange("defaultNetworkId",e),this.config.defaultNetworkId=e}get defaultChain(){return this.config.defaultChain}set defaultChain(e){if(!(0,o.uy)(this.config.defaultCommon)&&!(0,o.uy)(this.config.defaultCommon.baseChain)&&e!==this.config.defaultCommon.baseChain)throw new i.Iy(this.config.defaultChain,e);this._triggerConfigChange("defaultChain",e),this.config.defaultChain=e}get defaultHardfork(){return this.config.defaultHardfork}set defaultHardfork(e){if(!(0,o.uy)(this.config.defaultCommon)&&!(0,o.uy)(this.config.defaultCommon.hardfork)&&e!==this.config.defaultCommon.hardfork)throw new i.CGx(this.config.defaultCommon.hardfork,e);this._triggerConfigChange("defaultHardfork",e),this.config.defaultHardfork=e}get defaultCommon(){return this.config.defaultCommon}set defaultCommon(e){if(!(0,o.uy)(this.config.defaultHardfork)&&!(0,o.uy)(e)&&!(0,o.uy)(e.hardfork)&&this.config.defaultHardfork!==e.hardfork)throw new i.CGx(this.config.defaultHardfork,e.hardfork);if(!(0,o.uy)(this.config.defaultChain)&&!(0,o.uy)(e)&&!(0,o.uy)(e.baseChain)&&this.config.defaultChain!==e.baseChain)throw new i.Iy(this.config.defaultChain,e.baseChain);this._triggerConfigChange("defaultCommon",e),this.config.defaultCommon=e}get ignoreGasPricing(){return this.config.ignoreGasPricing}set ignoreGasPricing(e){this._triggerConfigChange("ignoreGasPricing",e),this.config.ignoreGasPricing=e}get defaultTransactionType(){return this.config.defaultTransactionType}set defaultTransactionType(e){this._triggerConfigChange("defaultTransactionType",e),this.config.defaultTransactionType=e}get defaultMaxPriorityFeePerGas(){return this.config.defaultMaxPriorityFeePerGas}set defaultMaxPriorityFeePerGas(e){this._triggerConfigChange("defaultMaxPriorityFeePerGas",e),this.config.defaultMaxPriorityFeePerGas=e}get transactionBuilder(){return this.config.transactionBuilder}set transactionBuilder(e){this._triggerConfigChange("transactionBuilder",e),this.config.transactionBuilder=e}get transactionTypeParser(){return this.config.transactionTypeParser}set transactionTypeParser(e){this._triggerConfigChange("transactionTypeParser",e),this.config.transactionTypeParser=e}get customTransactionSchema(){return this.config.customTransactionSchema}set customTransactionSchema(e){this._triggerConfigChange("customTransactionSchema",e),this.config.customTransactionSchema=e}_triggerConfigChange(e,t){this.emit(r.CONFIG_CHANGE,{name:e,oldValue:this.config[e],newValue:t})}}var u=n(57751),d=n(74901);const l=e=>s.SB.isWeb3Provider(e),h=e=>"string"!==typeof e&&"request"in e&&"Function"===e.request.constructor.name,p=e=>"string"!==typeof e&&"request"in e&&"AsyncFunction"===e.request.constructor.name,g=e=>"string"!==typeof e&&"send"in e,f=e=>"string"!==typeof e&&"sendAsync"in e,m=e=>e&&(l(e)||p(e)||h(e)||f(e)||g(e)),v=e=>e&&"supportsSubscriptions"in e?e.supportsSubscriptions():!(!e||"string"===typeof e||!("on"in e));var y,b=function(e,t,n,r){function s(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function o(e){try{c(r.next(e))}catch(t){i(t)}}function a(e){try{c(r["throw"](e))}catch(t){i(t)}}function c(e){e.done?n(e.value):s(e.value).then(o,a)}c((r=r.apply(e,t||[])).next())}))};(function(e){e["PROVIDER_CHANGED"]="PROVIDER_CHANGED",e["BEFORE_PROVIDER_CHANGE"]="BEFORE_PROVIDER_CHANGE"})(y||(y={}));const w={HttpProvider:u.A,WebsocketProvider:d.A};class P extends a{constructor(e,t,n){super(),(0,o.uy)(e)||this.setProvider(e),this.useRpcCallSpecification=t,(0,o.uy)(n)||(this.middleware=n)}static get providers(){return w}get provider(){return this._provider}get providers(){return w}setProvider(e){let t;if(e&&"string"===typeof e&&this.providers)if(/^http(s)?:\/\//i.test(e))t=new this.providers.HttpProvider(e);else{if(!/^ws(s)?:\/\//i.test(e))throw new i.mZX(`Can't autodetect provider for "${e}"`);t=new this.providers.WebsocketProvider(e)}else t=(0,o.uy)(e)?void 0:e;return this.emit(y.BEFORE_PROVIDER_CHANGE,this._provider),this._provider=t,this.emit(y.PROVIDER_CHANGED,this._provider),!0}setMiddleware(e){this.middleware=e}send(e){return b(this,void 0,void 0,(function*(){const t=Object.assign({},e);let n=yield this._sendRequest(t);if((0,o.uy)(this.middleware)||(n=yield this.middleware.processResponse(n)),o.wE.isResponseWithResult(n))return n.result;throw new i.o3e(n)}))}sendBatch(e){return b(this,void 0,void 0,(function*(){const t=yield this._sendRequest(e);return t}))}_sendRequest(e){return b(this,void 0,void 0,(function*(){const{provider:t}=this;if((0,o.uy)(t))throw new i.mZX("Provider not available. Use `.setProvider` or `.provider=` to initialize the provider.");let n=o.wE.isBatchRequest(e)?o.wE.toBatchPayload(e):o.wE.toPayload(e);if((0,o.uy)(this.middleware)||(n=yield this.middleware.processRequest(n)),l(t)){let e;try{e=yield t.request(n)}catch(r){e=r}return this._processJsonRpcResponse(n,e,{legacy:!1,error:!1})}if(p(t))return t.request(n).then((e=>this._processJsonRpcResponse(n,e,{legacy:!0,error:!1}))).catch((e=>this._processJsonRpcResponse(n,e,{legacy:!0,error:!0})));if(h(t))return new Promise(((e,r)=>{const s=e=>{r(this._processJsonRpcResponse(n,e,{legacy:!0,error:!0}))},i=t=>e(this._processJsonRpcResponse(n,t,{legacy:!0,error:!1})),a=t.request(n,((e,t)=>e?s(e):i(t)));if((0,o.yL)(a)){const e=a;e.then(i).catch((e=>{try{const t=this._processJsonRpcResponse(n,e,{legacy:!0,error:!0});r(t)}catch(t){r(t)}}))}}));if(g(t))return new Promise(((e,r)=>{t.send(n,((t,s)=>{if(t)return r(this._processJsonRpcResponse(n,t,{legacy:!0,error:!0}));if((0,o.uy)(s))throw new i.o3e({},'Got a "nullish" response from provider.');return e(this._processJsonRpcResponse(n,s,{legacy:!0,error:!1}))}))}));if(f(t))return t.sendAsync(n).then((e=>this._processJsonRpcResponse(n,e,{legacy:!0,error:!1}))).catch((e=>this._processJsonRpcResponse(n,e,{legacy:!0,error:!0})));throw new i.mZX("Provider does not have a request or send method to use.")}))}_processJsonRpcResponse(e,t,{legacy:n,error:r}){if((0,o.uy)(t))return this._buildResponse(e,null,r);if(o.wE.isResponseWithError(t)){if(this.useRpcCallSpecification&&(0,o.jB)(t)){const e=t;if(i.lv4.get(e.error.code)){const t=i.lv4.get(e.error.code).error;throw new t(e)}throw new i.Qc(e)}if(!P._isReverted(t))throw new i.tFo(t,e)}if(o.wE.isResponseWithResult(t))return t;if(t instanceof Error)throw P._isReverted(t),t;if(!n&&o.wE.isBatchRequest(e)&&o.wE.isBatchResponse(t))return t;if(n&&!r&&o.wE.isBatchRequest(e))return t;if(n&&r&&o.wE.isBatchRequest(e))throw t;if(n&&!o.wE.isResponseWithError(t)&&!o.wE.isResponseWithResult(t))return this._buildResponse(e,t,r);if(o.wE.isBatchRequest(e)&&!Array.isArray(t))throw new i.o3e(t,"Got normal response for a batch request.");if(!o.wE.isBatchRequest(e)&&Array.isArray(t))throw new i.o3e(t,"Got batch response for a normal request.");throw new i.o3e(t,"Invalid response")}static _isReverted(e){let t;if(o.wE.isResponseWithError(e)?t=e.error:e instanceof Error&&(t=e),null===t||void 0===t?void 0:t.message.includes("revert"))throw new i.fQB(t);return!1}_buildResponse(e,t,n){const r={jsonrpc:"2.0",id:o.wE.isBatchRequest(e)?e[0].id:"id"in e?e.id:null};return n?Object.assign(Object.assign({},r),{error:t}):Object.assign(Object.assign({},r),{result:t})}}var x=function(e,t,n,r){function s(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function o(e){try{c(r.next(e))}catch(t){i(t)}}function a(e){try{c(r["throw"](e))}catch(t){i(t)}}function c(e){e.done?n(e.value):s(e.value).then(o,a)}c((r=r.apply(e,t||[])).next())}))};class _{constructor(e,t,n=!1){this.requestManager=e,this.registeredSubscriptions=t,this.tolerateUnlinkedSubscription=n,this._subscriptions=new Map,this.requestManager.on(y.BEFORE_PROVIDER_CHANGE,(()=>x(this,void 0,void 0,(function*(){yield this.unsubscribe()})))),this.requestManager.on(y.PROVIDER_CHANGED,(()=>{this.clear(),this.listenToProviderEvents()})),this.listenToProviderEvents()}listenToProviderEvents(){const e=this.requestManager.provider;this.requestManager.provider&&("function"!==typeof(null===e||void 0===e?void 0:e.supportsSubscriptions)||(null===e||void 0===e?void 0:e.supportsSubscriptions()))&&"function"===typeof this.requestManager.provider.on&&("function"===typeof this.requestManager.provider.request?this.requestManager.provider.on("message",(e=>this.messageListener(e))):e.on("data",(e=>this.messageListener(e))))}messageListener(e){var t,n,r;if(!e)throw new i.AAt("Should not call messageListener with no data. Type was");const s=(null===(t=e.params)||void 0===t?void 0:t.subscription)||(null===(n=e.data)||void 0===n?void 0:n.subscription)||(null===(r=e.id)||void 0===r?void 0:r.toString(16));if(s){const t=this._subscriptions.get(s);null===t||void 0===t||t.processSubscriptionData(e)}}subscribe(e,t){return x(this,arguments,void 0,(function*(e,t,n=s.Hh){const r=this.registeredSubscriptions[e];if(!r)throw new i.AAt("Invalid subscription type");const o=new r(null!==t&&void 0!==t?t:void 0,{subscriptionManager:this,returnFormat:n});return yield this.addSubscription(o),o}))}get subscriptions(){return this._subscriptions}addSubscription(e){return x(this,void 0,void 0,(function*(){if(!this.requestManager.provider)throw new i.mZX("Provider not available");if(!this.supportsSubscriptions())throw new i.AAt("The current provider does not support subscriptions");if(e.id&&this._subscriptions.has(e.id))throw new i.AAt(`Subscription with id "${e.id}" already exists`);if(yield e.sendSubscriptionRequest(),(0,o.uy)(e.id))throw new i.AAt("Subscription is not subscribed yet.");return this._subscriptions.set(e.id,e),e.id}))}removeSubscription(e){return x(this,void 0,void 0,(function*(){const{id:t}=e;if((0,o.uy)(t))throw new i.AAt("Subscription is not subscribed yet. Or, had already been unsubscribed but not through the Subscription Manager.");if(!this._subscriptions.has(t)&&!this.tolerateUnlinkedSubscription)throw new i.AAt(`Subscription with id "${t.toString()}" does not exists`);return yield e.sendUnsubscribeRequest(),this._subscriptions.delete(t),t}))}unsubscribe(e){return x(this,void 0,void 0,(function*(){const t=[];for(const[n,r]of this.subscriptions.entries())(!e||"function"===typeof e&&e({id:n,sub:r}))&&t.push(this.removeSubscription(r));return Promise.all(t)}))}clear(){this._subscriptions.clear()}supportsSubscriptions(){return!(0,o.uy)(this.requestManager.provider)&&v(this.requestManager.provider)}}var C=function(e,t,n,r){function s(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function o(e){try{c(r.next(e))}catch(t){i(t)}}function a(e){try{c(r["throw"](e))}catch(t){i(t)}}function c(e){e.done?n(e.value):s(e.value).then(o,a)}c((r=r.apply(e,t||[])).next())}))};class R extends a{constructor(e,t){var n;super(),this.args=e;const{requestManager:r}=t,{subscriptionManager:i}=t;this._subscriptionManager=r?new _(r,{},!0):i,this._returnFormat=null!==(n=null===t||void 0===t?void 0:t.returnFormat)&&void 0!==n?n:s.Hh}get id(){return this._id}get lastBlock(){return this._lastBlock}subscribe(){return C(this,void 0,void 0,(function*(){return this._subscriptionManager.addSubscription(this)}))}processSubscriptionData(e){var t,n;(null===e||void 0===e?void 0:e.data)?this._processSubscriptionResult(null!==(n=null===(t=null===e||void 0===e?void 0:e.data)||void 0===t?void 0:t.result)&&void 0!==n?n:null===e||void 0===e?void 0:e.data):e&&o.wE.isResponseWithNotification(e)&&this._processSubscriptionResult(null===e||void 0===e?void 0:e.params.result)}sendSubscriptionRequest(){return C(this,void 0,void 0,(function*(){return this._id=yield this._subscriptionManager.requestManager.send({method:"eth_subscribe",params:this._buildSubscriptionParams()}),this.emit("connected",this._id),this._id}))}get returnFormat(){return this._returnFormat}get subscriptionManager(){return this._subscriptionManager}resubscribe(){return C(this,void 0,void 0,(function*(){yield this.unsubscribe(),yield this.subscribe()}))}unsubscribe(){return C(this,void 0,void 0,(function*(){this.id&&(yield this._subscriptionManager.removeSubscription(this))}))}sendUnsubscribeRequest(){return C(this,void 0,void 0,(function*(){yield this._subscriptionManager.requestManager.send({method:"eth_unsubscribe",params:[this.id]}),this._id=void 0}))}formatSubscriptionResult(e){return e}_processSubscriptionResult(e){this.emit("data",this.formatSubscriptionResult(e))}_processSubscriptionError(e){this.emit("error",e)}_buildSubscriptionParams(){throw new Error("Implement in the child class")}}n(85834);var S=function(e,t,n,r){function s(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function o(e){try{c(r.next(e))}catch(t){i(t)}}function a(e){try{c(r["throw"](e))}catch(t){i(t)}}function c(e){e.done?n(e.value):s(e.value).then(o,a)}c((r=r.apply(e,t||[])).next())}))};const T=1e3;class A{constructor(e){this._requestManager=e,this._requests=new Map}get requests(){return[...this._requests.values()].map((e=>e.payload))}add(e){const t=o.wE.toPayload(e),n=new o.AI;return this._requests.set(t.id,{payload:t,promise:n}),n}execute(e){return S(this,void 0,void 0,(function*(){var t;if(0===this.requests.length)return Promise.resolve([]);const n=new o.AI({timeout:null!==(t=null===e||void 0===e?void 0:e.timeout)&&void 0!==t?t:T,eagerStart:!0,timeoutMessage:"Batch request timeout"});return this._processBatchRequest(n).catch((e=>n.reject(e))),n.catch((e=>{e instanceof i.FqJ&&this._abortAllRequests("Batch request timeout"),n.reject(e)})),n}))}_processBatchRequest(e){return S(this,void 0,void 0,(function*(){var t,n;const r=yield this._requestManager.sendBatch([...this._requests.values()].map((e=>e.payload)));if(r.length!==this._requests.size)throw this._abortAllRequests("Invalid batch response"),new i.o3e(r,`Batch request size mismatch the results size. Requests: ${this._requests.size}, Responses: ${r.length}`);const s=this.requests.map((e=>e.id)).map(Number).sort(((e,t)=>e-t)),a=r.map((e=>e.id)).map(Number).sort(((e,t)=>e-t));if(JSON.stringify(s)!==JSON.stringify(a))throw this._abortAllRequests("Invalid batch response"),new i.o3e(r,`Batch request mismatch the results. Requests: [${s.join()}], Responses: [${a.join()}]`);for(const e of r)o.wE.isResponseWithResult(e)?null===(t=this._requests.get(e.id))||void 0===t||t.promise.resolve(e.result):o.wE.isResponseWithError(e)&&(null===(n=this._requests.get(e.id))||void 0===n||n.promise.reject(e.error));e.resolve(r)}))}_abortAllRequests(e){for(const{promise:t}of this._requests.values())t.reject(new i.WtD(e))}}var E=function(e,t,n,r){function s(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function o(e){try{c(r.next(e))}catch(t){i(t)}}function a(e){try{c(r["throw"](e))}catch(t){i(t)}}function c(e){e.done?n(e.value):s(e.value).then(o,a)}c((r=r.apply(e,t||[])).next())}))};class q extends c{constructor(e){var t;if(super(),this.providers=P.providers,(0,o.uy)(e)||"string"===typeof e&&""!==e.trim()||m(e))return this._requestManager=new P(e),void(this._subscriptionManager=new _(this._requestManager,{}));const{config:n,provider:r,requestManager:s,subscriptionManager:i,registeredSubscriptions:a,accountProvider:c,wallet:u,requestManagerMiddleware:d}=e;this.setConfig(null!==n&&void 0!==n?n:{}),this._requestManager=null!==s&&void 0!==s?s:new P(r,null===(t=null===n||void 0===n?void 0:n.enableExperimentalFeatures)||void 0===t?void 0:t.useSubscriptionWhenCheckingBlockTimeout,d),this._subscriptionManager=i||new _(this.requestManager,null!==a&&void 0!==a?a:{}),c&&(this._accountProvider=c),u&&(this._wallet=u)}get requestManager(){return this._requestManager}get subscriptionManager(){return this._subscriptionManager}get wallet(){return this._wallet}get accountProvider(){return this._accountProvider}static fromContextObject(...e){return new this(...e.reverse())}getContextObject(){var e;return{config:this.config,provider:this.provider,requestManager:this.requestManager,subscriptionManager:this.subscriptionManager,registeredSubscriptions:null===(e=this.subscriptionManager)||void 0===e?void 0:e.registeredSubscriptions,providers:this.providers,wallet:this.wallet,accountProvider:this.accountProvider}}use(e,...t){const n=new e(...[...t,this.getContextObject()]);return this.on(r.CONFIG_CHANGE,(e=>{n.setConfig({[e.name]:e.newValue})})),this[e.name]=n,n}link(e){this.setConfig(e.config),this._requestManager=e.requestManager,this.provider=e.provider,this._subscriptionManager=e.subscriptionManager,this._wallet=e.wallet,this._accountProvider=e._accountProvider,e.on(r.CONFIG_CHANGE,(e=>{this.setConfig({[e.name]:e.newValue})}))}registerPlugin(e){if(void 0!==this[e.pluginNamespace])throw new i.aY6(e.pluginNamespace);const t={[e.pluginNamespace]:e};t[e.pluginNamespace].link(this),Object.assign(this,t)}get provider(){return this.currentProvider}set provider(e){this.requestManager.setProvider(e)}get currentProvider(){return this.requestManager.provider}set currentProvider(e){this.requestManager.setProvider(e)}get givenProvider(){return q.givenProvider}setProvider(e){return this.provider=e,!0}setRequestManagerMiddleware(e){this.requestManager.setMiddleware(e)}get BatchRequest(){return A.bind(void 0,this._requestManager)}extend(e){var t;return e.property&&!this[e.property]&&(this[e.property]={}),null===(t=e.methods)||void 0===t||t.forEach((t=>{const n=(...e)=>E(this,void 0,void 0,(function*(){return this.requestManager.send({method:t.call,params:e})}));e.property?this[e.property][t.name]=n:this[t.name]=n})),this}}q.providers=P.providers;n(19669),n(69825);var N,k=function(e,t,n,r){function s(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function o(e){try{c(r.next(e))}catch(t){i(t)}}function a(e){try{c(r["throw"](e))}catch(t){i(t)}}function c(e){e.done?n(e.value):s(e.value).then(o,a)}c((r=r.apply(e,t||[])).next())}))};class I extends a{constructor(e){super(),this[N]="Promise",this._promise=new Promise(e)}then(e,t){return k(this,void 0,void 0,(function*(){return this._promise.then(e,t)}))}catch(e){return k(this,void 0,void 0,(function*(){return this._promise.catch(e)}))}finally(e){return k(this,void 0,void 0,(function*(){return this._promise.finally(e)}))}on(e,t){return super.on(e,t),this}once(e,t){return super.once(e,t),this}}N=Symbol.toStringTag},39788:(e,t,n)=>{n.d(t,{XPP:()=>Me,vGW:()=>ve,Iy:()=>yt,CGx:()=>vt,Rcq:()=>xe,W8o:()=>_e,fQB:()=>Ee,SC6:()=>qe,B0b:()=>xt,c08:()=>ne,oo5:()=>ze,Ut4:()=>Ae,aY6:()=>je,Buf:()=>Ne,zH8:()=>lt,MsQ:()=>ct,oiV:()=>ht,xRF:()=>ot,Pgv:()=>We,EbX:()=>dt,lw5:()=>at,CGi:()=>Pe,Q8z:()=>it,tFo:()=>mt,jfZ:()=>Ue,NgH:()=>Ve,iqJ:()=>ut,fVU:()=>st,H9x:()=>Ce,juf:()=>ke,WtD:()=>Oe,FqJ:()=>Ie,aJ3:()=>Re,VJv:()=>we,mZX:()=>Be,kk9:()=>Se,o3e:()=>ft,Qc:()=>Pt,$D_:()=>jt,VAK:()=>$e,AAt:()=>He,tty:()=>tt,mPB:()=>Ye,byU:()=>nt,WCt:()=>Le,xyB:()=>et,Joe:()=>rt,nSB:()=>Je,ct4:()=>Ge,eFl:()=>De,C18:()=>Ze,KTA:()=>Qe,SNI:()=>Te,DL5:()=>Fe,lv4:()=>Mt});const r=100,s=101,i=201,o=202,a=203,c=204,u=205,d=206,l=208,h=300,p=310,g=311,f=400,m=402,v=405,y=408,b=423,w=424,P=425,x=426,_=427,C=428,R=429,S=430,T=431,A=432,E=437,q=438,N=439,k=500,I=503,O=505,M=506,j=507,B=600,W=602,H=603,F=604,$=701,X=702,J=801,G=4001,D=4100,L=4200,V=4900,U=4901,z=1002,Q=1003,Y=1004,Z=1005,K=1006,ee=1008,te=1015,ne=1100,re=1101,se=1200,ie=-32700,oe=-32600,ae=-32601,ce=-32602,ue=-32603,de=-32e3,le=-32001,he=-32002,pe=-32003,ge=-32004,fe=-32005,me=-32006;class ve extends Error{get innerError(){return this.cause instanceof ye?this.cause.errors:this.cause}set innerError(e){Array.isArray(e)?this.cause=new ye(e):this.cause=e}constructor(e,t){super(e),Array.isArray(t)?this.cause=new ye(t):this.cause=t,this.name=this.constructor.name,"function"===typeof Error.captureStackTrace?Error.captureStackTrace(new.target.constructor):this.stack=(new Error).stack}static convertToString(e,t=!1){if(null===e||void 0===e)return"undefined";const n=JSON.stringify(e,((e,t)=>"bigint"===typeof t?t.toString():t));return t&&["bigint","string"].includes(typeof e)?n.replace(/['\\"]+/g,""):n}toJSON(){return{name:this.name,code:this.code,message:this.message,cause:this.cause,innerError:this.cause}}}class ye extends ve{constructor(e){super(`Multiple errors occurred: [${e.map((e=>e.message)).join("], [")}]`),this.code=l,this.errors=e}}class be extends ve{constructor(e,t){super(`Invalid value given "${ve.convertToString(e,!0)}". Error: ${t}.`),this.name=this.constructor.name}}class we extends ve{constructor(){super("Private key must be 32 bytes."),this.code=$}}class Pe extends ve{constructor(){super("Invalid Private Key, Not a valid string or uint8Array"),this.code=X}}class xe extends ve{constructor(e,t){super(e),this.code=k,t&&(this.errorCode=t.code,this.errorReason=t.reason)}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{errorCode:this.errorCode,errorReason:this.errorReason})}}class _e extends xe{constructor(e){super("Connection not open",e),this.code=I}}class Ce extends xe{constructor(e){super(`Maximum number of reconnect attempts reached! (${e})`),this.code=O}}class Re extends xe{constructor(){super("CONNECTION ERROR: Provider started to reconnect before the response got received!"),this.code=M}}class Se extends xe{constructor(e){super(`Request already sent with following id: ${e}`),this.code=j}}class Te extends ve{constructor(e,t){super(e),this.code=h,this.receipt=t}}class Ae extends Te{constructor(e){if(super(e.message||"Error"),this.name="name"in e&&e.name||this.constructor.name,this.stack="stack"in e&&e.stack||void 0,this.code=e.code,"object"===typeof e.data){let t;t=e.data&&"originalError"in e.data?e.data.originalError:e.data,this.data=t.data,this.cause=new Ae(t)}else this.data=e.data}setDecodedProperties(e,t,n){this.errorName=e,this.errorSignature=t,this.errorArgs=n}toJSON(){let e=Object.assign(Object.assign({},super.toJSON()),{data:this.data});return this.errorName&&(e=Object.assign(Object.assign({},e),{errorName:this.errorName,errorSignature:this.errorSignature,errorArgs:this.errorArgs})),e}}class Ee extends Te{constructor(e){super("Error happened while trying to execute a function inside a smart contract"),this.code=p,this.cause=new Ae(e)}}class qe extends be{constructor(e){var t,n;super(`data: ${null!==(t=e.data)&&void 0!==t?t:"undefined"}, input: ${null!==(n=e.input)&&void 0!==n?n:"undefined"}`,'You can\'t have "data" and "input" as properties of a contract at the same time, please use either "data" or "input" instead.'),this.code=g}}class Ne extends ve{constructor(){super(...arguments),this.code=i}}class ke extends ve{constructor(){super("The method you're trying to call is not implemented."),this.code=o}}class Ie extends ve{constructor(){super(...arguments),this.code=a}}class Oe extends ve{constructor(){super(...arguments),this.code=c}}class Me extends ve{constructor(e,t){super(e),this.code=u,this.props=null!==t&&void 0!==t?t:{}}}class je extends ve{constructor(e){super(`A plugin with the namespace: ${e} has already been registered.`),this.code=d}}class Be extends ve{constructor(){super(...arguments),this.code=B}}class We extends ve{constructor(e){super(`Client URL "${e}" is invalid.`),this.code=W}}class He extends ve{constructor(){super(...arguments),this.code=H}}class Fe extends ve{constructor(){super(...arguments),this.code=F}}class $e extends be{constructor(){super(...arguments),this.code=J}}class Xe extends ve{constructor(e,t){super(e),this.receipt=t,this.code=f}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{receipt:this.receipt})}}class Je extends ve{constructor(e,t,n,r){super("Transaction has been reverted by the EVM"+(void 0===n?"":`:\n ${ve.convertToString(n)}`)),this.reason=e,this.signature=t,this.receipt=n,this.data=r,this.code=m}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{reason:this.reason,signature:this.signature,receipt:this.receipt,data:this.data})}}class Ge extends Je{constructor(e,t,n,r,s,i,o){super(e),this.reason=e,this.customErrorName=t,this.customErrorDecodedSignature=n,this.customErrorArguments=r,this.signature=s,this.receipt=i,this.data=o,this.code=q}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{reason:this.reason,customErrorName:this.customErrorName,customErrorDecodedSignature:this.customErrorDecodedSignature,customErrorArguments:this.customErrorArguments,signature:this.signature,receipt:this.receipt,data:this.data})}}class De extends Xe{constructor(e){super("Transaction has been reverted by the EVM"+(void 0===e?"":`:\n ${ve.convertToString(e)}`),e),this.code=v}}class Le extends Xe{constructor(){super("Transaction not found"),this.code=S}}class Ve extends be{constructor(e){super(e,"invalid transaction with invalid sender"),this.code=y}}class Ue extends be{constructor(e){super(e,"invalid transaction with invalid receiver"),this.code=E}}class ze extends be{constructor(){super("Eip1559NotSupportedError","Network doesn't support eip-1559"),this.code=b}}class Qe extends be{constructor(e){super(e,"unsupported transaction type"),this.code=w}}class Ye extends be{constructor(e){var t,n;super(`data: ${null!==(t=e.data)&&void 0!==t?t:"undefined"}, input: ${null!==(n=e.input)&&void 0!==n?n:"undefined"}`,'You can\'t have "data" and "input" as properties of transactions at the same time, please use either "data" or "input" instead.'),this.code=P}}class Ze extends ve{constructor(e){super(`The connected Ethereum Node did not respond within ${e.numberOfSeconds} seconds, please make sure your transaction was properly sent and you are connected to a healthy Node. Be aware that transaction might still be pending or mined!\n\tTransaction Hash: ${e.transactionHash?e.transactionHash.toString():"not available"}`),this.code=T}}function Ke(e){return`Please make sure your transaction was properly sent and there are no previous pending transaction for the same account. However, be aware that it might still be mined!\n\tTransaction Hash: ${e?e.toString():"not available"}`}class et extends ve{constructor(e){super(`Transaction was not mined within ${e.numberOfSeconds} seconds. ${Ke(e.transactionHash)}`),this.code=x}}class tt extends ve{constructor(e){super(`Transaction started at ${e.starterBlockNumber} but was not mined within ${e.numberOfBlocks} blocks. ${Ke(e.transactionHash)}`),this.code=A}}class nt extends be{constructor(e){var t,n;super(`receipt: ${JSON.stringify(e.receipt)}, blockHash: ${null===(t=e.blockHash)||void 0===t?void 0:t.toString()}, transactionHash: ${null===(n=e.transactionHash)||void 0===n?void 0:n.toString()}`,"Receipt missing or blockHash null"),this.code=_}}class rt extends be{constructor(e){super(`receipt: ${JSON.stringify(e.receipt)}`,"Receipt missing block number"),this.code=C}}class st extends be{constructor(){super("LocalWalletNotAvailableError","Attempted to index account in local wallet, but no wallet is available"),this.code=R}}class it extends ve{constructor(e,t){const n=[];e.forEach((e=>n.push(e.keyword))),super(`The following properties are invalid for the transaction type ${t}: ${n.join(", ")}`),this.code=N}}class ot extends be{constructor(e){super(e,"can not parse as byte data"),this.code=z}}class at extends be{constructor(e){super(e,"can not parse as number data"),this.code=Q}}class ct extends be{constructor(e){super(e,"invalid ethereum address"),this.code=Z}}class ut extends be{constructor(e){super(e,"invalid unit"),this.code=Y}}class dt extends be{constructor(e){super(e,"not a valid unit. Must be a positive integer"),this.code=te}}class lt extends be{constructor(e){super(e,"can not be converted to hex"),this.code=K}}class ht extends be{constructor(e){super(e,"not a valid boolean."),this.code=ee}}const pt=e=>!Array.isArray(e)&&"2.0"===e.jsonrpc&&!!e&&(void 0===e.result||null===e.result)&&"error"in e&&("number"===typeof e.id||"string"===typeof e.id),gt=e=>pt(e)?e.error.message:"";class ft extends ve{constructor(e,t,n,s){var i;let o;super(null!==t&&void 0!==t?t:`Returned error: ${Array.isArray(e)?e.map((e=>gt(e))).join(","):gt(e)}`),this.code=r,t||(this.data=Array.isArray(e)?e.map((e=>{var t;return null===(t=e.error)||void 0===t?void 0:t.data})):null===(i=null===e||void 0===e?void 0:e.error)||void 0===i?void 0:i.data),this.statusCode=s,this.request=n,"error"in e?o=e.error:e instanceof Array&&(o=e.filter((e=>e.error)).map((e=>e.error))),Array.isArray(o)&&o.length>0?this.cause=new ye(o):this.cause=o}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{data:this.data,request:this.request,statusCode:this.statusCode})}}class mt extends ft{constructor(e,t){let n;super(e,void 0,t),this.code=s,"error"in e?n=e.error:e instanceof Array&&(n=e.map((e=>e.error))),Array.isArray(n)?this.cause=new ye(n):this.cause=n}}class vt extends ve{constructor(e,t){super(`Web3Config hardfork doesnt match in defaultHardfork ${e} and common.hardfork ${t}`),this.code=re}}class yt extends ve{constructor(e,t){super(`Web3Config chain doesnt match in defaultHardfork ${e} and common.hardfork ${t}`),this.code=re}}const bt="An Rpc error has occured with a code of *code*",wt={[ie]:{message:"Parse error",description:"Invalid JSON"},[oe]:{message:"Invalid request",description:"JSON is not a valid request object\t"},[ae]:{message:"Method not found",description:"Method does not exist\t"},[ce]:{message:"Invalid params",description:"Invalid method parameters"},[ue]:{message:"Internal error",description:"Internal JSON-RPC error"},[de]:{message:"Invalid input",description:"Missing or invalid parameters"},[le]:{message:"Resource not found",description:"Requested resource not found"},[he]:{message:"Resource unavailable",description:"Requested resource not available"},[pe]:{message:"Transaction rejected",description:"Transaction creation failed"},[ge]:{message:"Method not supported",description:"Method is not implemented"},[fe]:{message:"Limit exceeded",description:"Request exceeds defined limit"},[me]:{message:"JSON-RPC version not supported",description:"Version of JSON-RPC protocol is not supported"},[G]:{name:"User Rejected Request",message:"The user rejected the request."},[D]:{name:"Unauthorized",message:"The requested method and/or account has not been authorized by the user."},[L]:{name:"Unsupported Method",message:"The Provider does not support the requested method."},[V]:{name:"Disconnected",message:"The Provider is disconnected from all chains."},[U]:{name:"Chain Disconnected",message:"The Provider is not connected to the requested chain."},"0-999":{name:"",message:"Not used."},1e3:{name:"Normal Closure",message:"The connection successfully completed the purpose for which it was created."},1001:{name:"Going Away",message:"The endpoint is going away, either because of a server failure or because the browser is navigating away from the page that opened the connection."},1002:{name:"Protocol error",message:"The endpoint is terminating the connection due to a protocol error."},1003:{name:"Unsupported Data",message:"The connection is being terminated because the endpoint received data of a type it cannot accept. (For example, a text-only endpoint received binary data.)"},1004:{name:"Reserved",message:"Reserved. A meaning might be defined in the future."},1005:{name:"No Status Rcvd",message:"Reserved. Indicates that no status code was provided even though one was expected."},1006:{name:"Abnormal Closure",message:"Reserved. Indicates that a connection was closed abnormally (that is, with no close frame being sent) when a status code is expected."},1007:{name:"Invalid frame payload data",message:"The endpoint is terminating the connection because a message was received that contained inconsistent data (e.g., non-UTF-8 data within a text message)."},1008:{name:"Policy Violation",message:"The endpoint is terminating the connection because it received a message that violates its policy. This is a generic status code, used when codes 1003 and 1009 are not suitable."},1009:{name:"Message Too Big",message:"The endpoint is terminating the connection because a data frame was received that is too large."},1010:{name:"Mandatory Ext.",message:"The client is terminating the connection because it expected the server to negotiate one or more extension, but the server didn't."},1011:{name:"Internal Error",message:"The server is terminating the connection because it encountered an unexpected condition that prevented it from fulfilling the request."},1012:{name:"Service Restart",message:"The server is terminating the connection because it is restarting."},1013:{name:"Try Again Later",message:"The server is terminating the connection due to a temporary condition, e.g. it is overloaded and is casting off some of its clients."},1014:{name:"Bad Gateway",message:"The server was acting as a gateway or proxy and received an invalid response from the upstream server. This is similar to 502 HTTP Status Code."},1015:{name:"TLS handshake",message:"Reserved. Indicates that the connection was closed due to a failure to perform a TLS handshake (e.g., the server certificate can't be verified)."},"1016-2999":{name:"",message:"For definition by future revisions of the WebSocket Protocol specification, and for definition by extension specifications."},"3000-3999":{name:"",message:"For use by libraries, frameworks, and applications. These status codes are registered directly with IANA. The interpretation of these codes is undefined by the WebSocket protocol."},"4000-4999":{name:"",message:"For private use, and thus can't be registered. Such codes can be used by prior agreements between WebSocket applications. The interpretation of these codes is undefined by the WebSocket protocol."}};class Pt extends ve{constructor(e,t){super(null!==t&&void 0!==t?t:bt.replace("*code*",e.error.code.toString())),this.code=e.error.code,this.id=e.id,this.jsonrpc=e.jsonrpc,this.jsonRpcError=e.error}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{error:this.jsonRpcError,id:this.id,jsonRpc:this.jsonrpc})}}class xt extends ve{constructor(e,t){var n,r,s,i;if(e)if(null===(n=wt[e])||void 0===n?void 0:n.message)super(wt[e].message);else{const t=Object.keys(wt).find((t=>"string"===typeof t&&e>=parseInt(t.split("-")[0],10)&&e<=parseInt(t.split("-")[1],10)));super(null!==(s=null===(r=wt[null!==t&&void 0!==t?t:""])||void 0===r?void 0:r.message)&&void 0!==s?s:bt.replace("*code*",null!==(i=null===e||void 0===e?void 0:e.toString())&&void 0!==i?i:'""'))}else super();this.code=e,this.data=t}}class _t extends Pt{constructor(e){super(e,wt[ie].message),this.code=ie}}class Ct extends Pt{constructor(e){super(e,wt[oe].message),this.code=oe}}class Rt extends Pt{constructor(e){super(e,wt[ae].message),this.code=ae}}class St extends Pt{constructor(e){super(e,wt[ce].message),this.code=ce}}class Tt extends Pt{constructor(e){super(e,wt[ue].message),this.code=ue}}class At extends Pt{constructor(e){super(e,wt[de].message),this.code=de}}class Et extends Pt{constructor(e){super(e,wt[ge].message),this.code=ge}}class qt extends Pt{constructor(e){super(e,wt[he].message),this.code=he}}class Nt extends Pt{constructor(e){super(e,wt[le].message),this.code=le}}class kt extends Pt{constructor(e){super(e,wt[me].message),this.code=me}}class It extends Pt{constructor(e){super(e,wt[pe].message),this.code=pe}}class Ot extends Pt{constructor(e){super(e,wt[fe].message),this.code=fe}}const Mt=new Map;Mt.set(ie,{error:_t}),Mt.set(oe,{error:Ct}),Mt.set(ae,{error:Rt}),Mt.set(ce,{error:St}),Mt.set(ue,{error:Tt}),Mt.set(de,{error:At}),Mt.set(ge,{error:Et}),Mt.set(he,{error:qt}),Mt.set(pe,{error:It}),Mt.set(le,{error:Nt}),Mt.set(me,{error:kt}),Mt.set(fe,{error:Ot});class jt extends ve{constructor(e){super(`Format for the type ${e} is unsupported`),this.type=e,this.code=se}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{type:this.type})}}},92426:(e,t,n)=>{n.d(t,{Zo:()=>de,bQ:()=>ie,dM:()=>oe,Nr:()=>ue,T3:()=>f,fY:()=>se,yF:()=>ee,ve:()=>Z,lN:()=>K,ry:()=>c,VW:()=>i,b8:()=>o,zH:()=>a,Bv:()=>p});var r=n(14387),s=n(39788);const i=e=>!(0,r.uy)(e)&&"object"===typeof e&&!(0,r.uy)(e.type)&&"error"===e.type,o=e=>!(0,r.uy)(e)&&"object"===typeof e&&!(0,r.uy)(e.type)&&"event"===e.type,a=e=>!(0,r.uy)(e)&&"object"===typeof e&&!(0,r.uy)(e.type)&&"function"===e.type,c=e=>!(0,r.uy)(e)&&"object"===typeof e&&!(0,r.uy)(e.type)&&"constructor"===e.type,u=e=>"object"===typeof e&&"undefined"===typeof e.components&&"undefined"===typeof e.name,d=e=>e.includes("[]")?{type:"tuple[]",name:e.slice(0,-2)}:{type:"tuple",name:e},l=e=>{const t=[];for(const n of Object.keys(e)){const r=e[n];"object"===typeof r?t.push(Object.assign(Object.assign({},d(n)),{components:l(r)})):t.push({name:n,type:e[n]})}return t},h=(e,t)=>{const n=[];return t.forEach((t=>{if("object"===typeof t.components){if(!t.type.startsWith("tuple"))throw new s.XPP(`Invalid value given "${t.type}". Error: components found but type is not tuple.`);const r=t.type.indexOf("["),i=r>=0?t.type.substring(r):"",o=h(e,t.components);Array.isArray(o)&&e?n.push(`tuple(${o.join(",")})${i}`):e?n.push(`(${o.join()})`):n.push(`(${o.join(",")})${i}`)}else n.push(t.type)})),n},p=e=>{var t,n,r,s;return i(e)||o(e)||a(e)?(null===(t=e.name)||void 0===t?void 0:t.includes("("))?e.name:`${null!==(n=e.name)&&void 0!==n?n:""}(${h(!1,null!==(r=e.inputs)&&void 0!==r?r:[]).join(",")})`:`(${h(!1,null!==(s=e.inputs)&&void 0!==s?s:[]).join(",")})`},g=e=>{if("string"!==typeof e&&!i(e))throw new s.XPP("Invalid parameter value in encodeErrorSignature");let t;return t=!e||"function"!==typeof e&&"object"!==typeof e?e:p(e),(0,r.aQ)(t)},f=e=>{if("string"!==typeof e&&!o(e))throw new s.XPP("Invalid parameter value in encodeEventSignature");let t;return t=!e||"function"!==typeof e&&"object"!==typeof e?e:p(e),(0,r.aQ)(t)};var m=n(69825),v=n(39443);const y=32;function b(e=0){var t;if(void 0!==(null===(t=globalThis.Buffer)||void 0===t?void 0:t.alloc)){const t=globalThis.Buffer.alloc(e);return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}return new Uint8Array(e)}function w(e){var t,n;return Object.assign(Object.assign({},e),{name:null!==(t=e.name)&&void 0!==t?t:"",components:null===(n=e.components)||void 0===n?void 0:n.map((e=>w(e)))})}function P(e){return!(0,r.uy)(e)&&"object"===typeof e&&!(0,r.uy)(e.type)&&"string"===typeof e.type}function x(e){return e.map((e=>{var t;if(P(e))return e;if("string"===typeof e)return w((0,v.Pj)(e.replace(/tuple/,"")));if(u(e)){const n=Object.keys(e)[0],r=d(n);return r.name=null!==(t=r.name)&&void 0!==t?t:"",Object.assign(Object.assign({},r),{components:l(e[n])})}throw new s.XPP("Invalid abi")}))}function _(e){const t=e.type.lastIndexOf("["),n=e.type.substring(0,t),r=e.type.substring(t);let i=-1;if("[]"!==r&&(i=Number(r.slice(1,-1)),isNaN(i)))throw new s.XPP("Invalid fixed array size",{size:r});return{param:{type:n,name:"",components:e.components},size:i}}function C(e){var t,n;return!("string"!==e.type&&"bytes"!==e.type&&!e.type.endsWith("[]"))||("tuple"===e.type?null!==(n=null===(t=e.components)||void 0===t?void 0:t.some(C))&&void 0!==n&&n:!!e.type.endsWith("]")&&C(_(e).param))}const R=20,S=y-R;function T(e,t){if("string"!==typeof t)throw new s.XPP("address type expects string as input type",{value:t,name:e.name,type:e.type});let n=t.toLowerCase();if(n.startsWith("0x")||(n=`0x${n}`),!(0,m.PW)(n))throw new s.XPP("provided input is not valid address",{value:t,name:e.name,type:e.type});const r=m.Wp.hexToUint8Array(n),i=b(y);return i.set(r,S),{dynamic:!1,encoded:i}}function A(e,t){const n=t.subarray(S,y);if(n.length!==R)throw new s.XPP("Invalid decoding input, not enough bytes to decode address",{bytes:t});const i=m.Wp.uint8ArrayToHexString(n);return{result:(0,r.BA)(i),encoded:t.subarray(y),consumed:y}}const E=new Map;let q=BigInt(256);for(let le=8;le<=256;le+=8)E.set(`uint${le}`,{min:BigInt(0),max:q-BigInt(1)}),E.set(`int${le}`,{min:-q/BigInt(2),max:q/BigInt(2)-BigInt(1)}),q*=BigInt(256);E.set("int",E.get("int256")),E.set("uint",E.get("uint256"));const N=BigInt(1)<<BigInt(256);function k(e,t=y){let n;return n=e<0?(N+e).toString(16):e.toString(16),n=(0,r.Ho)(n,2*t),m.Wp.hexToUint8Array(n)}function I(e,t){const n=m.Wp.uint8ArrayToHexString(e),r=BigInt(n);return r<=t?r:r-N}function O(e,t){let n;try{n=(0,r.Dg)(t)}catch(o){throw new s.XPP("provided input is not number value",{type:e.type,value:t,name:e.name})}const i=E.get(e.type);if(!i)throw new s.XPP("provided abi contains invalid number datatype",{type:e.type});if(n<i.min)throw new s.XPP("provided input is less then minimum for given type",{type:e.type,value:t,name:e.name,minimum:i.min.toString()});if(n>i.max)throw new s.XPP("provided input is greater then maximum for given type",{type:e.type,value:t,name:e.name,maximum:i.max.toString()});return{dynamic:!1,encoded:k(n)}}function M(e,t){if(t.length<y)throw new s.XPP("Not enough bytes left to decode",{param:e,bytesLeft:t.length});const n=t.subarray(0,y),r=E.get(e.type);if(!r)throw new s.XPP("provided abi contains invalid number datatype",{type:e.type});const i=I(n,r.max);if(i<r.min)throw new s.XPP("decoded value is less then minimum for given type",{type:e.type,value:i,name:e.name,minimum:r.min.toString()});if(i>r.max)throw new s.XPP("decoded value is greater then maximum for given type",{type:e.type,value:i,name:e.name,maximum:r.max.toString()});return{result:i,encoded:t.subarray(y),consumed:y}}function j(e,t){let n;try{n=(0,r.AF)(t)}catch(i){if(i instanceof s.oiV)throw new s.XPP("provided input is not valid boolean value",{type:e.type,value:t,name:e.name})}return O({type:"uint8",name:""},Number(n))}function B(e,t){const n=M({type:"uint8",name:""},t);if(n.result>1||n.result<0)throw new s.XPP("Invalid boolean value encoded",{boolBytes:t.subarray(0,y),numberResult:n});return{result:n.result===BigInt(1),encoded:n.encoded,consumed:y}}const W=32;function H(e,t){if("string"===typeof t&&t.length%2!==0&&(t+="0"),!(0,m.aY)(t))throw new s.XPP("provided input is not valid bytes value",{type:e.type,value:t,name:e.name});const n=(0,r.E3)(t),[,i]=e.type.split("bytes");if(i){if(Number(i)>W||Number(i)<1)throw new s.XPP("invalid bytes type. Static byte type can have between 1 and 32 bytes",{type:e.type});if(Number(i)<n.length)throw new s.XPP("provided input size is different than type size",{type:e.type,value:t,name:e.name});const r=b(y);return r.set(n),{dynamic:!1,encoded:r}}const o=Math.ceil(n.length/y),a=b(y+o*y);return a.set(O({type:"uint32",name:""},n.length).encoded),a.set(n,y),{dynamic:!0,encoded:a}}function F(e,t){const[,n]=e.type.split("bytes");let i=Number(n),o=t,a=1,c=0;if(!i){const e=M({type:"uint32",name:""},o);i=Number(e.result),c+=e.consumed,o=e.encoded,a=Math.ceil(i/y)}if(i>t.length)throw new s.XPP("there is not enough data to decode",{type:e.type,encoded:t,size:i});return{result:(0,r.My)(o.subarray(0,i)),encoded:o.subarray(a*y),consumed:c+a*y}}function $(e,t){if("string"!==typeof t)throw new s.XPP("invalid input, should be string",{input:t});const n=(0,r.hl)(t);return H({type:"bytes",name:""},n)}function X(e,t){const n=F({type:"bytes",name:""},t);return{result:(0,r.m2)(n.result),encoded:n.encoded,consumed:n.consumed}}function J(e){let t=0,n=0;const s=[],i=[];for(const r of e)r.dynamic?t+=y:t+=r.encoded.length;for(const r of e)r.dynamic?(s.push(O({type:"uint256",name:""},t+n)),i.push(r),n+=r.encoded.length):s.push(r);return(0,r.cX)(...s.map((e=>e.encoded)),...i.map((e=>e.encoded)))}function G(e,t){if(!Array.isArray(t))throw new s.XPP("Expected value to be array",{abi:e,values:t});const{size:n,param:i}=_(e),o=t.map((e=>L(i,e))),a=-1===n,c=o.length>0&&o[0].dynamic;if(!a&&t.length!==n)throw new s.XPP("Given arguments count doesn't match array length",{arrayLength:n,argumentsLength:t.length});if(a||c){const e=J(o);if(a){const t=O({type:"uint256",name:""},o.length).encoded;return{dynamic:!0,encoded:o.length>0?(0,r.cX)(t,e):t}}return{dynamic:!0,encoded:e}}return{dynamic:!1,encoded:(0,r.cX)(...o.map((e=>e.encoded)))}}function D(e,t){let{size:n,param:r}=_(e);const s=-1===n;let i=0;const o=[];let a=t;if(s){const e=M({type:"uint32",name:""},t);n=Number(e.result),i=e.consumed,a=e.encoded}const c=C(r);if(c){for(let e=0;e<n;e+=1){const t=M({type:"uint32",name:""},a.subarray(e*y));i+=t.consumed;const n=V(r,a.subarray(Number(t.result)));i+=n.consumed,o.push(n.result)}return{result:o,encoded:a.subarray(i),consumed:i}}for(let u=0;u<n;u+=1){const e=V(r,t.subarray(i));i+=e.consumed,o.push(e.result)}return{result:o,encoded:t.subarray(i),consumed:i}}function L(e,t){if("string"===e.type)return $(e,t);if("bool"===e.type)return j(e,t);if("address"===e.type)return T(e,t);if("tuple"===e.type)return U(e,t);if(e.type.endsWith("]"))return G(e,t);if(e.type.startsWith("bytes"))return H(e,t);if(e.type.startsWith("uint")||e.type.startsWith("int"))return O(e,t);throw new s.XPP("Unsupported",{param:e,value:t})}function V(e,t){if("string"===e.type)return X(e,t);if("bool"===e.type)return B(e,t);if("address"===e.type)return A(e,t);if("tuple"===e.type)return z(e,t);if(e.type.endsWith("]"))return D(e,t);if(e.type.startsWith("bytes"))return F(e,t);if(e.type.startsWith("uint")||e.type.startsWith("int"))return M(e,t);throw new s.XPP("Unsupported",{param:e,bytes:t})}function U(e,t){var n,i,o;let a=!1;if(!Array.isArray(t)&&"object"!==typeof t)throw new s.XPP("param must be either Array or Object",{param:e,input:t});const c=t,u=[];for(let r=0;r<(null!==(i=null===(n=e.components)||void 0===n?void 0:n.length)&&void 0!==i?i:0);r+=1){const n=e.components[r];let i;if(Array.isArray(c)){if(r>=c.length)throw new s.XPP("input param length missmatch",{param:e,input:t});i=L(n,c[r])}else{const r=c[null!==(o=n.name)&&void 0!==o?o:""];if(void 0===r||null===r)throw new s.XPP("missing input defined in abi",{param:e,input:t,paramName:n.name});i=L(n,r)}i.dynamic&&(a=!0),u.push(i)}return a?{dynamic:!0,encoded:J(u)}:{dynamic:!1,encoded:(0,r.cX)(...u.map((e=>e.encoded)))}}function z(e,t){const n={__length__:0};let r=0;if(!e.components)return{result:n,encoded:t,consumed:r};let s=0;for(const[i,o]of e.components.entries()){let e;if(C(o)){const n=M({type:"uint32",name:""},t.subarray(r));e=V(o,t.subarray(Number(n.result))),r+=n.consumed,s+=e.consumed}else e=V(o,t.subarray(r)),r+=e.consumed;n.__length__+=1,n[i]=e.result,o.name&&""!==o.name&&(n[o.name]=e.result)}return{encoded:t.subarray(r+s),result:n,consumed:r+s}}function Q(e,t,n){const r=x(e),s=m.Wp.hexToUint8Array(t);return z({type:"tuple",name:"",components:r},s).result}function Y(e){const t=[];return e.forEach((e=>{if(Array.isArray(e)){const n=Y(e);t.push({type:"tuple",components:n,name:""})}else t.push({type:(0,r.nj)(e,!0)})})),t}function Z(e,t){if((null===e||void 0===e?void 0:e.length)!==t.length)throw new s.XPP("Invalid number of values received for given ABI",{expected:null===e||void 0===e?void 0:e.length,received:t.length});const n=x(e);return m.Wp.uint8ArrayToHexString(U({type:"tuple",name:"",components:n},t).encoded)}function K(e){try{const t=Y(e);return m.Wp.uint8ArrayToHexString(U({type:"tuple",name:"",components:t},e).encoded)}catch(t){throw new s.XPP("Could not infer types from given params",{params:e})}}const ee=(e,t)=>Z([e],[t]),te=(e,t,n)=>{try{if(e.length>0&&(!t||"0x"===t||"0X"===t))throw new s.XPP("Returned values aren't valid, did it run Out of Gas? You might also see this error if you are not using the correct ABI for the contract you are retrieving data from, requesting data from a block number that does not exist, or querying a node which is not fully synced.");return Q(e,`0x${t.replace(/0x/i,"")}`,n)}catch(r){throw new s.XPP(`Parameter decoding error: ${r.message}`,{internalErr:r})}},ne=(e,t)=>te(e,t,!1),re=(e,t)=>ne([e],t)["0"],se=e=>{if("string"!==typeof e&&!a(e))throw new s.XPP("Invalid parameter value in encodeFunctionSignature");let t;return t=!e||"function"!==typeof e&&"object"!==typeof e?e:p(e),(0,r.aQ)(t).slice(0,10)},ie=(e,t,n=!0)=>{const r=n&&t&&t.length>=10&&t.startsWith("0x")?t.slice(10):t;if(!e.inputs)throw new s.SNI("No inputs found in the ABI");const i=ne([...e.inputs],r);return Object.assign(Object.assign({},i),{__method__:p(e)})},oe=(e,t)=>{if("constructor"===e.type)return t;if(!t)return null;const n=t.length>=2?t.slice(2):t;if(!e.outputs)return null;const r=ne([...e.outputs],n);return 1===r.__length__?r[0]:r},ae=["bool","string","int","uint","address","fixed","ufixed"],ce=(e,t)=>"string"===e?t:re(e,t),ue=(e,t,n)=>{const r=Array.isArray(n)?n:[n],s={},i={};for(const[h,p]of e.entries())p.indexed?s[h]=p:i[h]=p;const o=t?te(Object.values(i),t,!0):{__length__:0},a=r.length-Object.keys(s).length,c=Object.values(s).map(((e,t)=>ae.some((t=>e.type.startsWith(t)))?ce(e.type,r[t+a]):r[t+a])),u={__length__:0};let d=0,l=0;for(const[h,p]of e.entries())u[h]="string"===p.type?"":void 0,s[h]&&(u[h]=c[d],d+=1),i[h]&&(u[h]=o[String(l)],l+=1),p.name&&(u[p.name]=u[h]),u.__length__+=1;return u},de=(e,t)=>{if(null===t||void 0===t?void 0:t.data){let r,s,i;try{const n=t.data.slice(0,10),o=e.find((e=>g(e).startsWith(n)));(null===o||void 0===o?void 0:o.inputs)?(r=o.name,s=p(o),i=ne([...o.inputs],t.data.substring(10))):t.data.startsWith("0x08c379a0")?(r="Error",s="Error(string)",i=ne([{name:"message",type:"string"}],t.data.substring(10))):t.data.startsWith("0x4e487b71")?(r="Panic",s="Panic(uint256)",i=ne([{name:"code",type:"uint256"}],t.data.substring(10))):console.error("No matching error abi found for error data",t.data)}catch(n){console.error(n)}r&&t.setDecodedProperties(r,s,i)}}}}]);