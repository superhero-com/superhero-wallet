"use strict";(self["webpackChunksuperhero_wallet"]=self["webpackChunksuperhero_wallet"]||[]).push([[9710],{62970(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){function o(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,i){function a(e){try{s(n.next(e))}catch(t){i(t)}}function c(e){try{s(n["throw"](e))}catch(t){i(t)}}function s(e){e.done?r(e.value):o(e.value).then(a,c)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(e){return function(t){return s([e,t])}}function s(i){if(r)throw new TypeError("Generator is already executing.");while(a)try{if(r=1,n&&(o=2&i[0]?n["return"]:i[0]?n["throw"]||((o=n["return"])&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(c){i=[6,c],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(t,"__esModule",{value:!0}),t.CryptoClient=void 0;var i=r(15406),a=r(31973),c=r(45949),s=function(){function e(){}return e.prototype.encryptAES=function(e,t){return n(this,void 0,void 0,function(){return o(this,function(r){return[2,(new c.AES).encryptString(e,t)]})})},e.prototype.decryptAES=function(e,t){return n(this,void 0,void 0,function(){return o(this,function(r){return[2,(new c.AES).decryptString(e,t)]})})},e.prototype.encryptAsymmetric=function(e,t){return n(this,void 0,void 0,function(){return o(this,function(e){throw new i.NotImplementedError(a.Domain.UTILS,"encryptAsymmetric() not Implemented")})})},e.prototype.decryptAsymmetric=function(e,t){return n(this,void 0,void 0,function(){return o(this,function(e){throw new i.NotImplementedError(a.Domain.UTILS,"decryptAsymmetric() not Implemented")})})},e.prototype.recoverPublicKeyFromSignature=function(){return n(this,void 0,void 0,function(){return o(this,function(e){throw new i.NotImplementedError(a.Domain.UTILS,"Recovering public key from signature not supported")})})},e}();t.CryptoClient=s},88681(e,t,r){var n=r(48287)["Buffer"],o=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),i=this&&this.__awaiter||function(e,t,r,n){function o(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,i){function a(e){try{s(n.next(e))}catch(t){i(t)}}function c(e){try{s(n["throw"](e))}catch(t){i(t)}}function s(e){e.done?r(e.value):o(e.value).then(a,c)}s((n=n.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(e){return function(t){return s([e,t])}}function s(i){if(r)throw new TypeError("Generator is already executing.");while(a)try{if(r=1,n&&(o=2&i[0]?n["return"]:i[0]?n["throw"]||((o=n["return"])&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(c){i=[6,c],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Ed25519CryptoClient=void 0;var c=r(14028),s=r(19444),u=r(34904),l=r(71474),f=r(87052),d=r(47623),h=r(62970);function p(e){return n.from(e).toString("hex")}var y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.encryptAsymmetric=function(e,t){return i(this,void 0,void 0,function(){var r,o,i,h,y;return a(this,function(a){return r=(0,u.convertPublicKeyToX25519)(n.from(t,"hex")),o=(0,l.generateKeyPair)(),i=new s.BLAKE2b(24),h=i.update(o.publicKey,32).update(r,32).digest(),y=(0,l.box)(r,o.secretKey,h,(0,d.isHex)(e)?n.from(e,"hex"):(0,f.encode)(e)),[2,p((0,c.concat)(o.publicKey,y))]})})},t.prototype.decryptAsymmetric=function(e,t){return i(this,void 0,void 0,function(){var r,o,i,c,f,h,p,y;return a(this,function(a){if(r=(0,u.convertSecretKeyToX25519)(n.from(t.privateKey,"hex")),o=(0,u.convertPublicKeyToX25519)(n.from(t.publicKey,"hex")),i=n.from(e,(0,d.isHex)(e)?"hex":"utf-8"),c=i.slice(0,32),f=i.slice(32),h=new s.BLAKE2b(24),p=h.update(c,32).update(o,32).digest(),y=(0,l.openBox)(c,r,p,f),null===y)throw new Error("Ed25519 decryption failed.");return[2,n.from(y).toString()]})})},t}(h.CryptoClient);t.Ed25519CryptoClient=y},97708(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.SubProtocolType=void 0,function(e){e["ACCOUNT"]="account",e["TOKEN"]="token"}(t.SubProtocolType||(t.SubProtocolType={}))},45949(e,t,r){var n=r(48287)["Buffer"],o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e["default"]=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return i(t,e),t},c=this&&this.__awaiter||function(e,t,r,n){function o(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,i){function a(e){try{s(n.next(e))}catch(t){i(t)}}function c(e){try{s(n["throw"](e))}catch(t){i(t)}}function s(e){e.done?r(e.value):o(e.value).then(a,c)}s((n=n.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(e){return function(t){return s([e,t])}}function s(i){if(r)throw new TypeError("Generator is already executing.");while(a)try{if(r=1,n&&(o=2&i[0]?n["return"]:i[0]?n["throw"]||((o=n["return"])&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(c){i=[6,c],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(t,"__esModule",{value:!0}),t.AES=void 0;var u=a(r(91565)),l=r(15406),f=r(31973),d=r(47623),h=function(){function e(e,t,r,n){void 0===e&&(e=256),void 0===t&&(t=1e4),void 0===r&&(r="aes-256-gcm"),void 0===n&&(n="hex"),this.AES_KEY_SIZE=e,this.KEY_DERIVATION_ITERATION_COUNT=t,this.ALGORITHM=r,this.encoding=n}return e.prototype.encryptString=function(e,t){return c(this,void 0,void 0,function(){var r,n,o,i,a,c;return s(this,function(s){switch(s.label){case 0:if(!e||0===e.length)throw new l.ConditionViolationError(f.Domain.UTILS,"you must pass an input message");if(!t||0===t.length)throw new l.ConditionViolationError(f.Domain.UTILS,"you must pass a privateKey");return[4,this.deriveKeyFromPrivateKey(t)];case 1:return r=s.sent(),n=u.randomBytes(16),o=n.toString(this.encoding),i=u.createCipheriv(this.ALGORITHM,r,n),a=i.update(e,"utf8",this.encoding),a+=i.final(this.encoding),c=i.getAuthTag().toString(this.encoding),[2,"".concat(o,"!").concat(a,"!").concat(c)]}})})},e.prototype.decryptString=function(e,t){return c(this,void 0,void 0,function(){var r,o,i,a,c,d,h,p,y;return s(this,function(s){switch(s.label){case 0:if(!e||0===e.length)return[2,e];if(!t||0===t.length)throw new l.ConditionViolationError(f.Domain.UTILS,"you must pass a privateKey");if(r=e.split("!"),3!==r.length)throw new l.ConditionViolationError(f.Domain.UTILS,"The encrypted value is not in a valid format");return o=r[0],i=r[1],a=r[2],c=n.from(o,this.encoding),[4,this.deriveKeyFromPrivateKey(t)];case 1:if(d=s.sent(),h=n.from(a,this.encoding),16!==c.length)throw new l.InvalidValueError(f.Domain.UTILS,"The IV length is invalid");if(32!==d.length)throw new l.InvalidValueError(f.Domain.UTILS,"The key length is invalid");if(16!==h.length)throw new l.InvalidValueError(f.Domain.UTILS,"The authtag length is invalid");return p=u.createDecipheriv(this.ALGORITHM,d,c),p.setAuthTag(h),y=p.update(i,this.encoding,"utf8"),y+=p.final("utf8"),[2,y]}})})},e.prototype.deriveKeyFromPrivateKey=function(e){var t=this,r=(0,d.isHex)(e)?n.from(e,"hex"):e;return new Promise(function(e,n){u.pbkdf2(r,"",t.KEY_DERIVATION_ITERATION_COUNT,32,"sha512",function(t,r){t&&n(t),e(r)})})},e}();t.AES=h},96548(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isNetworkEqual=void 0;var r=function(e,t){return e.name===t.name&&e.type===t.type&&e.rpcUrl===t.rpcUrl};t.isNetworkEqual=r},52928(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.ProtocolBlockExplorer=void 0;var r=function(){function e(e){this.blockExplorer=e}return e}();t.ProtocolBlockExplorer=r},54528(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.ProtocolNetwork=t.NetworkType=void 0;var n=r(53197),o=function(e){var t=n("sha256");return t.update(e),t.digest("base64").slice(0,10)};(function(e){e["MAINNET"]="MAINNET",e["TESTNET"]="TESTNET",e["CUSTOM"]="CUSTOM"})(t.NetworkType||(t.NetworkType={}));var i=function(){function e(e,t,r,n,o){this.name=e,this.type=t,this.rpcUrl=r,this.blockExplorer=n,this.extras=o}return Object.defineProperty(e.prototype,"identifier",{get:function(){var e=o("".concat(this.name,"-").concat(this.rpcUrl));return"".concat(this.type,"-").concat(e)},enumerable:!1,configurable:!0}),e}();t.ProtocolNetwork=i},7519(e,t){var r,n;function o(e){return Object.values(r).includes(e)}function i(e){return Object.values(n).includes(e)}function a(e){return o(e)||i(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isProtocolSymbol=t.isSubProtocolSymbol=t.isMainProtocolSymbol=t.SubProtocolSymbols=t.MainProtocolSymbols=void 0,function(e){e["ACURAST"]="acurast",e["AE"]="ae",e["BTC"]="btc",e["BTC_SEGWIT"]="btc_segwit",e["ETH"]="eth",e["XTZ"]="xtz",e["XTZ_SHIELDED"]="xtz_shielded",e["GRS"]="grs",e["COSMOS"]="cosmos",e["POLKADOT"]="polkadot",e["KUSAMA"]="kusama",e["MOONBASE"]="moonbase",e["MOONRIVER"]="moonriver",e["MOONBEAM"]="moonbeam",e["ASTAR"]="astar",e["SHIDEN"]="shiden",e["ICP"]="icp",e["ICP_CKBTC"]="icp_ckbtc",e["COREUM"]="coreum",e["OPTIMISM"]="optimism",e["MINA"]="mina",e["STELLAR"]="stellar"}(r=t.MainProtocolSymbols||(t.MainProtocolSymbols={})),function(e){e["XTZ_KT"]="xtz-kt",e["XTZ_BTC"]="xtz-btc",e["XTZ_USD"]="xtz-usd",e["XTZ_KUSD"]="xtz-kusd",e["XTZ_STKR"]="xtz-stkr",e["XTZ_ETHTZ"]="xtz-eth",e["XTZ_UUSD"]="xtz-uusd",e["XTZ_YOU"]="xtz-you",e["XTZ_W"]="xtz-w",e["XTZ_UDEFI"]="xtz-udefi",e["XTZ_UBTC"]="xtz-ubtc",e["XTZ_UXTZ"]="xtz-uxtz",e["XTZ_CTEZ"]="xtz-ctez",e["XTZ_PLENTY"]="xtz-plenty",e["XTZ_WRAP"]="xtz-wrap",e["XTZ_QUIPU"]="xtz-quipu",e["XTZ_DOGA"]="xtz-doga",e["XTZ_BTC_TEZ"]="xtz-btc-tez",e["XTZ_USDT"]="xtz-usdt",e["XTZ_SIRS"]="xtz-sirs",e["ETH_ERC20"]="eth-erc20",e["ETH_ERC20_XCHF"]="eth-erc20-xchf",e["OPTIMISM_ERC20"]="optimism-erc20",e["STELLAR_ASSET"]="stellar-asset"}(n=t.SubProtocolSymbols||(t.SubProtocolSymbols={})),t.isMainProtocolSymbol=o,t.isSubProtocolSymbol=i,t.isProtocolSymbol=a},72250(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.assertFields=t.assertNever=void 0;var n=r(15406),o=r(31973),i=function(e){};function a(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];r.forEach(function(i){if(void 0===t[i]||null===t[i])throw new n.ConditionViolationError(o.Domain.UTILS,"".concat(e,", required: ").concat(r.join(", "),", but ").concat(i," is missing."))})}t.assertNever=i,t.assertFields=a},41879(e,t,r){var n=r(48287)["Buffer"];Object.defineProperty(t,"__esModule",{value:!0});var o=r(53197),i=r(15406),a=r(31973),c=function(e){var t=o("sha256");return t.update(e),t.digest()},s=function(e){return c(c(e)).slice(0,4)},u={encode:function(e){n.isBuffer(e)||(e=n.from(e));var t=s(e),r=n.concat([e,t],e.length+4);return r.toString("base64")},decode:function(e){n.isBuffer(e)||(e=n.from(e,"base64"));var t=e.slice(0,-4),r=e.slice(-4),o=s(t);if(r[0]^o[0]|r[1]^o[1]|r[2]^o[2]|r[3]^o[3])throw new i.ConditionViolationError(a.Domain.UTILS,"bs64check checksum does not match");return t},checkSum:s};t["default"]=u},49110(e,t,r){var n=r(48287)["Buffer"];Object.defineProperty(t,"__esModule",{value:!0}),t.bufferFrom=void 0;var o=function(e,t){return n.from(e,t)};t.bufferFrom=o},47623(e,t,r){var n=r(48287)["Buffer"],o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.changeEndianness=t.bytesToHex=t.hexToBytes=t.toHexString=t.toHexStringRaw=t.toHexBuffer=t.isHex=t.stripHexPrefix=t.addHexPrefix=void 0;var i=o(r(31111)),a=r(55595),c="0x",s=new RegExp("^(".concat(c,")?[0-9a-fA-F]*$"));function u(e){return e.startsWith(c)}function l(e){return u(e)?e:c+e}function f(e){return u(e)?e.substring(2):e}function d(e){return s.test(e)}function h(e,t,r){return void 0===t&&(t=8),void 0===r&&(r="default"),n.from(p(e,t,r),"hex")}function p(e,t,r){return void 0===t&&(t=8),void 0===r&&(r="2sComplement"),new i.default(e).isPositive()?g(e,t):S(e,t,r)}function y(e,t,r){return void 0===t&&(t=8),void 0===r&&(r="default"),l(p(e,t,r))}function m(e,t){var r,o=void 0!==t?Math.ceil(t/8):void 0;if(r="string"===typeof e&&d(e)?n.from(f(e),"hex"):"string"!==typeof e?n.from(e):n.from([0]),void 0!==o&&r.length<o){var i=n.alloc(o,0),a=i.length-r.length;return r.copy(i,a),i}return r}function b(e,t){var r;if("string"===typeof e)r=e;else{var o=n.isBuffer(e)?e:n.from(e);r=o.toString("hex")}return(null===t||void 0===t?void 0:t.withPrefix)?l(r):r}function v(e){var t=f(e);t=t.length%2!==0?"0"+t:t;var r=t.match(/.{2}/g)||[];return r.reverse().join("")}function g(e,t){var r=e.toString(16);return P(r,t)}function S(e,t,r){switch(r){case"default":var n=e.toString(16);return n.startsWith("-")?"-".concat(P(n.substr(1),t)):P(n,t);case"2sComplement":var o=new i.default(2).pow(t).minus(new i.default(e).abs());return o.toString(16)}}function P(e,t){var r=Math.ceil(t/4),n=e.length>=r?e.length:r;return n=n%2===0?n:n+1,(0,a.padStart)(e,n,"0")}t.addHexPrefix=l,t.stripHexPrefix=f,t.isHex=d,t.toHexBuffer=h,t.toHexStringRaw=p,t.toHexString=y,t.hexToBytes=m,t.bytesToHex=b,t.changeEndianness=v},80844(e,t){function r(e,t){return!("object"!==typeof e||!e)&&Object.keys(t).every(function(r){return"optional"===t[r]||void 0!==e[r]})}function n(e){return r(e,{getContractAddress:"required",setContractAddress:"required"})}Object.defineProperty(t,"__esModule",{value:!0}),t.hasConfigurableContract=t.implementsInterface=void 0,t.implementsInterface=r,t.hasConfigurableContract=n},55595(e,t){function r(e,t,r){return t|=0,e.length>=t?e:(t-=e.length,t>r.length&&(r+=r.repeat(t/r.length)),r.slice(0,t)+e)}Object.defineProperty(t,"__esModule",{value:!0}),t.padStart=void 0,t.padStart=r},80598(e,t,r){var n=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__awaiter||function(e,t,r,n){function o(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,i){function a(e){try{s(n.next(e))}catch(t){i(t)}}function c(e){try{s(n["throw"](e))}catch(t){i(t)}}function s(e){e.done?r(e.value):o(e.value).then(a,c)}s((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(e){return function(t){return s([e,t])}}function s(i){if(r)throw new TypeError("Generator is already executing.");while(a)try{if(r=1,n&&(o=2&i[0]?n["return"]:i[0]?n["throw"]||((o=n["return"])&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(c){i=[6,c],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AirGapCoinWallet=t.TimeInterval=void 0;var c=a(r(31111)),s=r(54528),u=r(7519),l=r(34499);(function(e){e["HOURS"]="24h",e["DAYS"]="7d",e["MONTH"]="30d"})(t.TimeInterval||(t.TimeInterval={}));var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.getCurrentBalance=function(){return this.currentBalance},t.prototype.setCurrentBalance=function(e){this.currentBalance=e},t.prototype.getCurrentMarketPrice=function(){return this.currentMarketPrice},t.prototype.setCurrentMarketPrice=function(e){return o(this,void 0,void 0,function(){var t;return i(this,function(r){switch(r.label){case 0:return t=this,[4,this.protocol.getOptions()];case 1:return t.currentMarketPrice=r.sent().network.type===s.NetworkType.MAINNET?e:new c.default(0),[2]}})})},t.prototype._synchronize=function(){return o(this,void 0,void 0,function(){var e,t,r;return i(this,function(n){switch(n.label){case 0:return[4,Promise.all([this.balanceOf(),this.fetchCurrentMarketPrice()])];case 1:return e=n.sent(),t=e[0],r=e[1],this.setCurrentBalance(t),[4,this.setCurrentMarketPrice(r)];case 2:return n.sent(),[2]}})})},t.prototype.reset=function(){this.currentBalance=void 0,this.currentMarketPrice=void 0},t.prototype.fetchCurrentMarketPrice=function(e){return void 0===e&&(e="USD"),o(this,void 0,void 0,function(){var t;return i(this,function(r){switch(r.label){case 0:return[4,this.priceService.getCurrentMarketPrice(this.protocol,e)];case 1:return t=r.sent(),[4,this.setCurrentMarketPrice(t)];case 2:return r.sent(),[2,t]}})})},t.prototype.balanceOf=function(){return o(this,void 0,void 0,function(){var e,t,r,n,o,a,s;return i(this,function(i){switch(i.label){case 0:return[4,this.protocol.getIdentifier()];case 1:return e=i.sent(),e!==u.MainProtocolSymbols.BTC&&e!==u.MainProtocolSymbols.BTC_SEGWIT&&e!==u.MainProtocolSymbols.GRS||!this.isExtendedPublicKey?[3,3]:(r=c.default.bind,[4,this.protocol.getBalanceOfExtendedPublicKey(this.publicKey,0)]);case 2:return t=new(r.apply(c.default,[void 0,i.sent()])),[3,11];case 3:return e!==u.MainProtocolSymbols.XTZ_SHIELDED&&e!==u.MainProtocolSymbols.ICP?[3,5]:(n=c.default.bind,[4,this.protocol.getBalanceOfPublicKey(this.publicKey)]);case 4:return t=new(n.apply(c.default,[void 0,i.sent()])),[3,11];case 5:return this.addresses.length>0?(o=c.default.bind,[4,this.protocol.getBalanceOfAddresses(this.addressesToCheck())]):[3,7];case 6:return t=new(o.apply(c.default,[void 0,i.sent()])),[3,11];case 7:return this.isExtendedPublicKey?(a=c.default.bind,[4,this.protocol.getBalanceOfExtendedPublicKey(this.publicKey,0)]):[3,9];case 8:return t=new(a.apply(c.default,[void 0,i.sent()])),[3,11];case 9:return s=c.default.bind,[4,this.protocol.getBalanceOfPublicKey(this.publicKey)];case 10:t=new(s.apply(c.default,[void 0,i.sent()])),i.label=11;case 11:return this.setCurrentBalance(t),[2,t]}})})},t}(l.AirGapMarketWallet);t.AirGapCoinWallet=f},34499(e,t,r){var n=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__awaiter||function(e,t,r,n){function o(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,i){function a(e){try{s(n.next(e))}catch(t){i(t)}}function c(e){try{s(n["throw"](e))}catch(t){i(t)}}function s(e){e.done?r(e.value):o(e.value).then(a,c)}s((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(e){return function(t){return s([e,t])}}function s(i){if(r)throw new TypeError("Generator is already executing.");while(a)try{if(r=1,n&&(o=2&i[0]?n["return"]:i[0]?n["throw"]||((o=n["return"])&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(c){i=[6,c],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AirGapMarketWallet=void 0;var c=a(r(31111)),s=r(7519),u=r(66967),l=function(e){function t(t,r,n,o,i,a,c,s){var u=e.call(this,t,r,n,o,i,a,s)||this;return u.protocol=t,u.publicKey=r,u.isExtendedPublicKey=n,u.derivationPath=o,u.masterFingerprint=i,u.status=a,u.priceService=c,u.addressIndex=s,u}return n(t,e),t.prototype.addressesToCheck=function(){var e=void 0!==this.addressIndex?[this.addresses[this.addressIndex]]:this.addresses;return e},t.prototype.setProtocol=function(t){return o(this,void 0,void 0,function(){return i(this,function(r){switch(r.label){case 0:return[4,e.prototype.setProtocol.call(this,t)];case 1:return r.sent(),this.reset(),[4,this.synchronize()];case 2:return r.sent(),[2]}})})},t.prototype.synchronize=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o(this,void 0,void 0,function(){var t=this;return i(this,function(r){return void 0===this.synchronizePromise&&(this.synchronizePromise=this._synchronize.apply(this,e).finally(function(){t.synchronizePromise=void 0})),[2,this.synchronizePromise]})})},t.prototype.fetchTransactions=function(e,t){return o(this,void 0,void 0,function(){var r,n;return i(this,function(o){switch(o.label){case 0:return[4,this.protocol.getIdentifier()];case 1:return r=o.sent(),r!==s.MainProtocolSymbols.BTC&&r!==s.MainProtocolSymbols.BTC_SEGWIT&&r!==s.MainProtocolSymbols.GRS||!this.isExtendedPublicKey?[3,3]:[4,this.protocol.getTransactionsFromExtendedPublicKey(this.publicKey,e,t)];case 2:return n=o.sent(),[3,11];case 3:return r!==s.MainProtocolSymbols.XTZ_SHIELDED?[3,5]:[4,this.protocol.getTransactionsFromPublicKey(this.publicKey,e,t)];case 4:return n=o.sent(),[3,11];case 5:return this.addresses.length>0?[4,this.protocol.getTransactionsFromAddresses(this.addressesToCheck(),e,t)]:[3,7];case 6:return n=o.sent(),[3,11];case 7:return this.isExtendedPublicKey?[4,this.protocol.getTransactionsFromExtendedPublicKey(this.publicKey,e,t)]:[3,9];case 8:return n=o.sent(),[3,11];case 9:return[4,this.protocol.getTransactionsFromPublicKey(this.publicKey,e,t)];case 10:n=o.sent(),o.label=11;case 11:return[2,n]}})})},t.prototype.prepareTransaction=function(e,t,r,n){return void 0===n&&(n={}),this.isExtendedPublicKey?this.protocol.prepareTransactionFromExtendedPublicKey(this.publicKey,0,e,t,r,n):(this.addressIndex&&(n=Object.assign(n,{addressIndex:this.addressIndex})),this.protocol.prepareTransactionFromPublicKey(this.publicKey,e,t,r,n))},t.prototype.getMaxTransferValue=function(e,t,r){return void 0===r&&(r={}),o(this,void 0,void 0,function(){var n,o;return i(this,function(i){switch(i.label){case 0:return this.isExtendedPublicKey?(n=c.default.bind,[4,this.protocol.estimateMaxTransactionValueFromExtendedPublicKey(this.publicKey,e,t,r)]):[3,2];case 1:return[2,new(n.apply(c.default,[void 0,i.sent()]))];case 2:return this.addressIndex&&(r=Object.assign(r,{addressIndex:this.addressIndex})),o=c.default.bind,[4,this.protocol.estimateMaxTransactionValueFromPublicKey(this.publicKey,e,t,r)];case 3:return[2,new(o.apply(c.default,[void 0,i.sent()]))]}})})},t.prototype.estimateFees=function(e,t,r){return void 0===r&&(r={}),o(this,void 0,void 0,function(){return i(this,function(n){return this.isExtendedPublicKey?[2,this.protocol.estimateFeeDefaultsFromExtendedPublicKey(this.publicKey,e,t,r)]:(this.addressIndex&&(r=Object.assign(r,{addressIndex:this.addressIndex})),[2,this.protocol.estimateFeeDefaultsFromPublicKey(this.publicKey,e,t,r)])})})},t}(u.AirGapWallet);t.AirGapMarketWallet=l},90581(e,t,r){var n=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__awaiter||function(e,t,r,n){function o(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,i){function a(e){try{s(n.next(e))}catch(t){i(t)}}function c(e){try{s(n["throw"](e))}catch(t){i(t)}}function s(e){e.done?r(e.value):o(e.value).then(a,c)}s((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(e){return function(t){return s([e,t])}}function s(i){if(r)throw new TypeError("Generator is already executing.");while(a)try{if(r=1,n&&(o=2&i[0]?n["return"]:i[0]?n["throw"]||((o=n["return"])&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(c){i=[6,c],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AirGapNFTWallet=void 0;var c=a(r(31111)),s=r(54528),u=r(34499),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.currentBalance={},t.currentMarketPrice={},t}return n(t,e),t.prototype.getCurrentBalance=function(e){return this.currentBalance[e]},t.prototype.setCurrentBalance=function(e,t){this.currentBalance[t]=e},t.prototype.getCurrentMarketPrice=function(e){return this.currentMarketPrice[e]},t.prototype.setCurrentMarketPrice=function(e,t){return o(this,void 0,void 0,function(){var r,n;return i(this,function(o){switch(o.label){case 0:return r=this.getCurrentMarketPrice,n=t,[4,this.protocol.getOptions()];case 1:return r[n]=o.sent().network.type===s.NetworkType.MAINNET?e:new c.default(0),[2]}})})},t.prototype.synchronize=function(t){return void 0===t&&(t=[]),o(this,void 0,void 0,function(){return i(this,function(r){return[2,e.prototype.synchronize.call(this,t)]})})},t.prototype._synchronize=function(e){return void 0===e&&(e=[]),o(this,void 0,void 0,function(){var t=this;return i(this,function(r){switch(r.label){case 0:return[4,Promise.all(e.map(function(e){return o(t,void 0,void 0,function(){var t,r,n;return i(this,function(o){switch(o.label){case 0:return[4,Promise.all([this.balanceOf(e),this.fetchCurrentMarketPrice(e)])];case 1:return t=o.sent(),r=t[0],n=t[1],this.setCurrentBalance(r,e),[4,this.setCurrentMarketPrice(n,e)];case 2:return o.sent(),[2]}})})}))];case 1:return r.sent(),[2]}})})},t.prototype.reset=function(){this.currentBalance={},this.currentMarketPrice={}},t.prototype.fetchCurrentMarketPrice=function(e,t){return void 0===t&&(t="USD"),o(this,void 0,void 0,function(){var t;return i(this,function(r){switch(r.label){case 0:return t=new c.default(0),[4,this.setCurrentMarketPrice(t,e)];case 1:return r.sent(),[2,t]}})})},t.prototype.balanceOf=function(e){return o(this,void 0,void 0,function(){var t,r,n;return i(this,function(o){switch(o.label){case 0:return this.isExtendedPublicKey?(r=c.default.bind,[4,this.protocol.getBalanceOfExtendedPublicKey(this.publicKey,0,{assetID:e})]):[3,2];case 1:return t=new(r.apply(c.default,[void 0,o.sent()])),[3,4];case 2:return n=c.default.bind,[4,this.protocol.getBalanceOfPublicKey(this.publicKey,{addressIndex:this.addressIndex,assetID:e})];case 3:t=new(n.apply(c.default,[void 0,o.sent()])),o.label=4;case 4:return this.setCurrentBalance(t,e),[2,t]}})})},t}(u.AirGapMarketWallet);t.AirGapNFTWallet=l},66967(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){function o(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,i){function a(e){try{s(n.next(e))}catch(t){i(t)}}function c(e){try{s(n["throw"](e))}catch(t){i(t)}}function s(e){e.done?r(e.value):o(e.value).then(a,c)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(e){return function(t){return s([e,t])}}function s(i){if(r)throw new TypeError("Generator is already executing.");while(a)try{if(r=1,n&&(o=2&i[0]?n["return"]:i[0]?n["throw"]||((o=n["return"])&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(c){i=[6,c],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(t,"__esModule",{value:!0}),t.AirGapWallet=t.AirGapWalletStatus=void 0;var i=r(15406),a=r(31973),c=r(7519);(function(e){e["ACTIVE"]="active",e["HIDDEN"]="hidden",e["DELETED"]="deleted",e["TRANSIENT"]="transient"})(t.AirGapWalletStatus||(t.AirGapWalletStatus={}));var s=function(){function e(e,t,r,n,o,i,a){this.protocol=e,this.publicKey=t,this.isExtendedPublicKey=r,this.derivationPath=n,this.masterFingerprint=o,this.status=i,this.addressIndex=a,this.addresses=[]}return Object.defineProperty(e.prototype,"receivingPublicAddress",{get:function(){return this.addresses[void 0!==this.addressIndex?this.addressIndex:0]},enumerable:!1,configurable:!0}),e.prototype.setProtocol=function(e){return n(this,void 0,void 0,function(){var t;return o(this,function(r){switch(r.label){case 0:return[4,this.protocol.getIdentifier()];case 1:return t=r.sent(),[4,e.getIdentifier()];case 2:if(t!==r.sent())throw new i.ConditionViolationError(a.Domain.WALLET,"Can only set same protocol with a different network");return this.protocol=e,[2]}})})},e.prototype.deriveAddresses=function(e){return void 0===e&&(e=50),n(this,void 0,void 0,function(){var t,r,n,i,a,s,u;return o(this,function(o){switch(o.label){case 0:return this.isExtendedPublicKey?[4,this.protocol.getIdentifier()]:[3,6];case 1:return r=o.sent(),n=[c.MainProtocolSymbols.BTC,c.MainProtocolSymbols.BTC_SEGWIT,c.MainProtocolSymbols.GRS],i=n.some(function(e){return r.startsWith(e)}),a=this.derivationPath.split("/"),s=0,a[a.length-1].endsWith("'")||(s=Number.parseInt(a[a.length-1],10)),i?[4,Promise.all([this.protocol.getAddressesFromExtendedPublicKey(this.publicKey,0,e,s),this.protocol.getAddressesFromExtendedPublicKey(this.publicKey,1,e,s)])]:[3,3];case 2:return u=o.sent(),[3,5];case 3:return[4,this.protocol.getAddressesFromExtendedPublicKey(this.publicKey,0,1,s)];case 4:u=[o.sent()],o.label=5;case 5:return t=u.reduce(function(e,t){return e.concat(t)},[]),[3,8];case 6:return[4,this.protocol.getAddressesFromPublicKey(this.publicKey)];case 7:t=o.sent(),o.label=8;case 8:return[2,t.map(function(e){return e.address})]}})})},e.prototype.toJSON=function(){return n(this,void 0,void 0,function(){var e;return o(this,function(t){switch(t.label){case 0:return e={},[4,this.protocol.getIdentifier()];case 1:return e.protocolIdentifier=t.sent(),[4,this.protocol.getOptions()];case 2:return[2,(e.networkIdentifier=t.sent().network.identifier,e.publicKey=this.publicKey,e.isExtendedPublicKey=this.isExtendedPublicKey,e.derivationPath=this.derivationPath,e.addresses=this.addresses,e.masterFingerprint=this.masterFingerprint,e.status=this.status,e.addressIndex=this.addressIndex,e)]}})})},e}();t.AirGapWallet=s},69406(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.newAmount=void 0;var n=r(21515),o=r(66199);function i(e,t){if((0,o.isAmount)(e))return new n.AmountEnhanced(e.value,e.unit);var r=t;return new n.AmountEnhanced(e,r)}t.newAmount=i},40239(e,t){function r(e,t){return void 0===t&&(t="encoded"),{type:"priv",value:e,format:t}}function n(e,t){return void 0===t&&(t="encoded"),{type:"xpriv",value:e,format:t}}function o(e,t){return void 0===t&&(t="encoded"),{type:"pub",value:e,format:t}}function i(e,t){return void 0===t&&(t="encoded"),{type:"xpub",value:e,format:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.newExtendedPublicKey=t.newPublicKey=t.newExtendedSecretKey=t.newSecretKey=void 0,t.newSecretKey=r,t.newExtendedSecretKey=n,t.newPublicKey=o,t.newExtendedPublicKey=i},61514(e,t){function r(e,t){return void 0===t&&(t="encoded"),{value:e,format:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.newSignature=void 0,t.newSignature=r},81332(e,t){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};function n(e){return r(r({},e),{type:"unsigned"})}function o(e){return r(r({},e),{type:"signed"})}Object.defineProperty(t,"__esModule",{value:!0}),t.newSignedTransaction=t.newUnsignedTransaction=void 0,t.newUnsignedTransaction=n,t.newSignedTransaction=o},72313(e,t){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};function n(e){return r(r({},e),{type:"success"})}function o(e){return r(r({},e),{type:"info"})}function i(e){return r(r({},e),{type:"warning"})}function a(e){return r(r({},e),{type:"error"})}Object.defineProperty(t,"__esModule",{value:!0}),t.newErrorUIAlert=t.newWarningUIAlert=t.newInfoUIAlert=t.newSuccessUIAlert=void 0,t.newSuccessUIAlert=n,t.newInfoUIAlert=o,t.newWarningUIAlert=i,t.newErrorUIAlert=a},10124(e,t){function r(e){return{type:"plain",value:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.newPlainUIText=void 0,t.newPlainUIText=r},67573(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.bip32OfflineProtocolSchema=t.bip32BaseProtocolSchema=t.onlineProtocolSchema=t.offlineProtocolSchema=t.baseProtocolSchema=t.protocolSerializerSchema=t.normalizeToUndefined=t.protocolNetworkIdentifier=t.supportsWalletConnect=t.isTransactionStatusChecker=t.hasConfigurableTransactionInjector=t.canSignMessage=t.canEncryptAsymmetric=t.canEncryptAES=t.hasConfigurableContract=t.hasMultiAddressPublicKeys=t.canFetchDataForMultipleAddresses=t.canFetchDataForAddress=t.canGetTokenBalances=t.isMultiTokenSubProtocol=t.isMultisig=t.isSingleTokenSubProtocol=t.isSubProtocol=t.isBip32Protocol=t.isOnlineProtocol=t.isOfflineProtocol=t.isAnyProtocol=t.canSerializeProtocols=t.createSupportedProtocols=t.isExtendedPublicKey=t.isPublicKey=t.isExtendedSecretKey=t.isSecretKey=t.isAnyKey=t.implementsInterface=t.isAmount=t.ModuleNetworkRegistry=t.newSignedTransaction=t.newUnsignedTransaction=t.newSignature=t.newExtendedPublicKey=t.newPublicKey=t.newExtendedSecretKey=t.newSecretKey=t.newAmount=t.newPlainUIText=t.newErrorUIAlert=t.newWarningUIAlert=t.newInfoUIAlert=t.newSuccessUIAlert=void 0,t.walletConnectProtocolSchema=t.transactionStatusCheckerSchema=t.configurableTransactionInjectorSchema=t.signMessageOfflineSchema=t.signMessageBaseSchema=t.asymmetricEncryptionOfflineSchema=t.asymmetricEncryptionBaseSchema=t.aesEncryptionSchema=t.configurableContractProtocolSchema=t.multiAddressPublicKeyProtocolSchema=t.fetchDataForMultipleAddressesProtocolSchema=t.fetchDataForAddressProtocolSchema=t.getTokenBalancesSchema=t.multiTokenSubProtocolBaseSchema=t.singleTokenSubProtocolSchema=t.subProtocolSchema=t.bip32OnlineProtocolSchema=void 0;var n=r(69406);Object.defineProperty(t,"newAmount",{enumerable:!0,get:function(){return n.newAmount}});var o=r(40239);Object.defineProperty(t,"newExtendedPublicKey",{enumerable:!0,get:function(){return o.newExtendedPublicKey}}),Object.defineProperty(t,"newExtendedSecretKey",{enumerable:!0,get:function(){return o.newExtendedSecretKey}}),Object.defineProperty(t,"newPublicKey",{enumerable:!0,get:function(){return o.newPublicKey}}),Object.defineProperty(t,"newSecretKey",{enumerable:!0,get:function(){return o.newSecretKey}});var i=r(61514);Object.defineProperty(t,"newSignature",{enumerable:!0,get:function(){return i.newSignature}});var a=r(81332);Object.defineProperty(t,"newSignedTransaction",{enumerable:!0,get:function(){return a.newSignedTransaction}}),Object.defineProperty(t,"newUnsignedTransaction",{enumerable:!0,get:function(){return a.newUnsignedTransaction}});var c=r(72313);Object.defineProperty(t,"newErrorUIAlert",{enumerable:!0,get:function(){return c.newErrorUIAlert}}),Object.defineProperty(t,"newInfoUIAlert",{enumerable:!0,get:function(){return c.newInfoUIAlert}}),Object.defineProperty(t,"newSuccessUIAlert",{enumerable:!0,get:function(){return c.newSuccessUIAlert}}),Object.defineProperty(t,"newWarningUIAlert",{enumerable:!0,get:function(){return c.newWarningUIAlert}});var s=r(10124);Object.defineProperty(t,"newPlainUIText",{enumerable:!0,get:function(){return s.newPlainUIText}});var u=r(58919);Object.defineProperty(t,"ModuleNetworkRegistry",{enumerable:!0,get:function(){return u.ModuleNetworkRegistry}});var l=r(66199);Object.defineProperty(t,"isAmount",{enumerable:!0,get:function(){return l.isAmount}});var f=r(77932);Object.defineProperty(t,"implementsInterface",{enumerable:!0,get:function(){return f.implementsInterface}});var d=r(30608);Object.defineProperty(t,"isAnyKey",{enumerable:!0,get:function(){return d.isAnyKey}}),Object.defineProperty(t,"isExtendedPublicKey",{enumerable:!0,get:function(){return d.isExtendedPublicKey}}),Object.defineProperty(t,"isExtendedSecretKey",{enumerable:!0,get:function(){return d.isExtendedSecretKey}}),Object.defineProperty(t,"isPublicKey",{enumerable:!0,get:function(){return d.isPublicKey}}),Object.defineProperty(t,"isSecretKey",{enumerable:!0,get:function(){return d.isSecretKey}});var h=r(12491);Object.defineProperty(t,"canSerializeProtocols",{enumerable:!0,get:function(){return h.canSerializeProtocols}}),Object.defineProperty(t,"createSupportedProtocols",{enumerable:!0,get:function(){return h.createSupportedProtocols}}),Object.defineProperty(t,"protocolSerializerSchema",{enumerable:!0,get:function(){return h.protocolSerializerSchema}});var p=r(22772);Object.defineProperty(t,"normalizeToUndefined",{enumerable:!0,get:function(){return p.normalizeToUndefined}});var y=r(11743);Object.defineProperty(t,"aesEncryptionSchema",{enumerable:!0,get:function(){return y.aesEncryptionSchema}}),Object.defineProperty(t,"asymmetricEncryptionBaseSchema",{enumerable:!0,get:function(){return y.asymmetricEncryptionBaseSchema}}),Object.defineProperty(t,"asymmetricEncryptionOfflineSchema",{enumerable:!0,get:function(){return y.asymmetricEncryptionOfflineSchema}}),Object.defineProperty(t,"baseProtocolSchema",{enumerable:!0,get:function(){return y.baseProtocolSchema}}),Object.defineProperty(t,"bip32BaseProtocolSchema",{enumerable:!0,get:function(){return y.bip32BaseProtocolSchema}}),Object.defineProperty(t,"bip32OfflineProtocolSchema",{enumerable:!0,get:function(){return y.bip32OfflineProtocolSchema}}),Object.defineProperty(t,"bip32OnlineProtocolSchema",{enumerable:!0,get:function(){return y.bip32OnlineProtocolSchema}}),Object.defineProperty(t,"canEncryptAES",{enumerable:!0,get:function(){return y.canEncryptAES}}),Object.defineProperty(t,"canEncryptAsymmetric",{enumerable:!0,get:function(){return y.canEncryptAsymmetric}}),Object.defineProperty(t,"canFetchDataForAddress",{enumerable:!0,get:function(){return y.canFetchDataForAddress}}),Object.defineProperty(t,"canFetchDataForMultipleAddresses",{enumerable:!0,get:function(){return y.canFetchDataForMultipleAddresses}}),Object.defineProperty(t,"canGetTokenBalances",{enumerable:!0,get:function(){return y.canGetTokenBalances}}),Object.defineProperty(t,"canSignMessage",{enumerable:!0,get:function(){return y.canSignMessage}}),Object.defineProperty(t,"configurableContractProtocolSchema",{enumerable:!0,get:function(){return y.configurableContractProtocolSchema}}),Object.defineProperty(t,"configurableTransactionInjectorSchema",{enumerable:!0,get:function(){return y.configurableTransactionInjectorSchema}}),Object.defineProperty(t,"fetchDataForAddressProtocolSchema",{enumerable:!0,get:function(){return y.fetchDataForAddressProtocolSchema}}),Object.defineProperty(t,"fetchDataForMultipleAddressesProtocolSchema",{enumerable:!0,get:function(){return y.fetchDataForMultipleAddressesProtocolSchema}}),Object.defineProperty(t,"getTokenBalancesSchema",{enumerable:!0,get:function(){return y.getTokenBalancesSchema}}),Object.defineProperty(t,"hasConfigurableContract",{enumerable:!0,get:function(){return y.hasConfigurableContract}}),Object.defineProperty(t,"hasConfigurableTransactionInjector",{enumerable:!0,get:function(){return y.hasConfigurableTransactionInjector}}),Object.defineProperty(t,"hasMultiAddressPublicKeys",{enumerable:!0,get:function(){return y.hasMultiAddressPublicKeys}}),Object.defineProperty(t,"isAnyProtocol",{enumerable:!0,get:function(){return y.isAnyProtocol}}),Object.defineProperty(t,"isBip32Protocol",{enumerable:!0,get:function(){return y.isBip32Protocol}}),Object.defineProperty(t,"isMultisig",{enumerable:!0,get:function(){return y.isMultisig}}),Object.defineProperty(t,"isMultiTokenSubProtocol",{enumerable:!0,get:function(){return y.isMultiTokenSubProtocol}}),Object.defineProperty(t,"isOfflineProtocol",{enumerable:!0,get:function(){return y.isOfflineProtocol}}),Object.defineProperty(t,"isOnlineProtocol",{enumerable:!0,get:function(){return y.isOnlineProtocol}}),Object.defineProperty(t,"isSingleTokenSubProtocol",{enumerable:!0,get:function(){return y.isSingleTokenSubProtocol}}),Object.defineProperty(t,"isSubProtocol",{enumerable:!0,get:function(){return y.isSubProtocol}}),Object.defineProperty(t,"isTransactionStatusChecker",{enumerable:!0,get:function(){return y.isTransactionStatusChecker}}),Object.defineProperty(t,"multiAddressPublicKeyProtocolSchema",{enumerable:!0,get:function(){return y.multiAddressPublicKeyProtocolSchema}}),Object.defineProperty(t,"multiTokenSubProtocolBaseSchema",{enumerable:!0,get:function(){return y.multiTokenSubProtocolBaseSchema}}),Object.defineProperty(t,"offlineProtocolSchema",{enumerable:!0,get:function(){return y.offlineProtocolSchema}}),Object.defineProperty(t,"onlineProtocolSchema",{enumerable:!0,get:function(){return y.onlineProtocolSchema}}),Object.defineProperty(t,"protocolNetworkIdentifier",{enumerable:!0,get:function(){return y.protocolNetworkIdentifier}}),Object.defineProperty(t,"signMessageBaseSchema",{enumerable:!0,get:function(){return y.signMessageBaseSchema}}),Object.defineProperty(t,"signMessageOfflineSchema",{enumerable:!0,get:function(){return y.signMessageOfflineSchema}}),Object.defineProperty(t,"singleTokenSubProtocolSchema",{enumerable:!0,get:function(){return y.singleTokenSubProtocolSchema}}),Object.defineProperty(t,"subProtocolSchema",{enumerable:!0,get:function(){return y.subProtocolSchema}}),Object.defineProperty(t,"supportsWalletConnect",{enumerable:!0,get:function(){return y.supportsWalletConnect}}),Object.defineProperty(t,"transactionStatusCheckerSchema",{enumerable:!0,get:function(){return y.transactionStatusCheckerSchema}}),Object.defineProperty(t,"walletConnectProtocolSchema",{enumerable:!0,get:function(){return y.walletConnectProtocolSchema}})},58919(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.ModuleNetworkRegistry=void 0;var n=r(11743),o=function(){function e(e){var t;this.supportedNetworks=e.supportedNetworks.reduce(function(e,t){var r;return Object.assign(e,(r={},r[(0,n.protocolNetworkIdentifier)(t)]=t,r))},{});var r=null!==(t=e.defaultNetwork)&&void 0!==t?t:e.supportedNetworks[0];this.defaultNetworkId=r?(0,n.protocolNetworkIdentifier)(r):void 0}return e.prototype.findNetwork=function(e){var t=null!==e&&void 0!==e?e:this.defaultNetworkId;return t?this.supportedNetworks[t]:void 0},e}();t.ModuleNetworkRegistry=o},21515(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AmountEnhanced=void 0;var o=n(r(31111)),i=function(){function e(e,t){this.unit=t,this.bnValue=new o.default(e)}return Object.defineProperty(e.prototype,"value",{get:function(){return this.bnValue.toString(10)},enumerable:!1,configurable:!0}),e.prototype.convert=function(t,r){var n=this.blockchain(r),o=n.bnValue.shiftedBy(-r[t].decimals);return new e(o,t)},e.prototype.blockchain=function(t){if("blockchain"===this.unit)return new e(this.bnValue,this.unit);var r=this.bnValue.shiftedBy(t[this.unit].decimals);return new e(r,"blockchain")},e.prototype.toBigNumber=function(){return new o.default(this.value)},e.prototype.toJSON=function(){return{value:this.value,unit:this.unit}},e}();t.AmountEnhanced=i},66199(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.isAmount=void 0;var n=r(77932),o={value:"required",unit:"required"};function i(e){return(0,n.implementsInterface)(e,o)}t.isAmount=i},77932(e,t){function r(e,t){return!("object"!==typeof e||!e)&&Object.keys(t).every(function(r){return"optional"===t[r]||r in e})}Object.defineProperty(t,"__esModule",{value:!0}),t.implementsInterface=void 0,t.implementsInterface=r},30608(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.isExtendedPublicKey=t.isPublicKey=t.isExtendedSecretKey=t.isSecretKey=t.isAnyKey=void 0;var n=r(77932);function o(e){return(0,n.implementsInterface)(e,{type:"required",format:"required",value:"required"})&&("priv"===e.type||"xpriv"===e.type||"pub"===e.type||"xpub"===e.type)}function i(e){return o(e)&&"priv"===e.type}function a(e){return o(e)&&"xpriv"===e.type}function c(e){return o(e)&&"pub"===e.type}function s(e){return o(e)&&"xpub"===e.type}t.isAnyKey=o,t.isSecretKey=i,t.isExtendedSecretKey=a,t.isPublicKey=c,t.isExtendedPublicKey=s},12491(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.canSerializeProtocols=t.protocolSerializerSchema=t.createSupportedProtocols=void 0;var n=r(77932);function o(e,t){var r=new Set(Object.keys(e)),n=t?new Set(t):r,o=new Set(Array.from(r).concat(Array.from(r)));return Array.from(o).reduce(function(t,r){var o,a=n.has(r)?{type:"offline"}:void 0,c=e[r]?i(e[r]):void 0,s=void 0!==a&&void 0!==c?{type:"full",offline:a,online:c}:null!==a&&void 0!==a?a:c;return Object.assign(t,(o={},o[r]=s,o))},{})}function i(e){var t;return{type:"online",networks:null!==(t=e.supportedNetworks)&&void 0!==t?t:e}}function a(e){return(0,n.implementsInterface)(e,t.protocolSerializerSchema)}t.createSupportedProtocols=o,t.protocolSerializerSchema={serializeOfflineProtocol:"required",deserializeOfflineProtocol:"required",serializeOnlineProtocol:"required",deserializeOnlineProtocol:"required"},t.canSerializeProtocols=a},22772(e,t){function r(e){return null!==e?e:void 0}Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeToUndefined=void 0,t.normalizeToUndefined=r},11743(e,t,r){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.protocolNetworkIdentifier=t.supportsWalletConnect=t.isTransactionStatusChecker=t.hasConfigurableTransactionInjector=t.canSignMessage=t.canEncryptAsymmetric=t.canEncryptAES=t.hasConfigurableContract=t.hasMultiAddressPublicKeys=t.canFetchDataForMultipleAddresses=t.canFetchDataForAddress=t.canGetTokenBalances=t.isMultiTokenSubProtocol=t.isSingleTokenSubProtocol=t.isSubProtocol=t.isBip32Protocol=t.isOnlineProtocol=t.isOfflineProtocol=t.isAnyProtocol=t.isMultisig=t.walletConnectProtocolSchema=t.transactionStatusCheckerSchema=t.configurableTransactionInjectorSchema=t.signMessageOfflineSchema=t.signMessageBaseSchema=t.asymmetricEncryptionOfflineSchema=t.asymmetricEncryptionBaseSchema=t.aesEncryptionSchema=t.configurableContractProtocolSchema=t.multiAddressPublicKeyProtocolSchema=t.fetchDataForMultipleAddressesProtocolSchema=t.fetchDataForAddressProtocolSchema=t.getTokenBalancesSchema=t.multiTokenSubProtocolOnlineSchema=t.multiTokenSubProtocolBaseSchema=t.singleTokenSubProtocolSchema=t.subProtocolSchema=t.bip32OnlineProtocolSchema=t.bip32OfflineProtocolSchema=t.bip32BaseProtocolSchema=t.onlineProtocolSchema=t.offlineProtocolSchema=t.baseProtocolSchema=t.multisigSchema=void 0;var o=r(53197),i=r(77932);function a(e){return(0,i.implementsInterface)(e,t.multisigSchema)}function c(e){return s(e)||u(e)}function s(e){return(0,i.implementsInterface)(e,t.offlineProtocolSchema)}function u(e){return(0,i.implementsInterface)(e,t.onlineProtocolSchema)}function l(e){return(0,i.implementsInterface)(e,t.bip32OfflineProtocolSchema)}function f(e){return(0,i.implementsInterface)(e,t.bip32OnlineProtocolSchema)}function d(e){var t=!1;return s(e)&&(t=l(e)),u(e)&&t&&(t=f(e)),t}function h(e){return(0,i.implementsInterface)(e,t.subProtocolSchema)}function p(e){return(0,i.implementsInterface)(e,t.singleTokenSubProtocolSchema)}function y(e){var r=(0,i.implementsInterface)(e,t.multiTokenSubProtocolBaseSchema);return u(e)&&r&&(r=(0,i.implementsInterface)(e,t.multiTokenSubProtocolOnlineSchema)),r}function m(e){return(0,i.implementsInterface)(e,t.getTokenBalancesSchema)}function b(e){return(0,i.implementsInterface)(e,t.fetchDataForAddressProtocolSchema)}function v(e){return(0,i.implementsInterface)(e,t.fetchDataForMultipleAddressesProtocolSchema)}function g(e){return(0,i.implementsInterface)(e,t.multiAddressPublicKeyProtocolSchema)}function S(e){return(0,i.implementsInterface)(e,t.configurableContractProtocolSchema)}function P(e){return(0,i.implementsInterface)(e,t.aesEncryptionSchema)}function w(e){var r=(0,i.implementsInterface)(e,t.asymmetricEncryptionBaseSchema);return s(e)&&r&&(r=(0,i.implementsInterface)(e,t.asymmetricEncryptionOfflineSchema)),r}function T(e){var r=(0,i.implementsInterface)(e,t.signMessageBaseSchema);return s(e)&&r&&(r=(0,i.implementsInterface)(e,t.signMessageOfflineSchema)),r}function E(e){return(0,i.implementsInterface)(e,t.configurableTransactionInjectorSchema)}function I(e){return(0,i.implementsInterface)(e,t.transactionStatusCheckerSchema)}function _(e){return(0,i.implementsInterface)(e,t.walletConnectProtocolSchema)}t.multisigSchema={getMultisigStatus:"required"},t.baseProtocolSchema={getAddressFromPublicKey:"required",getDetailsFromTransaction:"required",getMetadata:"required"},t.offlineProtocolSchema=n(n({},t.baseProtocolSchema),{getCryptoConfiguration:"required",getKeyPairFromDerivative:"required",signTransactionWithSecretKey:"required"}),t.onlineProtocolSchema=n(n({},t.baseProtocolSchema),{broadcastTransaction:"required",getBalanceOfPublicKey:"required",getNetwork:"required",getTransactionFeeWithPublicKey:"required",getTransactionMaxAmountWithPublicKey:"required",getTransactionsForPublicKey:"required",prepareTransactionWithPublicKey:"required"}),t.bip32BaseProtocolSchema=n(n({},t.baseProtocolSchema),{deriveFromExtendedPublicKey:"required"}),t.bip32OfflineProtocolSchema=n(n(n({},t.bip32BaseProtocolSchema),t.offlineProtocolSchema),{getExtendedKeyPairFromDerivative:"required",deriveFromExtendedSecretKey:"required"}),t.bip32OnlineProtocolSchema=n(n({},t.bip32BaseProtocolSchema),t.onlineProtocolSchema),t.subProtocolSchema={getType:"required",mainProtocol:"required"},t.singleTokenSubProtocolSchema=n(n({},t.subProtocolSchema),{getContractAddress:"required"}),t.multiTokenSubProtocolBaseSchema=t.singleTokenSubProtocolSchema,t.multiTokenSubProtocolOnlineSchema=n(n({},t.multiTokenSubProtocolBaseSchema),t.onlineProtocolSchema),t.getTokenBalancesSchema={getTokenBalancesOfPublicKey:"required"},t.fetchDataForAddressProtocolSchema={getBalanceOfAddress:"required",getTransactionsForAddress:"required"},t.fetchDataForMultipleAddressesProtocolSchema={getBalanceOfAddresses:"required",getTransactionsForAddresses:"required"},t.multiAddressPublicKeyProtocolSchema={getInitialAddressesFromPublicKey:"required",getNextAddressFromPublicKey:"required"},t.configurableContractProtocolSchema={isContractValid:"required",getContractAddress:"required",setContractAddress:"required"},t.aesEncryptionSchema={decryptAESWithSecretKey:"required",encryptAESWithSecretKey:"required"},t.asymmetricEncryptionBaseSchema={encryptAsymmetricWithPublicKey:"required"},t.asymmetricEncryptionOfflineSchema=n(n({},t.asymmetricEncryptionBaseSchema),{decryptAsymmetricWithKeyPair:"required"}),t.signMessageBaseSchema={verifyMessageWithPublicKey:"required"},t.signMessageOfflineSchema=n(n({},t.signMessageBaseSchema),{signMessageWithKeyPair:"required"}),t.configurableTransactionInjectorSchema={getInjectorUrl:"required",setInjectorUrl:"required"},t.transactionStatusCheckerSchema={getTransactionStatus:"required"},t.walletConnectProtocolSchema={getWalletConnectChain:"required",prepareWalletConnectTransactionWithPublicKey:"required"},t.isMultisig=a,t.isAnyProtocol=c,t.isOfflineProtocol=s,t.isOnlineProtocol=u,t.isBip32Protocol=d,t.isSubProtocol=h,t.isSingleTokenSubProtocol=p,t.isMultiTokenSubProtocol=y,t.canGetTokenBalances=m,t.canFetchDataForAddress=b,t.canFetchDataForMultipleAddresses=v,t.hasMultiAddressPublicKeys=g,t.hasConfigurableContract=S,t.canEncryptAES=P,t.canEncryptAsymmetric=w,t.canSignMessage=T,t.hasConfigurableTransactionInjector=E,t.isTransactionStatusChecker=I,t.supportsWalletConnect=_;var O=function(e){var t=o("sha256");return t.update(e),t.digest("base64").slice(0,10)};function A(e){var t=O("".concat(e.name,"-").concat(e.rpcUrl));return"".concat(e.type,"-").concat(t)}t.protocolNetworkIdentifier=A},58184(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.validateSyncSchemeV2=t.validateSyncScheme=t.generateIdV2=t.generateId=t.Message=t.SerializerV3=t.Serializer=t.IACMessageType=void 0;var n=r(55433);Object.defineProperty(t,"IACMessageType",{enumerable:!0,get:function(){return n.IACMessageType}});var o=r(67602);Object.defineProperty(t,"Message",{enumerable:!0,get:function(){return o.Message}});var i=r(67809);Object.defineProperty(t,"Serializer",{enumerable:!0,get:function(){return i.Serializer}});var a=r(19317);Object.defineProperty(t,"generateIdV2",{enumerable:!0,get:function(){return a.generateIdV2}});var c=r(42618);Object.defineProperty(t,"validateSyncSchemeV2",{enumerable:!0,get:function(){return c.validateSyncScheme}});var s=r(20844);Object.defineProperty(t,"SerializerV3",{enumerable:!0,get:function(){return s.SerializerV3}});var u=r(89896);Object.defineProperty(t,"generateId",{enumerable:!0,get:function(){return u.generateId}});var l=r(38917);Object.defineProperty(t,"validateSyncScheme",{enumerable:!0,get:function(){return l.validateSyncScheme}})},40605(e,t,r){var n=r(48287)["Buffer"],o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e["default"]=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.IACProtocol=void 0;var c=a(r(68602)),s=a(r(21076)),u=r(15406),l=r(67178),f=r(22431),d=r(67809);function h(e,t){return e.currentPage-t.currentPage}var p=function(){function e(e){if(this.version=2,e instanceof f.FullPayload)this.payloadType=d.IACPayloadType.FULL,this.payload=e;else{if(!(e instanceof l.ChunkedPayload))throw new u.SerializerError(u.SerializerErrorType.PAYLOAD_TYPE_UNKNOWN,'Is neither "Full" nor "Chunked".');this.payloadType=d.IACPayloadType.CHUNKED,this.payload=e}}return e.prototype.decoded=function(){return[this.version,this.payloadType,this.payload]},e.prototype.encoded=function(e){return void 0===e&&(e=d.Serializer.getInstance()),c.encode(s.encode([this.version.toString(),this.payloadType.toString(),this.payload.asArray(e)]))},e.fromDecoded=function(t,r,n,o){void 0===r&&(r=0),void 0===n&&(n=0),void 0===o&&(o=d.Serializer.getInstance());var i=f.FullPayload.fromDecoded(t),a=i.asBuffer(o);if(r>0&&a.length>r){var c=[],s=a,u=a.length,h=0;while(h<u)c.push(s.slice(h,h+=n));return c.map(function(t,r){return new e(l.ChunkedPayload.fromDecoded({currentPage:r,total:c.length,payload:t}))})}return[new e(i)]},e.fromEncoded=function(t,r){void 0===r&&(r=d.Serializer.getInstance());var o,i,a=[];if(t.forEach(function(e){var t=s.decode(c.decode(e)),n=parseInt(t[1].toString(),10);if(i=null!==i&&void 0!==i?i:n,i!==n)throw new u.SerializerError(u.SerializerErrorType.PAYLOAD_TYPE_MISMATCH,'All types within a group must either be "full" or "chunked".');if(n===d.IACPayloadType.FULL){var h=t[2];o=f.FullPayload.fromEncoded(h,r)}else{if(n!==d.IACPayloadType.CHUNKED)throw new u.SerializerError(u.SerializerErrorType.PAYLOAD_TYPE_NOT_SUPPORTED,'Type "'.concat(n,'" is unknown.'));h=t[2];a.push(l.ChunkedPayload.fromEncoded(h))}}),!o){var p=a.sort(h),y=p.map(function(e){return e.buffer}),m={availablePages:p.map(function(e){return e.currentPage}),totalPages:p[0].total};if(m.availablePages.length<m.totalPages)throw m;o=f.FullPayload.fromEncoded(s.decode(n.concat(y)),r)}return[new e(o)]},e}();t.IACProtocol=p},55433(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.IACMessageType=void 0,function(e){e[e["AccountShareRequest"]=3]="AccountShareRequest",e[e["AccountShareResponse"]=4]="AccountShareResponse",e[e["TransactionSignRequest"]=5]="TransactionSignRequest",e[e["TransactionSignResponse"]=6]="TransactionSignResponse",e[e["MessageSignRequest"]=7]="MessageSignRequest",e[e["MessageSignResponse"]=8]="MessageSignResponse"}(t.IACMessageType||(t.IACMessageType={}))},67602(e,t,r){var n=r(48287)["Buffer"];Object.defineProperty(t,"__esModule",{value:!0}),t.Message=void 0;var o=r(15406),i=r(7519),a=r(55433),c=r(67809),s=r(19317),u=r(43980),l=10,f=function(){function e(e,t,r,n,o,i){void 0===n&&(n=(0,s.generateIdV2)(l)),void 0===o&&(o="1"),void 0===i&&(i=c.Serializer.getInstance()),this.id=n,this.type=e,this.protocol=t,this.payload=r,this.version=o;var a=i.getSchema(this.type,this.protocol);this.schema=(0,u.unwrapSchema)(a.schema)}return e.prototype.asJson=function(){return{type:this.type,protocol:this.protocol,id:this.id,payload:this.payload}},e.prototype.asArray=function(){var e=(0,u.jsonToArray)("root",this.schema,this.payload);return[this.version,this.type.toString(),this.protocol,e,this.id]},e.fromDecoded=function(t,r){return void 0===r&&(r=c.Serializer.getInstance()),new e(t.type,t.protocol,t.payload,t.id,void 0,r)},e.fromEncoded=function(t,r){void 0===r&&(r=c.Serializer.getInstance());var o=this.parseVersion(t[0]),i=this.parseType(t[1]),a=this.parseProtocol(t[2]),f="0"===o?n.from((0,s.generateIdV2)(l)):t[4],d=this.parseId(f),h=this.parsePayload(t[3]),p=c.Serializer.getSchema(i,a),y=(0,u.unwrapSchema)(p.schema),m=p.transformer,b=(0,u.rlpArrayToJson)(y,h),v=m?m(b):b;return new e(i,a,v,d,o,r)},e.parseVersion=function(e){return this.validateProperty("Version",e,function(e){return e.toString()},function(e){return"0"===e||"1"===e})},e.parseType=function(e){return this.validateProperty("Type",e,function(e){return parseInt(e.toString(),10)},function(e){return Object.values(a.IACMessageType).includes(e)})},e.parseProtocol=function(e){return this.validateProperty("Protocol",e,function(e){return e.toString()},function(e){return 0===e.length||Object.values(i.MainProtocolSymbols).some(function(t){return e.split("-")[0]===t})})},e.parseId=function(e){return this.validateProperty("Id",e,function(e){return e.toString()},function(e){return e.length===l})},e.parsePayload=function(e){return this.validateProperty("Payload",e,function(e){return e},function(){return!0})},e.validateProperty=function(e,t,r,n){if("undefined"===typeof t)throw new o.SerializerError(o.SerializerErrorType.PROPERTY_IS_EMPTY,"".concat(e," is empty"));var i=r(t);if(n(i))return i;throw new o.SerializerError(o.SerializerErrorType.PROPERTY_IS_EMPTY,"".concat(e,' is invalid: "').concat(i,'"'))},e}();t.Message=f},67178(e,t,r){var n=r(48287)["Buffer"];Object.defineProperty(t,"__esModule",{value:!0}),t.ChunkedPayload=void 0;var o=r(15406);function i(e){return Array.isArray(e)&&e.every(function(e){return e instanceof n})}function a(e){return!!c(e)&&(void 0!==e.currentPage&&void 0!==e.total&&void 0!==e.payload)}function c(e){return"object"===typeof e}function s(e){return parseInt(e.toString(),10)}var u=function(){function e(e,t,r){this.currentPage=e,this.total=t,this.buffer=r}return e.fromDecoded=function(t){if(!a(t))throw new o.SerializerError(o.SerializerErrorType.UNEXPECTED_PAYLOAD,'Object does not match "Chunked serializer" interface');return new e(t.currentPage,t.total,t.payload)},e.fromEncoded=function(t){if(!i(t))throw new o.SerializerError(o.SerializerErrorType.UNEXPECTED_PAYLOAD,"Input value is not a buffer array");if(3!==t.length)throw new o.SerializerError(o.SerializerErrorType.UNEXPECTED_PAYLOAD,"Input value does not have the right length");var r=s(t[0]),n=s(t[1]),a=t[2];return new e(r,n,a)},e.prototype.asArray=function(){return[this.currentPage.toString(),this.total.toString(),this.buffer]},e}();t.ChunkedPayload=u},22431(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e["default"]=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.FullPayload=void 0;var a=i(r(68602)),c=i(r(21076)),s=r(67602),u=r(67809),l=function(){function e(e){this.messages=e}return e.fromDecoded=function(t){return new e(t)},e.fromEncoded=function(t,r){void 0===r&&(r=u.Serializer.getInstance());var n=t.map(function(e){return s.Message.fromEncoded(e,r).asJson()});return new e(n)},e.prototype.asJson=function(){return this.messages},e.prototype.asArray=function(e){return void 0===e&&(e=u.Serializer.getInstance()),this.messages.map(function(t){return s.Message.fromDecoded(t,e).asArray()})},e.prototype.asBuffer=function(e){return void 0===e&&(e=u.Serializer.getInstance()),c.encode(this.asArray(e))},e.prototype.asString=function(e){return void 0===e&&(e=u.Serializer.getInstance()),a.encode(this.asBuffer(e))},e}();t.FullPayload=l},25631(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.SchemaTypes=void 0,function(e){e["STRING"]="string",e["NUMBER"]="number",e["INTEGER"]="integer",e["BOOLEAN"]="boolean",e["NULL"]="null",e["ARRAY"]="array",e["OBJECT"]="object",e["HEX_STRING"]="hexString"}(t.SchemaTypes||(t.SchemaTypes={}))},67809(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){function o(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,i){function a(e){try{s(n.next(e))}catch(t){i(t)}}function c(e){try{s(n["throw"](e))}catch(t){i(t)}}function s(e){e.done?r(e.value):o(e.value).then(a,c)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(e){return function(t){return s([e,t])}}function s(i){if(r)throw new TypeError("Generator is already executing.");while(a)try{if(r=1,n&&(o=2&i[0]?n["return"]:i[0]?n["throw"]||((o=n["return"])&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(c){i=[6,c],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Serializer=t.IACPayloadType=void 0;var i=r(15406),a=r(7519),c=r(40605),s=r(55433),u=r(8358),l=r(10702),f=r(95642);(function(e){e[e["FULL"]=0]="FULL",e[e["CHUNKED"]=1]="CHUNKED"})(t.IACPayloadType||(t.IACPayloadType={}));var d=function(){function e(){this.schemas=new Map,this.validators=new Map,this.addSchema(s.IACMessageType.AccountShareResponse,{schema:u}),this.addSchema(s.IACMessageType.MessageSignRequest,{schema:l}),this.addSchema(s.IACMessageType.MessageSignResponse,{schema:f})}return e.getInstance=function(){return void 0===e.instance&&(e.instance=new e),e.instance},e.addSchema=function(t,r,n){e.getInstance().addSchema(t,r,n)},e.prototype.addSchema=function(t,r,n){var o=e.getSchemaName(t,n);if(this.schemas.has(o))throw new i.SerializerError(i.SerializerErrorType.SCHEMA_ALREADY_EXISTS,"Schema ".concat(o," already exists"));this.schemas.set(o,r)},e.getSchema=function(t,r){return e.getInstance().getSchema(t,r)},e.prototype.getSchema=function(t,r){var n,o=e.getSchemaName(t,r);if(this.schemas.has(o))n=this.schemas.get(o);else if(void 0!==r){var a=r.split("-");if(a.length>=2)return this.getSchema(t,a[0])}if(n=null!==n&&void 0!==n?n:this.schemas.get(e.getSchemaName(t)),!n)throw new i.SerializerError(i.SerializerErrorType.SCHEMA_DOES_NOT_EXISTS,"Schema ".concat(o," does not exist"));return n},e.getSchemaName=function(e,t){var r="".concat(e,"-").concat(t);if(void 0!==t&&e===s.IACMessageType.TransactionSignRequest||e===s.IACMessageType.TransactionSignResponse){var n=r.split("-");if(n.length>=3&&"".concat(n[1],"-").concat(n[2])===a.SubProtocolSymbols.ETH_ERC20)return"".concat(e,"-").concat(a.SubProtocolSymbols.ETH_ERC20)}return t?"".concat(e,"-").concat(t):e.toString()},e.addValidator=function(t,r){e.getInstance().addValidator(t,r)},e.prototype.addValidator=function(e,t){this.validators.set(e,t)},e.prototype.serialize=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=0),n(this,void 0,void 0,function(){var n,a=this;return o(this,function(o){if(e.every(function(e){return a.getSchema(e.type,e.protocol)}))return n=c.IACProtocol.fromDecoded(JSON.parse(JSON.stringify(e)),t,r,this),[2,n.map(function(e){return e.encoded(a)})];throw new i.SerializerError(i.SerializerErrorType.SCHEMA_DOES_NOT_EXISTS,"Unknown schema")})})},e.prototype.deserialize=function(e){return n(this,void 0,void 0,function(){var t,r;return o(this,function(n){return t=c.IACProtocol.fromEncoded(e,this),r=t.map(function(e){return e.payload}).map(function(e){return e.asJson()}).reduce(function(e,t){return e.concat.apply(e,t)},[]),[2,r]})})},e.prototype.serializationValidatorByProtocolIdentifier=function(e){var t,r=Array.from(this.validators.keys()),n=r.find(function(t){return e===t}),o=r.find(function(t){return e.startsWith(t)}),i=this.validators.get(null!==(t=null!==n&&void 0!==n?n:o)&&void 0!==t?t:a.MainProtocolSymbols.ETH);if(!i)throw Error("Validator not registered for ".concat(e,", ").concat(n,", ").concat(o,", ").concat(i));return i.create()},e.instance=void 0,e}();t.Serializer=d},19317(e,t){function r(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=t.length,n="",o=0;o<e;o++)n+=t.charAt(Math.floor(Math.random()*r));return n}Object.defineProperty(t,"__esModule",{value:!0}),t.generateIdV2=void 0,t.generateIdV2=r},43980(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.rlpArrayToJson=t.jsonToArray=t.unwrapSchema=t.getDefinitionByRefPath=void 0;var n=r(15406),o=r(31973),i=r(72250),a=r(25631);function c(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=!1;r&&console.log.apply(console,e)}function s(e,t){var r=t.split("/").slice(-1)[0],n=e.definitions;return n[r]}function u(e){return c("UNWRAPPING SCHEMA",e),s(e,e.$ref)}function l(e,t,r){return new n.InvalidSchemaType("".concat(e,': expected type "').concat(t,'", but got "').concat(typeof r,'", value: ').concat("object"===typeof r?JSON.stringify(r):r))}function f(e,t,r,n){if("array"===t&&Array.isArray(r))return n(r);if(typeof r!==t||Array.isArray(r))throw l(e,t,r);return n(r)}function d(e){var t;return null!==(t=null===e||void 0===e?void 0:e.type)&&void 0!==t?t:"#/definitions/HexString"===(null===e||void 0===e?void 0:e.$ref)?a.SchemaTypes.HEX_STRING:a.SchemaTypes.STRING}function h(e,t,r){var o=d(t);switch(o){case a.SchemaTypes.STRING:return f(e,"string",r,function(t){if(c("Parsing key ".concat(e," as string, which results in ").concat(t)),t.startsWith("0x"))throw new n.InvalidString('string "'.concat(r,'" starts with "0x". This causes problems with RLP. Please use the "HexString" type instead of "string"'));return t});case a.SchemaTypes.HEX_STRING:return f(e,"string",r,function(t){if(c("Parsing key ".concat(e," as hex-string, which results in ").concat(t)),!t.startsWith("0x"))throw new n.InvalidHexString('"'.concat(r,'" does not start with "0x"'));return t.substr(2)});case a.SchemaTypes.NUMBER:case a.SchemaTypes.INTEGER:return f(e,"number",r,function(t){return c("Parsing key ".concat(e," as number, which results in ").concat(t.toString())),t.toString()});case a.SchemaTypes.BOOLEAN:return f(e,"boolean",r,function(t){return c("Parsing key ".concat(e," as boolean, which results in ").concat(t?"1":"0")),t?"1":"0"});case a.SchemaTypes.NULL:if("undefined"===typeof r)return c("Parsing key ".concat(e," as undefined, which results in ''")),"";throw l(e,"undefined",r);case a.SchemaTypes.ARRAY:return f(e,"array",r,function(r){return r.map(function(r,n){var o=t.items;return Array.isArray(o)?h(e,o[n],r):h(e,o,r)})});case a.SchemaTypes.OBJECT:return f(e,"object",r,function(r){for(var n=t.properties,o=Object.keys(n).sort(),i=[],a=0,s=o;a<s.length;a++){var u=s[a];i.push(h(u,n[u],r[u]))}return c("Parsing key ".concat(e," as object, which results in ").concat(i)),i});default:throw(0,i.assertNever)(o),new n.InvalidSchemaType}}function p(e,t){if("undefined"===typeof t)throw new n.InvalidPayloadError;var r=d(e);switch(r){case a.SchemaTypes.BOOLEAN:if(""!==t.toString())return"1"===t.toString();break;case a.SchemaTypes.STRING:return t.toString();case a.SchemaTypes.HEX_STRING:return"0x".concat(t.toString());case a.SchemaTypes.NUMBER:case a.SchemaTypes.INTEGER:if(""!==t.toString())return parseInt(t.toString(),10);break;case a.SchemaTypes.NULL:return;case a.SchemaTypes.ARRAY:return t.map(function(t,r){var n=e.items;return Array.isArray(n)?p(n[r],t):p(n,t)});case a.SchemaTypes.OBJECT:return y(e.properties,t);default:throw(0,i.assertNever)(r),new n.InvalidSchemaType}}function y(e,t){var r={};if(e.type===a.SchemaTypes.OBJECT){var i=e.properties;if(i)return y(i,t);throw new n.NotFoundError(o.Domain.SERIALIZER,"Schema not available.")}var s=Object.keys(e).sort();c(s);for(var u=0;u<s.length;u++){var l=s[u];c(e),r[l]=p(e[l],t[u])}return r}t.getDefinitionByRefPath=s,t.unwrapSchema=u,t.jsonToArray=h,t.rlpArrayToJson=y},42618(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){function o(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,i){function a(e){try{s(n.next(e))}catch(t){i(t)}}function c(e){try{s(n["throw"](e))}catch(t){i(t)}}function s(e){e.done?r(e.value):o(e.value).then(a,c)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(e){return function(t){return s([e,t])}}function s(i){if(r)throw new TypeError("Generator is already executing.");while(a)try{if(r=1,n&&(o=2&i[0]?n["return"]:i[0]?n["throw"]||((o=n["return"])&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(c){i=[6,c],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.validateSyncScheme=void 0;var a=i(r(31111)),c=r(71393),s=r(15406),u=r(31973);function l(e){return n(this,void 0,void 0,function(){var t;return o(this,function(r){return t={version:{presence:{allowEmpty:!1},numericality:{noStrings:!0,onlyInteger:!0,greaterThanOrEqualTo:0}},type:{presence:{allowEmpty:!1},numericality:{noStrings:!0,onlyInteger:!0,greaterThanOrEqualTo:0}},protocol:{presence:{allowEmpty:!1},type:"String",length:{minimum:1}},payload:{presence:{allowEmpty:!1},type:"Array"}},[2,(0,c.validate)(e,t)]})})}c.validators.type=function(e,t,r,n){if(null===e||"undefined"===typeof e)return null;if(!c.validators.type.checks[t])throw new s.NotFoundError(u.Domain.SERIALIZER,"Could not find validator for type ".concat(t));return c.validators.type.checks[t](e)?null:'is not of type "'.concat(t,'"')},c.validators.type.checks={Object:function(e){return(0,c.isObject)(e)&&!(0,c.isArray)(e)},Array:c.isArray,Integer:c.isInteger,Number:c.isNumber,String:c.isString,Date:c.isDate,Boolean:function(e){return"boolean"===typeof e},BigNumber:function(e){return a.default.isBigNumber(e)}},c.validators.isHexStringWithPrefix=function(e){if("string"!==typeof e)return"is not hex string";if(!e.startsWith("0x"))return"is not hex string";var t=e.substr(2);return 0===t.length||/[0-9A-F]/gi.test(t)?null:"is not hex string"},c.validators.isPublicKey=function(e){return"string"!==typeof e?"is not a valid public key: should be of type string":64!==e.length?"is not a valid public key: wrong length":/[0-9A-F]/gi.test(e)?null:"is not a valid public key: invalid characters"},t.validateSyncScheme=l},52677(e,t,r){var n=r(48287)["Buffer"],o=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e["default"]=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&o(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.IACMessageWrapper=void 0;var c=a(r(68602)),s=r(54220),u=r(92929),l=r(31205),f=r(83656),d=r(20844),h=3,p=function(){function e(e){this.version=h,this.payload=e}return e.prototype.decoded=function(){return[this.version,this.payload]},e.prototype.encoded=function(e){void 0===e&&(e=d.SerializerV3.getInstance());var t=[this.version,this.payload.asArray(e)],r=(0,s.encode)(t);console.log(r.toString("hex"));var o=(0,u.gzip)(r);return c.encode(n.from(o))},e.fromDecoded=function(t){var r=f.Payload.fromDecoded(t);return new e(r)},e.fromEncoded=function(t,r){void 0===r&&(r=d.SerializerV3.getInstance());var o=c.decode(t),i=(0,u.ungzip)(o),a=(0,s.decode)(n.from(i));if(parseInt(a[0].toString(),10)!==h)throw new Error("Unsupported version");if(a[1].some(function(e){return!(0,l.isMessageDefinitionArray)(e)}))throw new Error("Decoded message has wrong format");var p=a[1],y=f.Payload.fromEncoded(p,r);return new e(y)},e}();t.IACMessageWrapper=p},18800(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.IACMessageType=void 0,function(e){e[e["AccountShareRequest"]=3]="AccountShareRequest",e[e["AccountShareResponse"]=4]="AccountShareResponse",e[e["TransactionSignRequest"]=5]="TransactionSignRequest",e[e["TransactionSignResponse"]=6]="TransactionSignResponse",e[e["MessageSignRequest"]=7]="MessageSignRequest",e[e["MessageSignResponse"]=8]="MessageSignResponse"}(t.IACMessageType||(t.IACMessageType={}))},31205(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Message=t.isMessageDefinitionArray=void 0;var n=r(15406),o=r(20844),i=r(89896),a=r(44347);function c(e){return Array.isArray(e)&&5===e.length&&"number"===typeof e[0]&&"number"===typeof e[1]&&"string"===typeof e[2]&&"number"===typeof e[3]&&Array.isArray(e[4])}t.isMessageDefinitionArray=c;var s=function(){function e(e,t,r,n,o){void 0===n&&(n=(0,i.generateId)(i.ID_LENGTH)),void 0===o&&(o=1),this.id=n,this.type=e,this.protocol=t,this.payload=r,this.version=o}return e.prototype.asJson=function(){return{type:this.type,protocol:this.protocol,id:this.id,payload:this.payload}},e.prototype.asArray=function(e){void 0===e&&(e=o.SerializerV3.getInstance());for(var t,r=e.getSchemas(this.type,this.protocol),n=0,i=r;n<i.length;n++){var c=i[n];try{var s=(0,a.unwrapSchema)(c.schema),u=(0,a.jsonToArray)("root",s,this.payload);return[this.version,this.type,this.protocol,this.id,u]}catch(l){t=l}}if(t)throw t;throw new Error("NO SCHEMA FOUND")},e.fromDecoded=function(t){return new e(t.type,t.protocol,t.payload,t.id)},e.fromEncoded=function(t,r){void 0===r&&(r=o.SerializerV3.getInstance());for(var n=this.validateVersion(t[0]),i=this.validateProtocol(t[2],Array.from(r.getSupportedProtocols())),c=this.validateType(t[1],i,r),s=this.validateId(t[3]),u=this.validatePayload(t[4]),l=r.getSchemas(c,i),f=0,d=l;f<d.length;f++){var h=d[f];try{var p=(0,a.unwrapSchema)(h.schema),y=h.transformer,m=(0,a.rlpArrayToJson)(p,u),b=y?y(m):m;return new e(c,i,b,s,n)}catch(v){}}throw new Error("NO SCHEMA MATCHED")},e.validateVersion=function(e){return this.validateProperty("Version",e,function(e){return 0===e||1===e})},e.validateType=function(e,t,r){return void 0===r&&(r=o.SerializerV3.getInstance()),this.validateProperty("Type",e,function(e){try{return r.getSchemas(e,t),!0}catch(n){return!1}})},e.validateProtocol=function(e,t){return this.validateProperty("Protocol",e,function(e){return 0===e.length||t.some(function(t){return e===t||e.split("-")[0]===t})})},e.validateId=function(e){return this.validateProperty("Id",e,function(e){return e.toString().length<=i.ID_LENGTH})},e.validatePayload=function(e){return this.validateProperty("Payload",e,function(){return!0})},e.validateProperty=function(e,t,r){if("undefined"===typeof t)throw new n.SerializerError(n.SerializerErrorType.PROPERTY_IS_EMPTY,"".concat(e," is empty"));if(r(t))return t;throw new n.SerializerError(n.SerializerErrorType.PROPERTY_IS_EMPTY,"".concat(e,' is invalid: "').concat(t,'"'))},e}();t.Message=s},83656(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Payload=void 0;var n=r(31205),o=r(20844),i=function(){function e(e){this.messages=e}return e.fromDecoded=function(t){return new e(t)},e.fromEncoded=function(t,r){void 0===r&&(r=o.SerializerV3.getInstance());var i=t.map(function(e){return n.Message.fromEncoded(e,r).asJson()});return new e(i)},e.prototype.asJson=function(){return this.messages},e.prototype.asArray=function(e){return void 0===e&&(e=o.SerializerV3.getInstance()),this.messages.map(function(t){return n.Message.fromDecoded(t).asArray(e)})},e}();t.Payload=i},8570(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.SchemaTypes=void 0,function(e){e["STRING"]="string",e["NUMBER"]="number",e["INTEGER"]="integer",e["BOOLEAN"]="boolean",e["NULL"]="null",e["ARRAY"]="array",e["OBJECT"]="object"}(t.SchemaTypes||(t.SchemaTypes={}))},20844(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){function o(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,i){function a(e){try{s(n.next(e))}catch(t){i(t)}}function c(e){try{s(n["throw"](e))}catch(t){i(t)}}function s(e){e.done?r(e.value):o(e.value).then(a,c)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(e){return function(t){return s([e,t])}}function s(i){if(r)throw new TypeError("Generator is already executing.");while(a)try{if(r=1,n&&(o=2&i[0]?n["return"]:i[0]?n["throw"]||((o=n["return"])&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(c){i=[6,c],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(t,"__esModule",{value:!0}),t.SerializerV3=void 0;var i=r(15406),a=r(7519),c=r(52677),s=r(18800),u=r(50287),l=r(20967),f=r(88953),d=function(){function e(){this.schemas=new Map,this.validators=new Map,this.supportedProtocols=new Set,this.addSchema(s.IACMessageType.AccountShareResponse,{schema:u}),this.addSchema(s.IACMessageType.MessageSignRequest,{schema:l}),this.addSchema(s.IACMessageType.MessageSignResponse,{schema:f})}return e.getInstance=function(){return void 0===e.instance&&(e.instance=new e),e.instance},e.addSchema=function(t,r,n){e.getInstance().addSchema(t,r,n)},e.prototype.addSchema=function(t,r,n){var o,a=e.getSchemaName(t,n),c=null!==(o=this.schemas.get(a))&&void 0!==o?o:[];if(c.some(function(e){return e.schema===r.schema}))throw new i.SerializerError(i.SerializerErrorType.SCHEMA_ALREADY_EXISTS,"Schema ".concat(a," already exists"));c.push(r),this.schemas.set(a,c),n&&this.supportedProtocols.add(n)},e.getSchemas=function(t,r){return e.getInstance().getSchemas(t,r)},e.prototype.getSchemas=function(t,r){var n,o=e.getSchemaName(t,r);if(this.schemas.has(o))n=this.schemas.get(o);else if(void 0!==r){var a=r.split("-");if(a.length>=2)return this.getSchemas(t,a[0])}if(n=void 0!==n&&n.length>0?n:this.schemas.get(e.getSchemaName(t)),!n)throw new i.SerializerError(i.SerializerErrorType.SCHEMA_DOES_NOT_EXISTS,"Schema ".concat(o," does not exist"));return n},e.getSchemaName=function(e,t){var r="".concat(e,"-").concat(t);if(void 0!==t&&e===s.IACMessageType.TransactionSignRequest||e===s.IACMessageType.TransactionSignResponse){var n=r.split("-");if(n.length>=3&&"".concat(n[1],"-").concat(n[2])===a.SubProtocolSymbols.ETH_ERC20)return"".concat(e,"-").concat(a.SubProtocolSymbols.ETH_ERC20)}return t?"".concat(e,"-").concat(t):e.toString()},e.addValidator=function(t,r){e.getInstance().addValidator(t,r)},e.prototype.addValidator=function(e,t){this.validators.set(e,t)},e.prototype.getSupportedProtocols=function(){return this.supportedProtocols},e.prototype.serialize=function(e){return n(this,void 0,void 0,function(){var t,r=this;return o(this,function(n){if(e.every(function(e){return r.getSchemas(e.type,e.protocol).length>0}))return t=c.IACMessageWrapper.fromDecoded(JSON.parse(JSON.stringify(e))),[2,t.encoded(this)];throw new i.SerializerError(i.SerializerErrorType.SCHEMA_DOES_NOT_EXISTS,"Unknown schema")})})},e.prototype.deserialize=function(e){return n(this,void 0,void 0,function(){var t,r;return o(this,function(n){try{t=c.IACMessageWrapper.fromEncoded(e,this)}catch(o){throw new Error("Cannot decode data")}return r=t.payload.asJson(),[2,r]})})},e.prototype.serializationValidatorByProtocolIdentifier=function(e){var t,r=Array.from(this.validators.keys()),n=r.find(function(t){return e===t}),o=r.find(function(t){return e.startsWith(t)}),i=this.validators.get(null!==(t=null!==n&&void 0!==n?n:o)&&void 0!==t?t:a.MainProtocolSymbols.ETH);if(!i)throw Error("Validator not registered for ".concat(e,", ").concat(n,", ").concat(o,", ").concat(i));return i.create()},e.instance=void 0,e}();t.SerializerV3=d},89896(e,t){function r(e){void 0===e&&(e=t.ID_LENGTH);for(var r="0123456789",n=r.length,o="",i=0;i<e;i++)o+=r.charAt(Math.floor(Math.random()*n));return parseInt(o)}Object.defineProperty(t,"__esModule",{value:!0}),t.generateId=t.ID_LENGTH=void 0,t.ID_LENGTH=8,t.generateId=r},44347(e,t,r){var n=r(48287)["Buffer"];Object.defineProperty(t,"__esModule",{value:!0}),t.rlpArrayToJson=t.jsonToArray=t.unwrapSchema=t.getDefinitionByRefPath=void 0;var o,i=r(15406),a=r(31973),c=r(72250),s=r(8570),u=function(e){var t=/^[0-9a-fA-F]+$/;return!!t.test(e)};function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=!1;r&&console.log.apply(console,e)}function f(e,t){var r=t.split("/").slice(-1)[0],n=e.definitions;return n[r]}function d(e){return l("UNWRAPPING SCHEMA",e),f(e,e.$ref)}function h(e,t,r){return new i.InvalidSchemaType("".concat(e,': expected type "').concat(t,'", but got "').concat(typeof r,'", value: ').concat("object"===typeof r?JSON.stringify(r):r))}function p(e,t,r,n){if("array"===t&&Array.isArray(r))return n(r);if(typeof r!==t||Array.isArray(r))throw h(e,t,r);return n(r)}function y(e){var t;return null!==(t=null===e||void 0===e?void 0:e.type)&&void 0!==t?t:s.SchemaTypes.STRING}function m(e,t,r){var a=y(t);switch(a){case s.SchemaTypes.STRING:return p(e,"string",r,function(t){var r,i;if(l("Parsing key ".concat(e," as string, which results in ").concat(t)),t.startsWith("0x")){var a=t.slice(2);u(a)?a.length%2===0?(i=o.HEX_WITH_PREFIX_EVEN,r=n.from(a,"hex")):(i=o.HEX_WITH_PREFIX_ODD,r=n.from("0"+a,"hex")):(i=o.STRING_WITH_HEX_PREFIX,r=n.from(a))}else{if(!u(t))return t;t.length%2===0?(i=o.HEX_WITHOUT_PREFIX_EVEN,r=n.from(t,"hex")):(i=o.HEX_WITHOUT_PREFIX_ODD,r=n.from("0"+t,"hex"))}var c=n.from(i.toString(16).padStart(2,"0"),"hex"),s=n.concat([c,r]);return s});case s.SchemaTypes.NUMBER:case s.SchemaTypes.INTEGER:return p(e,"number",r,function(t){return l("Parsing key ".concat(e," as number, which results in ").concat(t.toString())),t});case s.SchemaTypes.BOOLEAN:return p(e,"boolean",r,function(t){return l("Parsing key ".concat(e," as boolean, which results in ").concat(t?"1":"0")),t});case s.SchemaTypes.NULL:if("undefined"===typeof r)return l("Parsing key ".concat(e," as undefined, which results in ''")),"";throw h(e,"undefined",r);case s.SchemaTypes.ARRAY:return p(e,"array",r,function(r){return r.map(function(r,n){var o=t.items;return Array.isArray(o)?m(e,o[n],r):m(e,o,r)})});case s.SchemaTypes.OBJECT:return p(e,"object",r,function(r){for(var n=t.properties,o=Object.keys(n).sort(),i=[],a=0,c=o;a<c.length;a++){var s=c[a];i.push(m(s,n[s],r[s]))}return l("Parsing key ".concat(e," as object, which results in ").concat(i)),i});default:throw(0,c.assertNever)(a),new i.InvalidSchemaType}}function b(e,t){if("undefined"===typeof t)throw new i.InvalidPayloadError;var r=y(e);switch(r){case s.SchemaTypes.BOOLEAN:if(""!==t.toString())return t;break;case s.SchemaTypes.STRING:if("string"===typeof t)return t;var n=parseInt(t.slice(0,1).toString("hex"),16);switch(n){case o.STRING_WITH_HEX_PREFIX:return"0x".concat(t.slice(1).toString());case o.HEX_WITH_PREFIX_EVEN:return"0x".concat(t.slice(1).toString("hex"));case o.HEX_WITHOUT_PREFIX_EVEN:return t.slice(1).toString("hex");case o.HEX_WITH_PREFIX_ODD:return"0x".concat(t.slice(1).toString("hex").slice(1));case o.HEX_WITHOUT_PREFIX_ODD:return t.slice(1).toString("hex").slice(1);default:throw(0,c.assertNever)(n),new Error("Cannot decode!")}case s.SchemaTypes.NUMBER:case s.SchemaTypes.INTEGER:if(""!==t.toString())return t;break;case s.SchemaTypes.NULL:return;case s.SchemaTypes.ARRAY:return t.map(function(t,r){var n=e.items;return Array.isArray(n)?b(n[r],t):b(n,t)});case s.SchemaTypes.OBJECT:return v(e.properties,t);default:throw(0,c.assertNever)(r),new i.InvalidSchemaType}}function v(e,t){var r={};if(e.type===s.SchemaTypes.OBJECT){var n=e.properties;if(n)return v(n,t);throw new i.NotFoundError(a.Domain.SERIALIZER,"Schema not available.")}var o=Object.keys(e).sort();l(o);for(var c=0;c<o.length;c++){var u=o[c];l(e),r[u]=b(e[u],t[c])}return r}(function(e){e[e["STRING_WITH_HEX_PREFIX"]=0]="STRING_WITH_HEX_PREFIX",e[e["HEX_WITH_PREFIX_EVEN"]=1]="HEX_WITH_PREFIX_EVEN",e[e["HEX_WITHOUT_PREFIX_EVEN"]=2]="HEX_WITHOUT_PREFIX_EVEN",e[e["HEX_WITH_PREFIX_ODD"]=3]="HEX_WITH_PREFIX_ODD",e[e["HEX_WITHOUT_PREFIX_ODD"]=4]="HEX_WITHOUT_PREFIX_ODD"})(o||(o={})),t.getDefinitionByRefPath=f,t.unwrapSchema=d,t.jsonToArray=m,t.rlpArrayToJson=v},38917(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){function o(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,i){function a(e){try{s(n.next(e))}catch(t){i(t)}}function c(e){try{s(n["throw"](e))}catch(t){i(t)}}function s(e){e.done?r(e.value):o(e.value).then(a,c)}s((n=n.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(e){return function(t){return s([e,t])}}function s(i){if(r)throw new TypeError("Generator is already executing.");while(a)try{if(r=1,n&&(o=2&i[0]?n["return"]:i[0]?n["throw"]||((o=n["return"])&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(c){i=[6,c],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.validateSyncScheme=void 0;var a=i(r(31111)),c=r(71393);function s(e){return n(this,void 0,void 0,function(){var t;return o(this,function(r){return t={version:{presence:{allowEmpty:!1},numericality:{noStrings:!0,onlyInteger:!0,greaterThanOrEqualTo:0}},type:{presence:{allowEmpty:!1},numericality:{noStrings:!0,onlyInteger:!0,greaterThanOrEqualTo:0}},protocol:{presence:{allowEmpty:!1},type:"String",length:{minimum:1}},payload:{presence:{allowEmpty:!1},type:"Array"}},[2,(0,c.validate)(e,t)]})})}c.validators.type=function(e,t,r,n){if(null===e||"undefined"===typeof e)return null;if(!c.validators.type.checks[t])throw new Error("Could not find validator for type ".concat(t));return c.validators.type.checks[t](e)?null:'is not of type "'.concat(t,'"')},c.validators.type.checks={Object:function(e){return(0,c.isObject)(e)&&!(0,c.isArray)(e)},Array:c.isArray,Integer:c.isInteger,Number:c.isNumber,String:c.isString,Date:c.isDate,Boolean:function(e){return"boolean"===typeof e},BigNumber:function(e){return a.default.isBigNumber(e)}},c.validators.isHexStringWithPrefix=function(e){if("string"!==typeof e)return"is not hex string";if(!e.startsWith("0x"))return"is not hex string";var t=e.substr(2);return 0===t.length||/[0-9A-F]/gi.test(t)?null:"is not hex string"},c.validators.isPublicKey=function(e){return"string"!==typeof e?"is not a valid public key: should be of type string":64!==e.length?"is not a valid public key: wrong length":/[0-9A-F]/gi.test(e)?null:"is not a valid public key: invalid characters"},t.validateSyncScheme=s},19511(e,t,r){var n=r(36556),o=n("ArrayBuffer.prototype.byteLength",!0),i=r(84670);e.exports=function(e){return i(e)?o?o(e):e.byteLength:NaN}},63696(e,t,r){r.d(t,{k:()=>a});var n=r(26186),o=r(16546),i=r(56627);class a extends o.E_{async authenticate(e){try{await this.internalAuthenticate(e)}catch(t){throw t instanceof o.I9&&(0,i.AA)(t.code)?new i.el(t.message,t.code):t}}async addResumeListener(e){return n.q.addListener("appStateChange",({isActive:t})=>{t&&(async()=>{try{const t=await this.checkBiometry();e(t)}catch(t){console.error(t)}})()})}}},56627(e,t,r){var n,o,i;function a(e){return"string"===typeof e&&Object.values(i).includes(e)}r.d(t,{AA:()=>a,UK:()=>i,el:()=>c,me:()=>n}),function(e){e[e["none"]=0]="none",e[e["touchId"]=1]="touchId",e[e["faceId"]=2]="faceId",e[e["fingerprintAuthentication"]=3]="fingerprintAuthentication",e[e["faceAuthentication"]=4]="faceAuthentication",e[e["irisAuthentication"]=5]="irisAuthentication"}(n||(n={})),function(e){e[e["weak"]=0]="weak",e[e["strong"]=1]="strong"}(o||(o={})),function(e){e["none"]="",e["appCancel"]="appCancel",e["authenticationFailed"]="authenticationFailed",e["invalidContext"]="invalidContext",e["notInteractive"]="notInteractive",e["passcodeNotSet"]="passcodeNotSet",e["systemCancel"]="systemCancel",e["userCancel"]="userCancel",e["userFallback"]="userFallback",e["biometryLockout"]="biometryLockout",e["biometryNotAvailable"]="biometryNotAvailable",e["biometryNotEnrolled"]="biometryNotEnrolled",e["noDeviceCredential"]="noDeviceCredential"}(i||(i={}));class c extends Error{constructor(e,t){super(e),this.code=t,this.name="BiometryError",Object.setPrototypeOf(this,c.prototype)}}},76885(e,t,r){r.d(t,{LS:()=>o});var n=r(16546);r(56627),r(33535);const o=(0,n.F3)("BiometricAuthNative",{web:async()=>{const e=await Promise.all([r.e(7993),r.e(1247),r.e(3798),r.e(4234),r.e(3556),r.e(9662),r.e(9580),r.e(1242),r.e(6078),r.e(2113),r.e(9121),r.e(6311),r.e(9710),r.e(2694),r.e(8547),r.e(7144),r.e(4897),r.e(2252),r.e(2475),r.e(6772),r.e(3169),r.e(683),r.e(4854),r.e(6615),r.e(1540),r.e(5634),r.e(5081),r.e(950),r.e(3284),r.e(8685),r.e(9735),r.e(2255),r.e(3813),r.e(4949),r.e(9456),r.e(4267),r.e(8563),r.e(783),r.e(2161),r.e(6037),r.e(8787),r.e(8033),r.e(2944),r.e(7733),r.e(7636),r.e(61),r.e(6513),r.e(6048),r.e(2466),r.e(9830),r.e(3429)]).then(r.bind(r,45055));return new e.BiometricAuthWeb},ios:async()=>{const e=await Promise.all([r.e(7993),r.e(1247),r.e(3798),r.e(4234),r.e(3556),r.e(9662),r.e(9580),r.e(1242),r.e(6078),r.e(2113),r.e(9121),r.e(6311),r.e(9710),r.e(2694),r.e(8547),r.e(7144),r.e(4897),r.e(2252),r.e(2475),r.e(6772),r.e(3169),r.e(683),r.e(4854),r.e(6615),r.e(1540),r.e(5634),r.e(5081),r.e(950),r.e(3284),r.e(8685),r.e(9735),r.e(2255),r.e(3813),r.e(4949),r.e(9456),r.e(4267),r.e(8563),r.e(783),r.e(2161),r.e(6037),r.e(8787),r.e(8033),r.e(2944),r.e(7733),r.e(7636),r.e(61),r.e(6513),r.e(6048),r.e(2466),r.e(9830),r.e(3429)]).then(r.bind(r,36322));return new e.BiometricAuthNative(o)},android:async()=>{const e=await Promise.all([r.e(7993),r.e(1247),r.e(3798),r.e(4234),r.e(3556),r.e(9662),r.e(9580),r.e(1242),r.e(6078),r.e(2113),r.e(9121),r.e(6311),r.e(9710),r.e(2694),r.e(8547),r.e(7144),r.e(4897),r.e(2252),r.e(2475),r.e(6772),r.e(3169),r.e(683),r.e(4854),r.e(6615),r.e(1540),r.e(5634),r.e(5081),r.e(950),r.e(3284),r.e(8685),r.e(9735),r.e(2255),r.e(3813),r.e(4949),r.e(9456),r.e(4267),r.e(8563),r.e(783),r.e(2161),r.e(6037),r.e(8787),r.e(8033),r.e(2944),r.e(7733),r.e(7636),r.e(61),r.e(6513),r.e(6048),r.e(2466),r.e(9830),r.e(3429)]).then(r.bind(r,36322));return new e.BiometricAuthNative(o)}})},36322(e,t,r){r.d(t,{BiometricAuthNative:()=>i});var n=r(63696),o=r(56627);class i extends n.k{constructor(e){super();const t=e;this.checkBiometry=t.checkBiometry,this.internalAuthenticate=t.internalAuthenticate}async checkBiometry(){return{isAvailable:!1,strongBiometryIsAvailable:!1,biometryType:o.me.none,biometryTypes:[],deviceIsSecure:!1,reason:"",code:o.UK.none,strongReason:"",strongCode:o.UK.none}}async internalAuthenticate(e){}async setBiometryType(e){console.warn("setBiometryType() is web only")}async setBiometryIsEnrolled(e){console.warn("setBiometryEnrolled() is web only")}async setDeviceIsSecure(e){console.warn("setDeviceIsSecure() is web only")}}},33535(e,t,r){r.d(t,{t:()=>i});var n=r(56627);const o={[n.me.none]:"",[n.me.touchId]:"Touch ID",[n.me.faceId]:"Face ID",[n.me.fingerprintAuthentication]:"Fingerprint Authentication",[n.me.faceAuthentication]:"Face Authentication",[n.me.irisAuthentication]:"Iris Authentication"};function i(e){return o[e]||""}},45055(e,t,r){r.d(t,{BiometricAuthWeb:()=>a});var n=r(63696),o=r(56627),i=r(33535);class a extends n.k{constructor(){super(...arguments),this.biometryType=o.me.none,this.biometryTypes=[],this.biometryIsEnrolled=!1,this.deviceIsSecure=!1}async checkBiometry(){const e=this.biometryType!==o.me.none,t=e&&this.biometryIsEnrolled;let r="",n=o.UK.none;return e?this.biometryIsEnrolled||(r="Biometry is not enrolled",n=o.UK.biometryNotEnrolled):(r="No biometry is available",n=o.UK.biometryNotAvailable),{isAvailable:t,strongBiometryIsAvailable:this.biometryIsEnrolled&&this.hasStrongBiometry(),biometryType:this.biometryType,biometryTypes:this.biometryTypes,deviceIsSecure:this.deviceIsSecure,reason:r,code:n}}hasStrongBiometry(){return this.biometryTypes.some(e=>e===o.me.faceId||e===o.me.touchId||e===o.me.fingerprintAuthentication)}async internalAuthenticate(e){const t=await this.checkBiometry();if(!t.isAvailable||!confirm((null===e||void 0===e?void 0:e.reason)||`Authenticate with ${t.biometryTypes.map(e=>(0,i.t)(e)).join(" or ")}?`)){if(null===e||void 0===e?void 0:e.allowDeviceCredential){if(t.deviceIsSecure){if(confirm("Authenticate with device security?"))return;throw new o.el("User cancelled",o.UK.userCancel)}if(t.isAvailable)throw new o.el("Device is not secure",o.UK.noDeviceCredential)}else if(!t.isAvailable)throw t.biometryType===o.me.none?new o.el("Biometry is not available",o.UK.biometryNotAvailable):new o.el("Biometry is not enrolled",o.UK.biometryNotEnrolled);throw new o.el("User cancelled",o.UK.userCancel)}}async setBiometryType(e){if(void 0===e)return;const t=Array.isArray(e)?e:[e];if(this.biometryTypes=[],this.biometryType=o.me.none,0!==t.length)if(s(t))this.biometryType=t[0],this.biometryType!==o.me.none&&(this.biometryTypes=t);else for(const[r,n]of t.entries())c(n)&&(this.biometryType===o.me.none?this.biometryTypes=[]:this.biometryTypes.push(n),0===r&&(this.biometryType=n))}async setBiometryIsEnrolled(e){this.biometryIsEnrolled=e}async setDeviceIsSecure(e){this.deviceIsSecure=e}}function c(e){return Object.values(o.me).includes(e)}function s(e){return e.every(e=>c(e))}},22674(e,t,r){r.d(t,{u:()=>a});var n=r(16546),o=r(38573);function i(e){return void 0!==e&&Object.keys(o.CA).includes(e)}class a extends n.E_{constructor(){super(...arguments),this.prefix="capacitor-storage_",this.sync=!1,this.access=o.T2.whenUnlocked}async setSynchronize(e){if(this.sync=e,"ios"===n.Ii.getPlatform())return this.setSynchronizeKeychain({sync:e})}async getSynchronize(){return this.sync}async setDefaultKeychainAccess(e){this.access=e}async tryOperation(e){try{return await e()}catch(t){if(t instanceof n.I9&&i(t.code))throw new o.aq(t.message,t.code);throw t}}async get(e,t=!0,r){if(e){const{data:i}=await this.tryOperation(async()=>this.internalGetItem({prefixedKey:this.prefixedKey(e),sync:null!==r&&void 0!==r?r:this.sync}));if(null===i)return null;if(t){const e=s(i);if(e)return e}try{return JSON.parse(i)}catch(n){throw new o.aq("Invalid data",o.CA.invalidData)}}return a.missingKey()}async getItem(e){if(e){const{data:t}=await this.tryOperation(async()=>this.internalGetItem({prefixedKey:this.prefixedKey(e),sync:this.sync}));return t}return null}async set(e,t,r=!0,n,o){if(e){let i=t;return r&&t instanceof Date&&(i=t.toISOString()),this.tryOperation(async()=>this.internalSetItem({prefixedKey:this.prefixedKey(e),data:JSON.stringify(i),sync:null!==n&&void 0!==n?n:this.sync,access:null!==o&&void 0!==o?o:this.access}))}return a.missingKey()}async setItem(e,t){return e?this.tryOperation(async()=>this.internalSetItem({prefixedKey:this.prefixedKey(e),data:t,sync:this.sync,access:this.access})):a.missingKey()}async remove(e,t){if(e){const{success:r}=await this.tryOperation(async()=>this.internalRemoveItem({prefixedKey:this.prefixedKey(e),sync:null!==t&&void 0!==t?t:this.sync}));return r}return a.missingKey()}async removeItem(e){e?await this.tryOperation(async()=>this.internalRemoveItem({prefixedKey:this.prefixedKey(e),sync:this.sync})):a.missingKey()}async keys(e){const{keys:t}=await this.tryOperation(async()=>this.getPrefixedKeys({prefix:this.prefix,sync:null!==e&&void 0!==e?e:this.sync})),r=this.prefix.length;return t.map(e=>e.slice(r))}async getKeyPrefix(){return this.prefix}async setKeyPrefix(e){this.prefix=e}prefixedKey(e){return this.prefix+e}static missingKey(){throw new o.aq("No key provided",o.CA.missingKey)}}const c=/^"(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}).(\d{3})Z"$/u;function s(e){const t=c.exec(e);if(t){const e=Number.parseInt(t[1],10),r=Number.parseInt(t[2],10)-1,n=Number.parseInt(t[3],10),o=Number.parseInt(t[4],10),i=Number.parseInt(t[5],10),a=Number.parseInt(t[6],10),c=Number.parseInt(t[7],10),s=Date.UTC(e,r,n,o,i,a,c);return new Date(s)}return null}},38573(e,t,r){var n,o;r.d(t,{CA:()=>n,T2:()=>o,aq:()=>i}),function(e){e["missingKey"]="missingKey",e["invalidData"]="invalidData",e["osError"]="osError",e["unknownError"]="unknownError"}(n||(n={})),function(e){e[e["whenUnlocked"]=0]="whenUnlocked",e[e["whenUnlockedThisDeviceOnly"]=1]="whenUnlockedThisDeviceOnly",e[e["afterFirstUnlock"]=2]="afterFirstUnlock",e[e["afterFirstUnlockThisDeviceOnly"]=3]="afterFirstUnlockThisDeviceOnly",e[e["whenPasscodeSetThisDeviceOnly"]=4]="whenPasscodeSetThisDeviceOnly"}(o||(o={}));class i extends Error{constructor(e,t){super(e),this.name="StorageError",this.code=t}}},35087(e,t,r){r.d(t,{Bu:()=>i,T2:()=>o.T2});var n=r(16546),o=r(38573);const i=(0,n.F3)("SecureStorage",{web:async()=>{const e=await Promise.all([r.e(7993),r.e(1247),r.e(3798),r.e(4234),r.e(3556),r.e(9662),r.e(9580),r.e(1242),r.e(6078),r.e(2113),r.e(9121),r.e(6311),r.e(9710),r.e(2694),r.e(8547),r.e(7144),r.e(4897),r.e(2252),r.e(2475),r.e(6772),r.e(3169),r.e(683),r.e(4854),r.e(6615),r.e(1540),r.e(5634),r.e(5081),r.e(950),r.e(3284),r.e(8685),r.e(9735),r.e(2255),r.e(3813),r.e(4949),r.e(9456),r.e(4267),r.e(8563),r.e(783),r.e(2161),r.e(6037),r.e(8787),r.e(8033),r.e(2944),r.e(7733),r.e(7636),r.e(61),r.e(6513),r.e(6048),r.e(2466),r.e(9830),r.e(3429)]).then(r.bind(r,16109));return new e.SecureStorageWeb},ios:async()=>{const e=await Promise.all([r.e(7993),r.e(1247),r.e(3798),r.e(4234),r.e(3556),r.e(9662),r.e(9580),r.e(1242),r.e(6078),r.e(2113),r.e(9121),r.e(6311),r.e(9710),r.e(2694),r.e(8547),r.e(7144),r.e(4897),r.e(2252),r.e(2475),r.e(6772),r.e(3169),r.e(683),r.e(4854),r.e(6615),r.e(1540),r.e(5634),r.e(5081),r.e(950),r.e(3284),r.e(8685),r.e(9735),r.e(2255),r.e(3813),r.e(4949),r.e(9456),r.e(4267),r.e(8563),r.e(783),r.e(2161),r.e(6037),r.e(8787),r.e(8033),r.e(2944),r.e(7733),r.e(7636),r.e(61),r.e(6513),r.e(6048),r.e(2466),r.e(9830),r.e(3429)]).then(r.bind(r,14364));return new e.SecureStorageNative(i)},android:async()=>{const e=await Promise.all([r.e(7993),r.e(1247),r.e(3798),r.e(4234),r.e(3556),r.e(9662),r.e(9580),r.e(1242),r.e(6078),r.e(2113),r.e(9121),r.e(6311),r.e(9710),r.e(2694),r.e(8547),r.e(7144),r.e(4897),r.e(2252),r.e(2475),r.e(6772),r.e(3169),r.e(683),r.e(4854),r.e(6615),r.e(1540),r.e(5634),r.e(5081),r.e(950),r.e(3284),r.e(8685),r.e(9735),r.e(2255),r.e(3813),r.e(4949),r.e(9456),r.e(4267),r.e(8563),r.e(783),r.e(2161),r.e(6037),r.e(8787),r.e(8033),r.e(2944),r.e(7733),r.e(7636),r.e(61),r.e(6513),r.e(6048),r.e(2466),r.e(9830),r.e(3429)]).then(r.bind(r,14364));return new e.SecureStorageNative(i)}})},14364(e,t,r){r.d(t,{SecureStorageNative:()=>o});var n=r(22674);class o extends n.u{constructor(e){super();const t=e;this.setSynchronizeKeychain=t.setSynchronizeKeychain,this.internalGetItem=t.internalGetItem,this.internalSetItem=t.internalSetItem,this.internalRemoveItem=t.internalRemoveItem,this.clearItemsWithPrefix=t.clearItemsWithPrefix,this.getPrefixedKeys=t.getPrefixedKeys}async setSynchronizeKeychain(e){}async internalGetItem(e){return{data:""}}async internalSetItem(e){}async internalRemoveItem(e){return{success:!0}}async clear(e){return this.tryOperation(async()=>this.clearItemsWithPrefix({prefix:this.prefix,sync:null!==e&&void 0!==e?e:this.sync}))}async clearItemsWithPrefix(e){}async getPrefixedKeys(e){return{keys:[]}}}},16109(e,t,r){r.d(t,{SecureStorageWeb:()=>o});var n=r(22674);class o extends n.u{async setSynchronizeKeychain(e){}async internalGetItem(e){return{data:localStorage.getItem(e.prefixedKey)}}async internalSetItem(e){localStorage.setItem(e.prefixedKey,e.data)}async internalRemoveItem(e){const t=localStorage.getItem(e.prefixedKey);return null!==t?(localStorage.removeItem(e.prefixedKey),{success:!0}):{success:!1}}async clear(){const{keys:e}=await this.getPrefixedKeys({prefix:this.prefix});for(const t of e)localStorage.removeItem(t)}async clearItemsWithPrefix(e){console.warn("clearItemsWithPrefix is native only")}async getPrefixedKeys(e){const t=[];for(let r=0;r<localStorage.length;r++){const n=localStorage.key(r);(null===n||void 0===n?void 0:n.startsWith(e.prefix))&&t.push(n)}return{keys:t}}}},8358(e){e.exports=JSON.parse('{"$ref":"#/definitions/AccountShareResponse","$schema":"http://json-schema.org/draft-07/schema#","definitions":{"AccountShareResponse":{"additionalProperties":false,"properties":{"derivationPath":{"type":"string"},"isExtendedPublicKey":{"type":"boolean"},"publicKey":{"type":"string"}},"required":["publicKey","derivationPath","isExtendedPublicKey"],"type":"object"}}}')},10702(e){e.exports=JSON.parse('{"$ref":"#/definitions/MessageSignRequest","$schema":"http://json-schema.org/draft-07/schema#","definitions":{"MessageSignRequest":{"additionalProperties":false,"properties":{"callbackURL":{"type":"string"},"message":{"type":"string"},"publicKey":{"type":"string"}},"required":["message","publicKey"],"type":"object"}}}')},95642(e){e.exports=JSON.parse('{"$ref":"#/definitions/MessageSignResponse","$schema":"http://json-schema.org/draft-07/schema#","definitions":{"MessageSignResponse":{"additionalProperties":false,"properties":{"message":{"type":"string"},"publicKey":{"type":"string"},"signature":{"type":"string"}},"required":["message","publicKey","signature"],"type":"object"}}}')},50287(e){e.exports=JSON.parse('{"$ref":"#/definitions/AccountShareResponse","$schema":"http://json-schema.org/draft-07/schema#","definitions":{"AccountShareResponse":{"additionalProperties":false,"properties":{"derivationPath":{"type":"string"},"groupId":{"type":"string"},"groupLabel":{"type":"string"},"isActive":{"type":"boolean"},"isExtendedPublicKey":{"type":"boolean"},"masterFingerprint":{"type":"string"},"publicKey":{"type":"string"}},"required":["publicKey","derivationPath","isExtendedPublicKey","masterFingerprint","isActive","groupId","groupLabel"],"type":"object"}}}')},20967(e){e.exports=JSON.parse('{"$ref":"#/definitions/MessageSignRequest","$schema":"http://json-schema.org/draft-07/schema#","definitions":{"MessageSignRequest":{"additionalProperties":false,"properties":{"callbackURL":{"type":"string"},"message":{"type":"string"},"publicKey":{"type":"string"}},"required":["message","publicKey"],"type":"object"}}}')},88953(e){e.exports=JSON.parse('{"$ref":"#/definitions/MessageSignResponse","$schema":"http://json-schema.org/draft-07/schema#","definitions":{"MessageSignResponse":{"additionalProperties":false,"properties":{"message":{"type":"string"},"publicKey":{"type":"string"},"signature":{"type":"string"}},"required":["message","publicKey","signature"],"type":"object"}}}')}}]);